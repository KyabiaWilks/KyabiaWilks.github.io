"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[524],{48026:function(e,t,n){let l;n.d(t,{BI:function(){return tb},Xm:function(){return ty},Yj:function(){return tf},default:function(){return tw},x3:function(){return tj}});var i=n(57437),a=n(2265),o=n(99240),s=n(40191),r=n(95430),d=n(84338);let c=(0,r.Pi)(()=>{let{session:e}=(0,d.mZ)();return e.maintenanceState.isMaintenance||e.maintenanceState.isScheduledMaintenance?(0,i.jsx)(o.k,{width:"100%",py:"3",backgroundColor:e.maintenanceState.isMaintenance?"orange.700":"blue.700",justifyContent:"center",children:(0,i.jsx)(s.x,{color:"white",children:e.maintenanceState.message})}):null});var u=n(69548),p=n(87138),m=n(23627),x=n(39350),g=n(27129),h=n(1633),v=n(64874),f=n(92115),b=n(1225),y=n(92959),j=n(16829),w=n(40129),k=n(80524),C=n(52371),S=n(99295),N=n(16463),_=n(76684);let I=e=>{let{label:t,children:n}=e;return(0,i.jsx)(_.u,{fontFamily:"Neue Montreal",label:t,size:"sm",background:h.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:n})};var P=n(67561),E=n(87008);let M=(0,r.Pi)(e=>{let{handlePlayerTogglePlay:t,clip:n,inline:l=!1}=e,{playbar:a}=(0,d.mZ)();return(0,i.jsxs)(i.Fragment,{children:[l?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(I,{label:"Repeat 1",children:(0,i.jsx)("button",{"aria-label":"Playbar: Toggle repeat button",className:"block outline-none select-none p-1 rounded-md hover:bg-transparentWhite",onClick:()=>{a.toggleRepeat()},draggable:"false",children:(0,i.jsx)(E.ny,{className:"".concat(a.repeat?"fill-primary":"fill-lightGray"," w-[14px] h-[14px]")})})}),(0,i.jsx)("button",{"aria-label":"Playbar: Previous Song button",onClick:()=>{a.stepBackward()},className:"outline-none p-1 rounded-md",draggable:"false",children:(0,i.jsx)(E._0,{className:"w-6 h-6 fill-primary"})})]}),a.isPlaying?(0,i.jsx)("button",{"aria-label":"Playbar: Pause button",className:"w-[28px] h-[28px] flex outline-none justify-center items-center pl-[2px] pr-[5px] pb-[5px] pt-[9px] rounded-md",onClick:()=>{t()},children:(0,i.jsx)(E.fp,{className:"w-6 h-6 fill-primary"})}):(0,i.jsx)("button",{"aria-label":"Playbar: Play button",className:"w-[28px] h-[28px] flex justify-center outline-none px-[5px] pb-[5px] pt-1 rounded-md",onClick:()=>{n&&!a.isClipPreloaded?a.togglePlay():a.noClipPlayCallback&&a.noClipPlayCallback()},children:(0,i.jsx)(E.o1,{className:"w-6 h-6 fill-primary"})}),l?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("button",{"aria-label":"Playbar: Next Song button",className:"outline-none rounded-md",onClick:()=>{a.stepForward()},draggable:"false",children:(0,i.jsx)(E.EZ,{className:"w-6 h-6 fill-primary"})}),(0,i.jsx)(I,{label:"Autoplay",children:(0,i.jsx)("button",{draggable:"false","aria-label":"Playbar: Toggle autoplay button",className:"block select-none hover:bg-transparentWhite p-1 rounded-md",onClick:()=>{a.toggleAutoplay()},children:(0,i.jsx)(E.t2,{className:"".concat(a.autoplay?"fill-primary":"fill-lightGray"," w-[14px] h-[14px]")})})})]})]})}),O=(0,r.Pi)(e=>{var t,n,l,o,s,r,c,_,I,E,O,L,F,T,A,D,R,z,Z,B,U,V,q,W;let G,{width:K,truncate:Y=!1,hidden:H=!1,inline:X=!1,showScrubber:J=!0,clip:Q}=e,{playbar:$,clips:ee,session:et,edit:en,genForm:el}=(0,d.mZ)(),ei=(0,N.usePathname)(),ea=(0,N.useRouter)(),eo=a.useRef(null),es=a.useRef(null),er=(0,a.useRef)(null),ed=(0,a.useRef)(null),ec=(0,a.useRef)(null),eu=(0,a.useRef)(null),ep=Q||((null===(t=$.clip)||void 0===t?void 0:t.id)?ee.clipById[null===(n=$.clip)||void 0===n?void 0:n.id]:null),[em]=(0,b.a)("(max-width: 768px)");(0,a.useLayoutEffect)(()=>{eo.current&&!X&&$.setAudioElement(eo.current)},[eo.current]),(0,a.useLayoutEffect)(()=>{es.current&&!X&&$.setSilentAudioElement(es.current)},[es.current]),(0,a.useEffect)(()=>{new ResizeObserver(()=>{var e;let t=er.current?Math.floor((null===(e=er.current)||void 0===e?void 0:e.getBoundingClientRect().width)*Math.min($.currentTime/$.duration,1)):null;ed.current&&ec.current&&(ed.current.style.width="".concat(t,"px"),ec.current.style.left="".concat(t,"px"))}).observe(er.current)},[er.current]),(0,m.y1)("space",e=>{eg(),e.preventDefault()},[]);let ex={isMobile:em,hasClip:!!(null==ep?void 0:ep.id),clipId:(null==ep?void 0:ep.id)||void 0,isPlaying:$.isPlaying,clipCount:(null===(l=ee.clipIds)||void 0===l?void 0:l.length)||0,playlistCount:(null===(o=ee.playlistIds)||void 0===o?void 0:o.length)||0,allPlaylistIdsCount:(null===(s=ee.playlistIds)||void 0===s?void 0:s.length)||0,isUserSongOwner:(null==et?void 0:et.userId)!==void 0&&(null==et?void 0:et.userId)===(null==ep?void 0:ep.user_id)},eg=()=>{var e,t,n,l,i;let a=Q||((null===(e=$.clip)||void 0===e?void 0:e.id)?ee.clipById[null===(t=$.clip)||void 0===t?void 0:t.id]:null);$.loadingStream?v.g.track(f.Vy.audioPlayerWhileLoadingPlayClicked,ex):$.isPlaying?v.g.track(f.Vy.audioPlayerPauseClicked,ex):v.g.track(f.Vy.audioPlayerPlayClicked,{isMobile:em,hasClip:!!(null==a?void 0:a.id),clipId:(null==a?void 0:a.id)||void 0,isPlaying:$.isPlaying,clipCount:(null===(n=ee.clipIds)||void 0===n?void 0:n.length)||0,playlistCount:(null===(l=ee.playlistIds)||void 0===l?void 0:l.length)||0,allPlaylistIdsCount:(null===(i=ee.playlistIds)||void 0===i?void 0:i.length)||0,isUserSongOwner:(null==et?void 0:et.userId)!==void 0&&(null==et?void 0:et.userId)===(null==a?void 0:a.user_id),startTime:$.currentTime}),a&&!$.isClipPreloaded?$.togglePlay():$.noClipPlayCallback&&$.noClipPlayCallback()},[eh,ev]=(0,a.useState)(!1),[ef,eb]=(0,a.useState)(null),[ey,ej]=(0,a.useState)(!1),[ew,ek]=(0,a.useState)(""),[eC,eS]=(0,a.useState)(""),[eN,e_]=(0,a.useState)("trim"),[eI,eP]=(0,a.useState)(null),[eE,eM]=(0,a.useState)(null),[eO,eL]=(0,a.useState)(void 0),eF=(0,a.useRef)(null),eT=(0,u.q$)(((null===(r=en.selectionRange)||void 0===r?void 0:r.end)||0)-((null===(c=en.selectionRange)||void 0===c?void 0:c.start)||0),1);(0,a.useEffect)(()=>{(null==ep?void 0:ep.metadata.duration)&&$.loadingDuration&&($.setDuration(null==ep?void 0:ep.metadata.duration),$.setLoadingDuration(!1),$.setClip(ep))},[null==ep?void 0:ep.metadata.duration]),(0,a.useEffect)(()=>{null!=G&&(clearTimeout(G),G=null),G=setTimeout(()=>{var e,t;ek((0,u.L7)(Math.max((null===(e=en.selectionRange)||void 0===e?void 0:e.start)||0,0),1)),eS((0,u.L7)(Math.max((null===(t=en.selectionRange)||void 0===t?void 0:t.end)||0,0),1))},0)},[null===(_=en.selectionRange)||void 0===_?void 0:_.start,null===(I=en.selectionRange)||void 0===I?void 0:I.end]),(0,a.useEffect)(()=>{var e,t;en.clearSelectionRange(),ek((0,u.L7)(Math.max((null===(e=en.selectionRange)||void 0===e?void 0:e.start)||0,0),1)),eS((0,u.L7)(Math.max((null===(t=en.selectionRange)||void 0===t?void 0:t.end)||0,0),1))},[en.editingClipId]),(0,y.O)({ref:eu,handler:()=>{ey&&ej(!1)}}),(0,a.useEffect)(()=>{eh?document.body.classList.add("no-drag"):document.body.classList.remove("no-drag"),$.setIsDragging(eh)},[eh]),(0,a.useEffect)(()=>{eh||null===ef||eb(null)},[eh,ef]);let eA=(null===(E=en.selectionRange)||void 0===E?void 0:E.start)===void 0||(null===(O=en.selectionRange)||void 0===O?void 0:O.end)===void 0||eT<5||en.isLoading||(null==ep?void 0:ep.status)!=="complete",eD=(null===(L=en.selectionRange)||void 0===L?void 0:L.start)===void 0||(null===(F=en.selectionRange)||void 0===F?void 0:F.end)===void 0||eT<5||!!eO&&eT>eO||en.isLoading||(null==ep?void 0:ep.status)!=="complete",eR=[{key:"trim",name:"Trim",content:(0,i.jsx)(C.Z,{isDisabled:eA,onClick:()=>{"/create"!==ei&&ea.push("/create"),en.cropClip(),(0,d.Am)({title:"Adding trimmed clip to your library...",status:"success",duration:4e3,isClosable:!0})},text:"Trim",isLoading:en.isLoading})},...(null===(T=et.flags)||void 0===T?void 0:T["waveform-continue-from"])?[{key:"editsegment",name:"Edit Segment",maxSelectionSecs:60,content:(0,i.jsx)(C.Z,{isDisabled:eD,onClick:()=>{var e,t,n,l,i,a;"/create"!==ei&&ea.push("/create"),el.setContinueClip(ep),el.setContinueAtSeconds(el.continueClipDuration),el.setInfillFromSeconds((null===(e=en.selectionRange)||void 0===e?void 0:e.start)||null),el.setInfillToSeconds((null===(t=en.selectionRange)||void 0===t?void 0:t.end)||null),el.setStyle((null==ep?void 0:ep.metadata.tags)||""),el.setNegativeTags((null==ep?void 0:ep.metadata.negative_tags)||""),el.resetEnableExcludeStyle(),el.resetCoverClip(),el.resetArtistClip(),el.setTitle((null==ep?void 0:ep.title)?"[".concat((0,u.L7)((null===(n=en.selectionRange)||void 0===n?void 0:n.start)||0,1)," - ").concat((0,u.L7)((null===(l=en.selectionRange)||void 0===l?void 0:l.end)||0,1),"] ").concat(null==ep?void 0:ep.title.substring(0,60)):"[".concat((0,u.L7)((null===(i=en.selectionRange)||void 0===i?void 0:i.start)||0,1)," - ").concat((0,u.L7)((null===(a=en.selectionRange)||void 0===a?void 0:a.end)||0,1),"] Untitled")),el.setLyrics((null==ep?void 0:ep.metadata.prompt)||"")},text:"Select Segment",isLoading:en.isLoading})}]:[]];return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"".concat(X?"w-full":"w-[calc(100%-32px)] absolute bottom-0 ml-4 mr-4"," rounded-none lg:rounded-lg xl:rounded-lg bg-transparent z-50 ").concat(Y?"lg:w-[calc(100%-264px)] xl:w-[calc(100%-264px)]":""," ").concat(H?"hidden":""),children:(0,i.jsxs)("div",{className:"w-full ".concat(X?"":"md:pb-5"," bottom-0 h-auto z-5 min-w-[300px] bg-vinylBlack-darker rounded-t-xl"),onPointerMove:e=>{if(eh){var t,n;eb(Math.min(e.clientX,(null===(t=er.current)||void 0===t?void 0:t.getBoundingClientRect().left)+(null===(n=er.current)||void 0===n?void 0:n.getBoundingClientRect().width)))}},onPointerUp:()=>{if(eh&&ef&&(null==ep?void 0:ep.metadata.duration)){var e,t;ev(!1),eb(null);let n=ef-(null===(e=er.current)||void 0===e?void 0:e.getBoundingClientRect().left);$.userSetCurrentProgress(n/(null===(t=er.current)||void 0===t?void 0:t.getBoundingClientRect().width)*100),requestAnimationFrame(()=>{ed.current.style.width="".concat(n,"px"),ec.current.style.left="".concat(n,"px")})}},onPointerLeave:()=>{if(ef&&(null==ep?void 0:ep.metadata.duration)){var e,t;$.userSetCurrentProgress((ef-(null===(e=er.current)||void 0===e?void 0:e.getBoundingClientRect().left))/(null===(t=er.current)||void 0===t?void 0:t.getBoundingClientRect().width)*100)}ev(!1),eb(null)},children:[X?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("audio",{id:"active-audio-play",ref:eo,src:void 0}),(0,i.jsx)("audio",{id:"silent-audio",ref:es,src:"https://cdn1.suno.ai/silence.mp3"})]}),(0,i.jsxs)("div",{ref:er,className:"h-auto min-h-16 overflow-x-hidden overflow-y-visible rounded-xl border-white/[0.15] border border-solid text-sm flex flex-1 flex-col font-medium font-sans text-primary bg-quaternary",children:[!X&&(0,i.jsx)("div",{className:"absolute bottom-8 w-full h-24 z-[-1] bg-gradient-to-t from-vinylBlack-darker via-vinylBlack-darker to-vinylBlack-darker/30 blur-lg pointer-events-none"}),$.clip&&en.isEditorOpen&&!X?(0,i.jsxs)("div",{className:"w-full hidden md:block",children:[(0,i.jsxs)("div",{className:"w-full flex flex-row gap-4 p-1",children:[(0,i.jsx)(P.Z,{selections:eR,onChange:e=>{en.clearSelectionRange();let t=eR.find(t=>t.key===e);(null==t?void 0:t.key)==="extend"&&el.setContinueClip($.clip),eL((null==t?void 0:t.maxSelectionSecs)||void 0),e_(e)}}),(0,i.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,i.jsx)("input",{className:"p-2 rounded-lg w-16 tabular-nums tracking-tight text-xs",draggable:!1,type:"text",value:ew,onChange:e=>{let t=e.target.value;/^[0-9:.]*$/.test(t)&&ek(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.blur())},onBlur:()=>{var e,t,n,l;let i=(0,u.q$)((0,u.lh)(ew)||0,.2),a=(0,u.q$)((0,u.lh)(eC)||0,.2);if(void 0!==i&&void 0!==a&&null!==i&&null!==a&&(null==ep?void 0:ep.metadata.duration)){if(eO&&a-i>eO){ek((0,u.L7)(null===(e=en.selectionRange)||void 0===e?void 0:e.start,1));return}i===a?ek((0,u.L7)(null===(t=en.selectionRange)||void 0===t?void 0:t.start,1)):i<a?(en.setSelectionRange(i,a),ek((0,u.L7)(i,1)),eP(i/(null==ep?void 0:ep.metadata.duration)*(null===(n=er.current)||void 0===n?void 0:n.getBoundingClientRect().width))):ek((0,u.L7)((null===(l=en.selectionRange)||void 0===l?void 0:l.start)||0,1))}}}),(0,i.jsx)("span",{className:"text-xs select-none pointer-events-none",draggable:!1,children:"—"}),(0,i.jsx)("input",{className:"p-2 rounded-lg w-16 tabular-nums tracking-tight text-xs",draggable:!1,type:"text",value:eC,onChange:e=>{let t=e.target.value;/^[0-9:.]*$/.test(t)&&eS(t)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),e.currentTarget.blur())},onBlur:()=>{var e,t,n,l,i;let a=(0,u.q$)((0,u.lh)(ew)||0,.2),o=(0,u.q$)((0,u.lh)(eC)||0,.2);if(void 0!==a&&void 0!==o&&null!==a&&null!==o&&(null==ep?void 0:ep.metadata.duration)){if(eO&&o-a>eO){eS((0,u.L7)(null===(e=en.selectionRange)||void 0===e?void 0:e.end,1));return}a===o?eS((0,u.L7)(null===(t=en.selectionRange)||void 0===t?void 0:t.end,1)):a<o?o<(null==ep?void 0:ep.metadata.duration)?(en.setSelectionRange(a,o),eS((0,u.L7)(o,1)),eM(o/(null==ep?void 0:ep.metadata.duration)*(null===(n=er.current)||void 0===n?void 0:n.getBoundingClientRect().width))):eS((0,u.L7)(null===(l=en.selectionRange)||void 0===l?void 0:l.end,1)):ek((0,u.L7)(null===(i=en.selectionRange)||void 0===i?void 0:i.start,1))}}}),(null===(A=en.selectionRange)||void 0===A?void 0:A.start)!==void 0&&(null===(D=en.selectionRange)||void 0===D?void 0:D.end)!==void 0&&(0,i.jsx)(C.Z,{onClick:()=>{en.clearSelectionRange()},text:"Reset"})]}),(0,i.jsx)("div",{className:"flex flex-1 flex-row-reverse select-none pr-1",children:null===(R=eR.find(e=>e.key===eN))||void 0===R?void 0:R.content})]}),ep?(0,i.jsx)(S.Z,{clip:ep,height:100,isDraggingPlaybar:eh,actionMode:eN,quantizeSelectionSecs:.2,selectionType:"range",maxSelectionRangeSecs:eO,setWaveformStartInput:ek,setWaveformEndInput:eS,startPosition:eI,endPosition:eE,setStartPosition:eP,setEndPosition:eM}):null]}):null,(0,i.jsx)("div",{className:"flex flex-row flex-1 content-between items-center p-2",children:(0,i.jsxs)(x.Pd.Provider,{value:{className:"stroke-white fill-white text-xl"},children:[ep?(0,i.jsxs)("div",{className:"w-full ".concat(X?"":"md:w-8 overflow-hidden"," flex flex-1 items-center relative"),children:[(0,i.jsx)(w.Z,{imageSize:ep.metadata.is_suno_short?void 0:h.YY,className:"rounded-md w-10 h-16 md:h-14 mr-2 object-cover cursor-pointer",src:ep.image_url||null,alt:"Cover image for ".concat(null==ep?void 0:ep.title),"aria-label":"Playbar: Cover image for ".concat(null==ep?void 0:ep.title),onClick:()=>{ep&&ep.id&&ea.push("/song/".concat(ep.id))}}),(0,i.jsxs)("div",{className:"".concat(X?"":"md:w-auto"," w-full relative flex flex-col pr-2"),children:[(0,i.jsxs)("div",{className:"relative w-fit flex overflow-x-hidden text-sm font-medium hover:underline cursor-pointer",children:[(0,i.jsx)("div",{className:"animate-marquee ".concat(X?"":"md:animate-none"),children:(0,i.jsx)(p.default,{href:"/song/".concat(null==ep?void 0:ep.id),className:"whitespace-nowrap mr-24","aria-label":"Playbar: Title for ".concat(null==ep?void 0:ep.title),children:(0,u.M8)(ep)})}),(0,i.jsx)("div",{className:"absolute top-0 animate-marquee2 ".concat(X?"":"md:animate-none"),children:(0,i.jsx)(p.default,{href:"/song/".concat(null==ep?void 0:ep.id),className:"whitespace-nowrap mr-24 ".concat(X?"":"md:hidden"),"aria-label":"Playbar: Title for ".concat(null==ep?void 0:ep.title),children:(0,u.M8)(ep)})}),(0,i.jsx)("div",{className:"absolute right-0 w-full bg-gradient-to-r from-transparent via-quaternary md:hidden to-quaternary h-full"})]}),(0,i.jsxs)("span",{className:"text-sm font-medium flex flex-col md:flex-row",children:[(0,i.jsx)(p.default,{href:"/@".concat(ep.handle),className:"relative w-full ".concat(X?"":"md:w-fit flex"," hover:underline"),"aria-label":"Playbar: Artist for ".concat(null==ep?void 0:ep.title),children:(0,i.jsx)("span",{className:"lg:max-w-[150px] line-clamp-1 w-full",children:ep.display_name})}),$.clip?(0,i.jsx)("div",{className:"-translate-x-2 ".concat(X?"":"md:hidden"),children:(0,i.jsx)(k.Z,{clip:ep,width:"min-content",isPlaybar:!0})}):(0,i.jsx)("div",{className:"w-8 flex flex-1"}),(0,i.jsx)("span",{className:"text-lightGray mx-2 hidden ".concat(X?"":"md:block"),children:"|"}),(0,i.jsxs)("span",{"aria-label":"Playbar: Duration for ".concat(null==ep?void 0:ep.title),className:"align-middle whitespace-nowrap hidden ".concat(X?"":"md:flex"),children:[(0,u.L7)($.currentTime||0)," /"," ",ep.metadata.duration?(0,u.L7)(ep.metadata.duration):(0,i.jsx)("div",{className:"inline mt-[1px] ml-1",children:(0,i.jsx)(j.$,{size:"xs",opacity:.8})})]})]})]})]}):(0,i.jsx)("div",{className:"w-8 flex flex-1"}),(0,i.jsx)("div",{className:"flex-1 flex-row ".concat(X?"w-4":"w-8 md:flex"," justify-center gap-4 hidden"),children:(0,i.jsx)(M,{handlePlayerTogglePlay:eg,clip:ep,inline:X})}),(0,i.jsxs)("div",{className:"flex md:flex-1 flex-row-reverse w-fit items-left gap-2 justify-right",children:[(null===(z=et.flags)||void 0===z?void 0:z["editing-crop"])&&(null==ep?void 0:ep.user_id)===(null===(Z=et.user)||void 0===Z?void 0:Z.id)&&!X&&(0,i.jsxs)("button",{onPointerDown:()=>{en.setIsEditorOpen(!en.isEditorOpen),e_("trim"),en.setEditingClip(null==$?void 0:$.clip),en.clearSelectionRange(),eP(null),eM(null),ek("00:00.0"),eS("00:00.0")},disabled:!ep||"streaming"===ep.status,className:"hidden md:flex items-center px-3 py-1 bg-tertiary text-primary font-medium text-sm gap-1 rounded-lg cursor-pointer select-none w-fit","aria-label":"Playbar: Toggle editor for ".concat(null==ep?void 0:ep.title),children:["Edit",en.isEditorOpen?(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-3 h-3 fill-white",children:(0,i.jsx)("path",{d:"M224 397.3l22.6-22.6 160-160 22.7-22.7-45.3-45.3-22.6 22.6L224 306.7 86.6 169.4 64 146.7 18.7 192l22.6 22.6 160 160 22.7 22.7z"})}):(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",className:"w-3 h-3 fill-white",children:(0,i.jsx)("path",{d:"M224 114.7l22.6 22.6 160 160 22.7 22.7-45.3 45.3-22.6-22.6L224 205.3 86.6 342.6 64 365.3 18.7 320l22.6-22.6 160-160 22.7-22.7z"})})]}),(0,i.jsxs)("div",{className:"flex flex-row-reverse items-center w-fit",children:[(0,i.jsx)("button",{className:"cursor-pointer ".concat(X?"block":"hidden md:block"," hover:bg-transparentWhite rounded-md p-2"),onPointerDown:e=>{ej(!ey),e.currentTarget.focus(),e.preventDefault(),e.stopPropagation()},"aria-label":"Playbar: Volume Slider",ref:eF,children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512",className:"w-4 h-4 fill-white",children:(0,i.jsx)("path",{d:"M592 256c0 78.5-37.7 148.2-96 192l28.8 38.4C594.7 433.9 640 350.3 640 256.1v-.2c0-94.2-45.3-177.8-115.2-230.3L496 64c58.3 43.8 96 113.5 96 192zM438.4 371.2l28.8 38.4c46.6-35 76.8-90.8 76.8-153.6s-30.2-118.6-76.8-153.6l-28.8 38.4c35 26.3 57.6 68.1 57.6 115.2s-22.6 88.9-57.6 115.2zM400 256c0 15.7-7.5 29.6-19.2 38.4l28.8 38.4c23.3-17.5 38.4-45.4 38.4-76.8s-15.1-59.3-38.4-76.8l-28.8 38.4c11.7 8.8 19.2 22.7 19.2 38.4zM0 160v192h128l144 128h48V32h-48L128 160H0z"})})}),ep?(0,i.jsx)("div",{className:"hidden ".concat(X?"":"md:block"),"aria-label":"Playbar: More actions",children:(0,i.jsx)(k.Z,{clip:ep,width:"min-content",isPlaybar:!0})}):(0,i.jsx)("div",{className:"w-8 flex flex-1"})]}),(0,i.jsxs)("div",{className:"w-fit h-auto flex flex-col ".concat(X?"":"md:hidden"," items-center gap-4 bg-transparent"),children:[(0,i.jsx)("div",{className:"items-center gap-4 flex flex-row h-auto w-fit",children:(0,i.jsx)(x.Pd.Provider,{value:{className:"stroke-white fill-white text-xl"},children:(0,i.jsx)(M,{handlePlayerTogglePlay:eg,clip:ep,inline:X})})}),(0,i.jsxs)("span",{className:"whitespace-nowrap text-secondary flex items-center",children:[(0,u.L7)($.currentTime||0)," /"," ",(null==ep?void 0:ep.metadata.duration)?(0,u.L7)(ep.metadata.duration):(0,i.jsx)(j.$,{size:"xs",opacity:.8,ml:"3px"})]})]})]})]})}),!!$.duration&&J&&(0,i.jsxs)("div",{className:"h-2 w-full flex flex-row cursor-pointer bg-quinary",onPointerDown:()=>{ep&&ev(!0)},onPointerUp:()=>{ev(!1),eb(null)},onClick:e=>{if(ep){ev(!0);let t=e.clientX-e.currentTarget.getBoundingClientRect().left;$.userSetCurrentProgress(t/e.currentTarget.getBoundingClientRect().width*100);let n=Math.min(t,e.currentTarget.getBoundingClientRect().width);requestAnimationFrame(()=>{ev(!1),eb(null),ed.current.style.width="".concat(n,"px"),ec.current.style.left="".concat(n,"px")})}},children:[(0,i.jsx)("div",{className:"h-2 bg-primary ".concat(eh||en.isScrubbing?"":"transition transition-[width] ease-linear duration-[525ms]"),ref:ed,onPointerDown:()=>{ep&&ev(!0)},onPointerUp:()=>{ev(!1),eb(null)},style:{width:ef?"".concat(ef-(null===(B=er.current)||void 0===B?void 0:B.getBoundingClientRect().left),"px"):"".concat(Math.floor((null===(U=er.current)||void 0===U?void 0:U.getBoundingClientRect().width)*Math.min($.currentTime/$.duration,1)),"px")}}),(0,i.jsx)("button",{ref:ec,onPointerDown:()=>{$.loadingStream||ev(!0)},onPointerUp:()=>{ev(!1)},style:{left:(null===(V=ed.current)||void 0===V?void 0:V.style.width)||0},className:"hidden absolute -m-[2px] w-3 h-3 rounded-full bg-primary cursor-pointer hover:h-[22px] hover:w-[22px] hover:-m-2 ".concat(eh||en.isScrubbing?"":"transition-all ease-in-out duration-500")})]})]})]})}),ey&&(0,i.jsx)(g.Z,{top:null===(q=eF.current)||void 0===q?void 0:q.getBoundingClientRect().top,left:null===(W=eF.current)||void 0===W?void 0:W.getBoundingClientRect().left,ref:eu})]})});var L=n(70256),F=n(93073),T=n(18938),A=n(74340),D=n(99890),R=n(17458),z=n(29824),Z=n(39467),B=n(64973),U=n(35500),V=n(54018),q=n(30505),W=n(65125),G=n(26234),K=n(65870);let Y=(0,r.Pi)(e=>{var t,n,l,a,r,c,u,m,x,g,v;let{onOpenEditProfile:f}=e,{isLoaded:b,isSignedIn:y}=(0,F.aC)(),j=(0,F.ll)(),{session:w}=(0,d.mZ)(),k=(0,N.useRouter)();return(0,i.jsxs)("div",{children:[b&&!y?(0,i.jsx)(A.xu,{whiteSpace:"nowrap",mr:[2,0,0],children:(0,i.jsx)(F.gX,{mode:"modal",children:(0,i.jsx)(G.Z,{color:"white",leftIcon:(0,i.jsx)("div",{className:"mr-1",children:(0,i.jsx)(W.HOZ,{})}),onClick:()=>{},text:"Sign In"})})}):null,b&&y&&(0,i.jsx)(A.xu,{mt:2,children:(0,i.jsxs)(D.v,{children:[(0,i.jsx)(R.j,{"data-testid":"profile-menu-button","aria-label":"Profile menu button",children:(0,i.jsxs)("div",{className:"flex flex-row items-center",children:[(0,i.jsx)(K.Z,{imageSize:h.YY,src:null===(t=w.user)||void 0===t?void 0:t.avatar_image_url,borderRadius:"full",boxSize:"36px"}),(0,i.jsx)("span",{className:"hidden text-sm w-16 ml-2 font-sans truncate text-ellipsis",children:(null===(n=w.user)||void 0===n?void 0:n.display_name)||"@".concat(null===(l=w.user)||void 0===l?void 0:l.handle)})]})}),(0,i.jsxs)(z.q,{sx:{...h.E2},zIndex:1e3,children:[(0,i.jsxs)(o.k,{flexDirection:"row",py:2,children:[(0,i.jsx)(K.Z,{alt:"Avatar image for the logged-in user",src:null===(a=w.user)||void 0===a?void 0:a.avatar_image_url,borderRadius:"full",boxSize:"36px",mr:4,ml:3}),(0,i.jsxs)(o.k,{flexDirection:"column",justifyContent:"center",rowGap:"4px",maxW:"250px",mr:4,children:[!!(null===(r=w.user)||void 0===r?void 0:r.display_name)&&(0,i.jsx)(s.x,{fontSize:"14px",lineHeight:"14px",fontWeight:700,noOfLines:1,children:null===(c=w.user)||void 0===c?void 0:c.display_name}),(0,i.jsx)(s.x,{fontSize:"12px",lineHeight:"12px",children:(null===(x=j.user)||void 0===x?void 0:null===(m=x.emailAddresses)||void 0===m?void 0:null===(u=m[0])||void 0===u?void 0:u.emailAddress)||""})]})]}),(null===(g=w.user)||void 0===g?void 0:g.handle)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(Z.s,{fontSize:"14px",as:p.default,href:"/@".concat(null===(v=w.user)||void 0===v?void 0:v.handle),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,i.jsx)(A.xu,{ml:"11px",mr:"27px",children:(0,i.jsx)(B.E,{src:"/profile.svg",alt:"Profile",boxSize:"14px",display:"inline-block",verticalAlign:"middle"})})," ","View Profile"]}),(0,i.jsxs)(Z.s,{fontSize:"14px",as:U.r,onClick:()=>f&&f(),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,i.jsx)(A.xu,{ml:"11px",mr:"27px",children:(0,i.jsx)(W.zmo,{})})," ","Edit Profile"]})]}):null,(0,i.jsxs)(Z.s,{fontSize:"14px",as:U.r,onClick:()=>j.openUserProfile({appearance:{elements:{button:"text-neutral-300 hover:text-neutral-500",badge:"text-neutral-300 outline outline-neutral-300"}}}),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,i.jsx)(A.xu,{ml:"11px",mr:"27px",children:(0,i.jsx)(V.mdD,{})})," ","Manage Account"]}),(0,i.jsxs)(Z.s,{fontSize:"14px",onClick:()=>j.signOut(()=>k.push("/")),bg:"transparent",_hover:{background:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},children:[(0,i.jsx)(A.xu,{ml:"11px",mr:"27px",children:(0,i.jsx)(q.ApJ,{})})," ","Sign Out"]}),(0,i.jsxs)(o.k,{flexDirection:"row",columnGap:4,ml:16,mt:2,children:[(0,i.jsx)(U.r,{href:"/terms",fontSize:"xs",color:"gray",children:"Terms of Service"}),(0,i.jsx)(U.r,{href:"/privacy",fontSize:"xs",color:"gray",children:(0,i.jsx)(s.x,{fontSize:"xs",color:"gray",children:"Privacy"})})]})]})]})})]})});var H=n(51464),X=n(47495),J=n.n(X),Q=n(63733),$=function(){let[e,t]=(0,a.useState)([]);return(0,a.useEffect)(()=>{(async()=>{t((await (0,Q.xz)()).allChangelogItems)})()},[]),e},ee=n(3427),et=n(6005),en=n(1371),el=n(52249),ei=n(96788),ea=n(20408),eo=n(10114),es=n(12266),er=n(36413);let ed=(0,r.Pi)(e=>{let{isOpen:t,onClose:n,changelogItems:l}=e;return(0,i.jsxs)(et.u_,{isOpen:t,onClose:n,isCentered:!0,size:"2xl",children:[(0,i.jsx)(en.Z,{}),(0,i.jsxs)(el.h,{bg:"#252020",borderRadius:"32px",children:[(0,i.jsxs)(o.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsx)("span",{className:"font-serif text-3xl pl-12 pt-16",children:"What's New?"}),(0,i.jsx)(o.k,{mt:-8,children:(0,i.jsx)(er.Z,{onClick:n})})]}),(0,i.jsx)(ei.i,{mt:8,mb:2,mx:16,w:540}),(0,i.jsx)(ea.f,{p:0,h:"75%",maxHeight:"600px",display:"flex",children:(0,i.jsx)(eo.K,{py:2,px:0,spacing:[2,2,0],flexDirection:"column",overflow:"auto",flex:"1",w:"100%",children:l.map((e,t)=>{let{title:n,datetime:l,description:a,tags:r,linkUrl:d,linkText:c}=e,p=r&&r.length?r.split(",").map(e=>e.trim()):[];return(0,i.jsxs)(A.xu,{px:16,pb:8,pt:4,children:[(0,i.jsx)("span",{className:"font-serif font-normal text-2xl mb-10",children:n}),(0,i.jsxs)(o.k,{flexDirection:"row",columnGap:2,flexWrap:"wrap",alignItems:"center",my:4,children:[p.map((e,t)=>(0,i.jsxs)("span",{className:"relative font-sans font-medium text-sm px-2 inline-flex items-center justify-center h-6 rounded-md mr-4",style:{backgroundImage:"url('/auras/orange-aura.png')",backgroundSize:"cover",backgroundRepeat:"no-repeat"},children:[(0,i.jsx)("span",{className:"absolute inset-0 bg-black opacity-40 rounded-md",style:{zIndex:1}}),(0,i.jsx)("span",{className:"relative",style:{zIndex:2},children:(0,h.fm)(e)})]},"".concat(t,"_").concat(e))),(0,i.jsx)("span",{className:"font-sans font-normal text-sm mr-2 tracking-wide",children:(0,u.p6)(new Date(l))})]}),(0,i.jsx)(s.x,{sx:{"& a":{textDecoration:"underline"}},dangerouslySetInnerHTML:{__html:es.TU.parse(a)},className:"font-sans text-16px font-normal"}),d&&c&&(0,i.jsx)(A.xu,{mt:4,children:(0,i.jsx)(ee.r,{textDecoration:"underline",href:d,fontFamily:"Neue Montreal",children:c})}),(0,i.jsx)(ei.i,{mt:8,mb:8})]},t)})})})]})]})});var ec=n(6353),eu=n(14063);let ep=[{id:"x",icon:V.LCd,url:"https://twitter.com/suno_ai_"},{id:"instagram",icon:eu.Zf_,url:"https://www.instagram.com/sunomusic/"},{id:"tiktok",icon:eu.nTm,url:"https://www.tiktok.com/@sunomusic"},{id:"discord",icon:eu.j2d,url:"https://discord.com/invite/suno"}];var em=()=>{let e=e=>{v.g.segmentTrack(f.Vy.linkClickEvent,{socialUrl:e})};return(0,i.jsx)(A.xu,{display:"flex",justifyContent:"center",alignItems:"center",gap:"14px",mt:2,mb:2,children:ep.map(t=>(0,i.jsx)(U.r,{href:t.url,onClick:()=>e(t.url),isExternal:!0,children:(0,i.jsx)(ec.J,{as:t.icon,boxSize:"18px",color:"white",opacity:"0.5"})},t.id))})};let ex=(e,t,n)=>t?(e||[]).filter(e=>new Date(e.datetime)>new Date(t)):n?e:[],eg=(0,r.Pi)(e=>{let{onOpenEditProfile:t,isOpenEditProfile:n,onCloseEditProfile:l}=e,{session:o,genForm:s}=(0,d.mZ)(),r=(0,F.aC)(),c=(0,F.ll)(),u=(0,N.usePathname)(),{isOpen:p,onOpen:m,onClose:x}=(0,H.q)(),[g]=(0,a.useState)(J()("localStorage")),h="changelog_last_viewed_at",f=$(),b=ex(f,g?localStorage.getItem(h):null,g);return(0,i.jsxs)("div",{className:"min-w-40 h-full w-[200px] flex-col bg-vinylBlack-darker hidden md:flex",children:[(0,i.jsx)("div",{className:"flex flex-row justify-start mt-2 mb-2 ml-10",children:(0,i.jsx)(L.Z,{})}),(0,i.jsx)(ev,{href:"/",contextName:"home",onClick:()=>{v.g.track("Navbar: Home button clicked",{isSignedIn:r.isSignedIn})},children:"Home"}),(0,i.jsx)(ev,{href:"/create",contextName:"create",onClick:e=>{v.g.track("Navbar: Create button clicked",{isSignedIn:r.isSignedIn}),r.isSignedIn||(c.openSignUp({redirectUrl:"/create/"}),e.preventDefault()),u.startsWith("/edit/")&&s.reset()},children:"Create"}),(0,i.jsx)(ev,{href:"/me",contextName:"library","data-testid":"navbar-library-tab",onClick:e=>{v.g.track("Navbar: Library button clicked",{isSignedIn:r.isSignedIn}),r.isSignedIn||(c.openSignUp({redirectUrl:"/me/"}),e.preventDefault())},children:"Library"}),(0,i.jsx)(ev,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/explore",contextName:"explore",onClick:()=>{v.g.track("Navbar: Explore button clicked",{isSignedIn:r.isSignedIn})},children:(0,i.jsx)("div",{className:"flex flex-row items-center",children:"Explore"})}),(0,i.jsx)(ev,{contextName:"search",href:"/search",onClick:e=>{v.g.track("Navbar: Search button clicked",{isSignedIn:r.isSignedIn}),r.isSignedIn||(c.openSignUp({redirectUrl:"/search/"}),e.preventDefault())},children:"Search"}),(0,i.jsxs)("div",{className:"flex-1 flex flex-col-reverse mb-2",children:[(0,i.jsx)(em,{}),(0,i.jsx)(ev,{contextName:"",href:"",children:(0,i.jsx)(Y,{onOpenEditProfile:t})}),(0,i.jsx)(ev,{size:"sm",contextName:"",href:"https://jobs.ashbyhq.com/suno",children:"Careers"}),(0,i.jsx)(ev,{size:"sm",contextName:"",href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/about",children:"About"}),(0,i.jsx)(ev,{size:"sm",contextName:"",href:"https://help.suno.com",children:"Help"}),f.length>0&&(0,i.jsxs)(ev,{size:"sm",contextName:"",onClick:e=>{e.preventDefault(),m(),g&&localStorage.setItem(h,new Date().toUTCString())},href:"#",children:["What's New?",!!(null==b?void 0:b.length)&&(0,i.jsx)("div",{className:"bg-primary text-vinylBlack-darker rounded-full px-1 py-1 ml-1 text-xs font-bold font-sans min-w-[24px] text-center",children:b.length})]}),(0,i.jsx)(ev,{href:"/account",contextName:"",size:"sm",children:(0,i.jsxs)("div",{className:"flex flex-col",children:[r.isSignedIn&&o.isCreditsLoaded?(0,i.jsxs)("div",{className:"w-full flex flex-row mb-2 font-semibold",children:[o.credits," Credits"]}):null,(0,i.jsx)("div",{className:"w-full flex flex-row mb-2",children:"Subscribe"})]})})]}),(0,i.jsx)(T.f,{isOpen:n,onClose:l,"data-qaid":"modal-edit-profile-title"}),(0,i.jsx)(ed,{changelogItems:f||[],onClose:x,isOpen:p})]})}),eh=(e,t)=>{switch(e){case"home":return"/"===t;case"create":return"/create"===t;case"search":return"/search"===t;case"library":return"/me"===t||t.startsWith("/me/")||t.startsWith("/playlist/")||t.startsWith("/song/");default:return!1}},ev=e=>{let{href:t,contextName:n,children:l,onClick:a,size:o="default"}=e,s=eh(n,(0,N.usePathname)());return""!==t?(0,i.jsx)(p.default,{href:t,onClick:a,children:(0,i.jsx)("div",{className:"font-sans w-full flex flex-row items-center justify-left ".concat("sm"===o?"text-sm":"text-base/5"," font-medium my-2 ").concat(s?"pl-9 border-l-4 border-primary text-primary bg-opacity-50":"pl-10 text-secondary"," ").concat(!s&&"hover:border-l-4 hover:pl-9 hover:border-primary hover:border-opacity-50 hover:text-primary"),children:l})}):(0,i.jsx)("div",{className:"font-sans w-full flex flex-row items-center justify-left ".concat("sm"===o?"text-sm":"text-base/5"," font-medium my-2 ").concat(s?"pl-9 border-l-4 border-primary text-primary bg-opacity-50":"pl-10 text-secondary"," ").concat(!s&&"hover:border-l-4 hover:pl-9 hover:border-primary hover:border-opacity-50 hover:text-primary"),children:l})};var ef=n(32214),eb=n(67328),ey=n(67671),ej=n(61493),ew=n(34437),ek=n(90371),eC=n(44379);let eS=e=>{let{href:t,onClose:n,children:l,fontSize:a,color:o}=e;return(0,i.jsx)(Z.s,{as:p.default,href:t,onClick:n,width:"100%",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none",fontSize:a,display:"flex",width:"100%",height:"auto",padding:"10px 20px",justifyContent:"flex-start",color:o,fontFamily:"Editorial New"},children:l})};(0,r.Pi)(e=>{let{isOpen:t,onClose:n}=e;return(0,i.jsx)(D.v,{isOpen:t,onClose:n,children:(0,i.jsxs)(et.u_,{isOpen:t,onClose:n,size:"full",isCentered:!0,children:[(0,i.jsx)(en.Z,{sx:{...h.li}}),(0,i.jsxs)(el.h,{sx:{...h.li},children:[(0,i.jsx)(er.Z,{onClick:n}),(0,i.jsx)(ea.f,{sx:{...h.li},mt:4,children:(0,i.jsx)(z.q,{border:"none",boxShadow:"none",bg:"transparent",display:"flex",flexDirection:"column",width:"100%",height:"100%",mt:10,children:(0,i.jsxs)(o.k,{flexDirection:"column",flex:"1",children:[(0,i.jsx)(eS,{href:"https://help.suno.com",onClose:n,fontSize:"18px",color:"white",children:"Help"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/about",onClose:n,fontSize:"18px",color:"white",children:"About"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/blog",onClose:n,fontSize:"18px",color:"white",children:"Blog"}),(0,i.jsx)(eS,{href:"https://jobs.ashbyhq.com/suno",onClose:n,fontSize:"18px",color:"white",children:"Careers"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/terms",onClose:n,fontSize:"18px",color:"white",children:"Terms of Service"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/privacy",onClose:n,fontSize:"18px",color:"white",children:"Privacy"})]})})})]})]})})});var eN=n(14326),e_=n(20610),eI=e=>{let{isOpen:t,onClose:n,userHandle:l=""}=e,s=(0,e_.p)(),r=(0,a.useRef)(null),d=async()=>{let e="".concat(window.location.origin,"/invite/@").concat(l);try{await navigator.clipboard.writeText(e),s({title:"Link copied successfully!",status:"success",duration:2e3,isClosable:!0})}catch(e){s({title:"Failed to copy link",description:"Please try again.",status:"error",duration:2e3,isClosable:!0})}};return(0,i.jsxs)(et.u_,{isOpen:t,onClose:n,initialFocusRef:r,isCentered:!0,children:[(0,i.jsx)(en.Z,{}),(0,i.jsxs)(el.h,{bg:"#252020",borderRadius:"32px",children:[(0,i.jsxs)(o.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,i.jsxs)("span",{className:"font-serif text-3xl pl-12 pt-16",children:["Invite a Friend"," "]}),(0,i.jsx)(o.k,{mt:-8,children:(0,i.jsx)(er.Z,{onClick:n})})]}),(0,i.jsx)(ea.f,{pb:6,children:(0,i.jsxs)(o.k,{direction:"column",gap:"4",children:[(0,i.jsx)("span",{className:"font-sans text-sm",children:"Share this link with a friend. You'll both earn 250 credits when your friend signs up and makes their first 10 songs.*"}),(0,i.jsx)("span",{className:"text-sm",children:"* A total of 1250 credits can be earned through referrals."}),(0,i.jsxs)(o.k,{children:[(0,i.jsx)(eC.I,{ref:r,value:"".concat(window.location.origin,"/invite/@").concat(l),isReadOnly:!0,_focus:{borderColor:h.Zs},fontFamily:"Neue Montreal"}),(0,i.jsx)(ej.h,{colorScheme:"white",mr:3,onClick:d,icon:(0,i.jsx)(eu.GON,{color:"black"}),"aria-label":"Copy Referral Link",ml:2})]})]})})]})]})};let eP=(0,r.Pi)(e=>{var t,n,l,a,r,c,u,m,x,g,v,f,b,y;let{isOpen:j,onClose:w,onToggle:k}=e,{session:C}=(0,d.mZ)(),S=(0,F.ll)(),_=(0,N.useRouter)(),{onOpen:I,isOpen:P,onClose:E}=(0,H.q)(),{isOpen:M,onOpen:O,onClose:L}=(0,H.q)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(D.v,{isOpen:j,onClose:w,children:[(0,i.jsx)(R.j,{as:ej.h,variant:"ghost",color:"whiteAlpha",onClick:k,icon:(0,i.jsx)(eN.Z,{src:(null===(t=C.user)||void 0===t?void 0:t.avatar_image_url)||h.ax,alt:"User Profile",width:9,height:9,borderRadius:"50%"}),colorScheme:"whiteAlpha","aria-label":"User Profile",_hover:{backgroundColor:"none"}}),(0,i.jsxs)(z.q,{sx:{bgColor:"#252020"},borderColor:"rgba(255, 255, 255, 0.1)",w:"250px",p:"2",borderRadius:"md",zIndex:h.ig,children:[(0,i.jsxs)(o.k,{flexDirection:"row",py:2,children:[(0,i.jsx)(eN.Z,{src:(null===(n=C.user)||void 0===n?void 0:n.avatar_image_url)||h.ax,borderRadius:"full",boxSize:"36px",mr:4,ml:2,alt:"Profile Image",width:10,height:10}),(0,i.jsxs)(o.k,{flexDirection:"column",justifyContent:"center",rowGap:"4px",maxW:"150px",mr:4,children:[!!(null===(l=C.user)||void 0===l?void 0:l.display_name)&&(0,i.jsx)(s.x,{fontSize:"14px",lineHeight:"18px",fontWeight:700,noOfLines:1,title:null===(a=C.user)||void 0===a?void 0:a.display_name,fontFamily:"Neue Montreal",children:null===(r=C.user)||void 0===r?void 0:r.display_name}),(0,i.jsx)(s.x,{fontSize:"12px",lineHeight:"12px",title:null===(m=S.user)||void 0===m?void 0:null===(u=m.emailAddresses)||void 0===u?void 0:null===(c=u[0])||void 0===c?void 0:c.emailAddress,fontFamily:"Neue Montreal",children:(null===(v=S.user)||void 0===v?void 0:null===(g=v.emailAddresses)||void 0===g?void 0:null===(x=g[0])||void 0===x?void 0:x.emailAddress)||""})]})]}),(0,i.jsx)(Z.s,{as:p.default,href:"/@".concat(null===(f=C.user)||void 0===f?void 0:f.handle),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"View Profile"}),(0,i.jsx)(Z.s,{as:U.r,onClick:I,fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Edit Profile"}),(0,i.jsxs)(Z.s,{as:p.default,href:"/account",onClick:w,fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:["Subscription",(0,i.jsx)(o.k,{ml:4,children:(0,i.jsx)(o.k,{align:"center",justify:"center",bg:C.credits>0?"#272626":"#fcd28d",color:C.credits>0?"white":"black",borderRadius:"full",py:.5,px:1,children:(0,i.jsxs)("span",{className:"font-sans font-bold text-[11px]",children:[C.credits.toLocaleString()," credits"]})})})]}),(0,i.jsx)(Z.s,{as:U.r,onClick:()=>S.openUserProfile(),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Manage Account"}),(null==C?void 0:null===(b=C.flags)||void 0===b?void 0:b["invite-link"])&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(Z.s,{as:U.r,onClick:e=>{e.preventDefault(),O()},fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Invite a Friend"}),(0,i.jsx)(eI,{isOpen:M,onClose:L,userHandle:null==C?void 0:null===(y=C.user)||void 0===y?void 0:y.handle})]}),(0,i.jsx)(Z.s,{as:U.r,onClick:()=>S.signOut(()=>_.push("/")),fontFamily:"Neue Montreal",sx:{bg:"transparent",_hover:{bg:"rgba(255, 255, 255, 0.1)",textDecoration:"none"},transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none"},children:"Sign Out"})]})]}),(0,i.jsx)(T.f,{isOpen:P,onClose:E,"data-qaid":"modal-edit-profile-title"})]})}),eE=(e,t)=>{switch(e){case"home":return"/"===t;case"create":return"/create"===t;case"search":return"/search"===t;case"library":return"/me"===t||t.startsWith("/me/")||t.startsWith("/playlist/")||t.startsWith("/song/");default:return!1}},eM=e=>{let{href:t,contextName:n,children:l,onClick:a}=e,o=(0,N.usePathname)();return(0,i.jsx)(U.r,{href:t,as:p.default,textDecoration:"none",_hover:{textDecoration:"none"},onClick:a,children:(0,i.jsx)(A.xu,{bg:o===t?"#FAF7F5":"#0E0808",color:o===t?"#0E0808":"#FAF7F5",py:2,px:[4,6,8],_hover:eE(n,o)?void 0:{bg:"#0E0808"},rounded:"full",textAlign:"center",fontFamily:"Neue Montreal",fontSize:"md",children:l})})},eO=e=>{let{onCloseEditProfile:t,isOpenEditProfile:n,onOpenCreate:l}=e,{isSignedIn:a}=(0,F.aC)(),s=(0,F.ll)(),r=(0,F.aC)();return(0,i.jsxs)("div",{className:"w-full font-sans flex flex-row px-4 h-[50px] bg-transparent text-sm",children:[(0,i.jsxs)("div",{className:"w-full items-center justify-center flex-1 flex flex-row text-gray-100 gap-0 font-medium bg-transparent bg-opacity-0",children:[(0,i.jsx)(eM,{href:"/",contextName:"home",children:"Home"}),(0,i.jsx)(eM,{contextName:"create",onClick:e=>{a||(s.openSignUp({redirectUrl:"/create/"}),e.preventDefault()),l&&l()},href:"/create",children:"Create"}),(0,i.jsx)(eM,{contextName:"library",href:"/me",onClick:e=>{a||(s.openSignUp({redirectUrl:"/me/"}),e.preventDefault())},children:"Library"}),(0,i.jsx)(eM,{contextName:"explore",href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/explore",onClick:()=>{v.g.track("Navbar: Explore button clicked",{isSignedIn:r.isSignedIn})},children:(0,i.jsx)(o.k,{style:{display:"inline-flex",alignItems:"center"},children:"Explore"})})]}),(0,i.jsx)(T.f,{isOpen:n,onClose:t,"data-qaid":"modal-edit-profile-title"})]})},eL=(0,r.Pi)(e=>{var t;let{}=e,{isSignedIn:n}=(0,F.aC)(),s=(0,N.useRouter)(),[r,c]=(0,a.useState)(!1),[u,m]=(0,a.useState)(!1),x=()=>{v.searchTerm="",g.current&&(g.current.value="")},g=(0,a.useRef)(null),{search:v,session:f}=(0,d.mZ)(),[b,y]=a.useState(!1);(0,a.useEffect)(()=>{var e;null==g||null===(e=g.current)||void 0===e||e.focus()},[]);let{isOpen:j,onOpen:k,onClose:C}=(0,H.q)();return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(A.xu,{position:"relative",children:(0,i.jsxs)(o.k,{display:"flex",zIndex:h.OV,width:"100%",height:"60px",minHeight:"60px",alignItems:"center",position:"relative",bg:"transparent",children:[(0,i.jsx)(o.k,{ml:5,mt:1,children:(0,i.jsx)(L.Z,{})}),(0,i.jsxs)(o.k,{alignItems:"center",position:"fixed",right:2,gap:2,children:[n?(0,i.jsxs)("div",{className:"mr-12 items-center flex flex-row",children:[(null===(t=f.sub)||void 0===t?void 0:t.plan)?null:(0,i.jsx)("div",{className:"mr-2",children:(0,i.jsx)(p.default,{href:"/account",children:(0,i.jsx)(G.Z,{onClick:()=>{},color:f.credits<=10?"white":"gray",size:"sm",text:"Subscribe",rounded:!0})})}),(0,i.jsx)(eP,{isOpen:u,onClose:()=>m(!1),onToggle:()=>m(e=>!e)})]}):(0,i.jsx)(o.k,{whiteSpace:"nowrap",mr:[0,0,0],paddingRight:"52px",children:(0,i.jsx)(F.gX,{mode:"modal",children:(0,i.jsx)(G.Z,{size:"sm",color:"white",leftIcon:(0,i.jsx)("div",{className:"mr-1",children:(0,i.jsx)(W.HOZ,{})}),onClick:()=>{},text:"Sign In"})})}),(0,i.jsxs)(o.k,{width:r?"98%":"50px",height:"50px",backgroundColor:r?"#252020":"none",borderRadius:"full",m:1,cursor:"pointer",position:"fixed",transition:r?"width 0.2s ease-out":"none",right:r?1:4,alignItems:"center",zIndex:h.kS,mr:r?1:42,children:[v.searchTerm&&r&&(0,i.jsx)(ej.h,{"aria-label":"Clear search",icon:(0,i.jsx)(eu.aHS,{}),size:"sm",onClick:x,bg:"none",p:2,_hover:{bg:"rgba(255, 255, 255, 0.1)"},position:"absolute",variant:"ghost",right:"12",mr:2,color:"rgba(255, 255, 255, 0.4)",zIndex:h.n5}),(0,i.jsxs)(ew.B,{alignItems:"center",cursor:"pointer",children:[(0,i.jsx)(ek.x,{height:"100%",alignItems:"center",cursor:"pointer",flexDirection:"row",onClick:()=>{y(!0),setTimeout(()=>{var e;return null==g?void 0:null===(e=g.current)||void 0===e?void 0:e.focus()},0),c(e=>!e)},children:(0,i.jsx)(o.k,{alignItems:"center",cursor:"pointer",children:(0,i.jsx)(ej.h,{"aria-label":"Search",icon:(0,i.jsx)(w.Z,{src:"/icons/search.svg",fallbackSrc:"/icons/search.svg",alt:"Search",className:"w-4 h-4"}),size:"50px",onClick:x,bg:"#252020",color:"white",borderRadius:"full",variant:"ghost",zIndex:h.n5,width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",_hover:{bg:"rgba(255, 255, 255, 0.1)"}})})}),(0,i.jsx)(eC.I,{ref:g,defaultValue:v.searchTerm,placeholder:"Search for songs, playlists, or users",visibility:b?"visible":"hidden",onChange:e=>{null!=l&&(clearTimeout(l),l=null),l=setTimeout(()=>{v.searchTerm=e.target.value,s.push("/search")},500)},border:"transparent",focusBorderColor:"transparent",_placeholder:{color:"rgba(255, 255, 255, 0.5)"},alignItems:"center",cursor:"pointer",fontFamily:"Neue Montreal"})]})]}),(0,i.jsxs)(D.v,{children:[(0,i.jsx)(R.j,{size:"md","aria-label":"More Actions",as:ej.h,icon:(0,i.jsx)(eu.Fm7,{width:12,height:12}),bg:"#252020",borderRadius:"full",variant:"ghost",onClick:k}),(0,i.jsxs)(et.u_,{isOpen:j,onClose:C,size:"full",isCentered:!0,children:[(0,i.jsx)(en.Z,{sx:{bgColor:"#0E0808"}}),(0,i.jsxs)(el.h,{sx:{bgColor:"#0E0808"},children:[(0,i.jsx)(o.k,{position:"absolute",right:2,top:2,children:(0,i.jsx)(er.Z,{onClick:C})}),(0,i.jsxs)(ea.f,{sx:{bgColor:"#0E0808"},mt:20,children:[(0,i.jsxs)(o.k,{flexDirection:"column",flex:"1",children:[(0,i.jsx)(eS,{href:"https://help.suno.com",onClose:C,fontSize:"40px",color:"white",children:"Help"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/about",onClose:C,fontSize:"40px",color:"white",children:"About"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/blog",onClose:C,fontSize:"40px",color:"white",children:"Blog"}),(0,i.jsx)(eS,{href:"https://jobs.ashbyhq.com/suno",onClose:C,fontSize:"40px",color:"white",children:"Careers"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/terms",onClose:C,fontSize:"40px",color:"white",children:"Terms of Service"}),(0,i.jsx)(eS,{href:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/privacy",onClose:C,fontSize:"40px",color:"white",children:"Privacy"})]}),(0,i.jsx)("div",{className:"h-[100px]"}),(0,i.jsx)(em,{})]})]})]})]})]})]})})})});var eF=n(56206),eT=n(22601),eA=n(1726),eD=n(99466),eR=n(91033),ez=n(78232),eZ=n(68689),eB=n(1601),eU=n(14675),eV=n(66442),eq=e=>{let{onClick:t,icon:n,isDisabled:l=!1,isLoading:a=!1,playbarOpen:o=!1}=e;return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("button",{onClick:t,className:"bg-[url(/create-button-background.svg)] z-50 shadow-lg shadow-vinylBlack/50 absolute ".concat(o?"bottom-40":"bottom-14"," right-4 bg-cover bg-center overflow-hidden font-sans text-white text-md font-medium aspect-square p-6 flex items-center rounded-full transition duration-300 ease-in-out w-20 h-20 disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90 justify-center"),disabled:l,children:[(0,i.jsx)("div",{className:"absolute inset-0 bg-[url(/grain.png)] bg-cover bg-repeat opacity-50 z-[1] pointer-events-none"}),a?(0,i.jsxs)("svg",{className:"animate-spin w-full h-full text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zM12 24c-4.418 0-8-3.582-8-8H0c0 6.627 5.373 12 12 12v-4z"})]}):n&&(0,i.jsx)("img",{src:n,alt:"icon",className:"w-full h-full filter invert brightness-0"})]})})},eW=n(60446),eG=n(93278),eK=n(15188),eY=n(21216),eH=n(46575),eX=n(50965),eJ=n(37720),eQ=n(98719),e$=n(20783),e0=n(57666),e1=n(16378),e2=n(25099),e5=n(73234),e4=n(2550),e3=n(46187),e6=n(51798),e8=n(80048),e7=n(8823),e9=n(21154);let te=(0,r.Pi)(e=>{var t,n,l,s,r;let{isExtendModeOn:c,setExtendModeOn:p,isReusePromptOn:m,setReusePromptOn:x,isOpen:g,onClose:b,onOpen:y}=e,j=a.useRef(null),{genForm:k,clips:C,session:S,playbar:_}=(0,d.mZ)(),{isSignedIn:I}=(0,F.aC)(),P=(0,N.useRouter)(),E=(0,N.usePathname)(),[M,O]=(0,a.useState)(!1),[L,T]=(0,a.useState)(!1),[A,D]=(0,a.useState)(!1),[R,z]=(0,a.useState)(!1),{enabled:Z}=S.isFeatureAllowed("image-to-song"),B="chirp-v3-5"===k.mv?h.yG:h.yR,U=()=>{k.setInstrumental(!k.instrumental),k.setLyrics(""),$(e=>!e),D(e=>!e)},V=(0,a.useRef)(null);(0,a.useEffect)(()=>{let e=e=>{V.current&&!V.current.contains(e.target)&&(O(!1),T(!1),p(!1),x(!1))};return M?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[M,c,L,m]),(0,a.useEffect)(()=>{L&&k.setDescription("")},[L,k]),(0,a.useEffect)(()=>{T(!k.isSimple)},[k.isSimple]);let q=async()=>{let e=""!==es.trim()?es:k.placeholder;v.g.track(f.Vy.clickedCreateSongLoggedOut,{promptLength:e.length}),I||(localStorage.setItem("prompt",e),ei.openSignUp({redirectUrl:"/create/"}))},W=async(e,t)=>{if(ec(),"/create/"!==E&&P.push("/create/"),e.lyrics.length>B)(0,d.Am)({title:"Lyrics too long",description:"Lyrics exceed maximum length of 1250 characters.",status:"warning",duration:5e3,isClosable:!0});else{e.setIsLoading(!0),e.setIsMobile(!0),e.setIsMadLibs(!!eS),await t.runStream(e),e.setIsSimple(!L);let n=e.isSimple;v.g.track(f.Vy.clickedCreateSong,{descriptionLength:n?e.description.length:0,instrumental:e.instrumental,isSimpleMode:n,isMadLibs:e.isMadLibs,lyricsLength:n?0:e.lyrics.length,modelVersion:e.mv,styleLength:n?0:e.style.length,eventSource:"mobile"}),e.setIsLoading(!1)}},{isOpen:G,onClose:K,onOpen:Y}=(0,H.q)(),[X,J]=(0,a.useState)(!1),[Q,$]=(0,a.useState)(!1),[ee,et]=(0,a.useState)(S.roles.has_accepted_custom_mode_tos);(0,a.useEffect)(()=>{et(S.roles.has_accepted_custom_mode_tos)},[S.roles.has_accepted_custom_mode_tos]);let el=async()=>{J(!0),$(!1),await S.acceptTOS(),et(!0),J(!1),K()};(0,a.useEffect)(()=>{ee?($(!1),K()):$(!0)},[ee]),(0,a.useEffect)(()=>{(c||m)&&(O(!0),T(!0))},[c,m]);let ei=(0,F.ll)(),[es,ed]=(0,a.useState)(k.description);(0,a.useEffect)(()=>{if(I){let e=localStorage.getItem("prompt");e&&(ed(e),k.setDescription(e),localStorage.removeItem("prompt"),W(k,C))}},[I,k,C]);let ec=()=>{k.shouldOpenMobileCreate=!1,(c||m)&&(p(!1),x(!1)),b()};(0,a.useEffect)(()=>{(0,u.K1)()?k.shouldOpenMobileCreate&&y():ec()},[k.shouldOpenMobileCreate,c,m]);let[eu,ep]=(0,a.useState)(!1),[em,ex]=(0,a.useState)(!1),[eg,eh]=(0,a.useState)(!1),[ev,ef]=(0,a.useState)(!1),[eb,ey]=(0,a.useState)(!1),[ej,ew]=(0,a.useState)(!1),[ek,eC]=(0,a.useState)(!1),[eS,eN]=(0,a.useState)(null),e_=eJ.reduce((e,t)=>(e[t.id]=t,e),{}),eI=Object.fromEntries(Object.entries(e_).map(e=>{let[t,n]=e;return[t,n.title]}));(0,a.useEffect)(()=>{k.setIsMadLibs(!!eS)},[eS]);let eP=(e=>{let t={};return Object.values(e).forEach(e=>{e.content.forEach(e=>{"input"===e.type&&(t[e.field]="")})}),t})(eJ),[eE,eM]=(0,a.useState)(eP),eO=(e,t)=>{eM(n=>({...n,[e]:t}))},eL=Object.fromEntries(Object.entries(e_).map(e=>{let[t,n]=e;return[t,(0,i.jsx)("div",{className:"flex flex-wrap gap-1 max-w-xs font-sans px-2",children:n.content.map((e,t)=>"string"==typeof e?(0,i.jsx)("span",{children:e},t):"input"===e.type?(0,i.jsxs)("div",{className:"relative w-30 mb-6 inline-flex items-center",children:[(0,i.jsx)("input",{type:"text",placeholder:" ",className:"leading-tight w-full px-1 py-0.5 border-b-2 border-secondary focus:border-primary placeholder-transparent focus:outline-none text-center bg-vinylBlack-light bg-opacity-40 focus:bg-opacity-10",value:eE[e.field],onChange:t=>eO(e.field,t.target.value),maxLength:e.maxLength}),(0,i.jsx)("label",{className:"font-mono text-[9px] w-full text-center absolute left-1/2 transform -translate-x-1/2 -bottom-4 text-primary text-opacity-90 transition-transform duration-200 ease-in-out",children:e.placeholder})]},t):null)},t)]})),te=()=>!Object.values(k.imageData).every(e=>null===e),tt=()=>{if(!eS)return;let e=e_[eS];if(!e)return;let t=e.template;Object.keys(eE).forEach(e=>{let n=eE[e];t=t.replace("{".concat(e,"}"),n)}),"SpecialOccasions"===eS?(0,eX.Z)({particleCount:100,spread:70,origin:{y:.6},colors:["#FAF7F5","#D1CBC7"]}):"Person"===eS?(ep(!0),setTimeout(()=>ep(!1),5e3)):"Activity"===eS?(ex(!0),setTimeout(()=>ex(!1),5e3)):"Moods"===eS?(ef(!0),setTimeout(()=>ef(!1),5e3)):"Greeting"===eS?(ey(!0),setTimeout(()=>ey(!1),5e3)):"Scrapbook"===eS?(eh(!0),setTimeout(()=>eh(!1),5e3)):"Vacation"===eS?(eC(!0),setTimeout(()=>eC(!1),5e3)):"Pet"===eS&&(ew(!0),setTimeout(()=>ew(!1),5e3)),k.setIsMadLibs(!0),k.setDescription(t),W(k,C),v.g.segmentTrack(f.Vy.generalEvent,{key:e.id,actionName:f.OF.clickMadlibCreate,isMobile:!0})};(0,a.useEffect)(()=>{let e=document.querySelectorAll("input");return e.forEach(e=>{e.addEventListener("focus",tn),e.addEventListener("blur",tl)}),()=>{e.forEach(e=>{e.removeEventListener("focus",tn),e.removeEventListener("blur",tl)})}},[]);let tn=e=>{let t=e.target.nextElementSibling;t&&t.classList.add("translate-y-5","text-xs","text-gray-500")},tl=e=>{let t=e.target.nextElementSibling;""===e.target.value&&t&&t.classList.remove("translate-y-5","text-xs","text-gray-500")},ti=(0,e4.bx)(S)&&!!k.coverClipId,ta=!!k.continueClipId,to=(0,e4.U_)(S),ts=(0,e4.gc)(S),tr=(0,e4.Sr)(S);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(eq,{onClick:()=>{I?y():ei.openSignUp({redirectUrl:"/create/"})},icon:"/create-new.svg",playbarOpen:null!==_.clip}),(0,i.jsxs)(eF.d,{isOpen:g,placement:"bottom",onClose:ec,finalFocusRef:j,size:"lg",children:[(0,i.jsx)(en.Z,{display:["block","block","none"]}),(0,i.jsxs)(eT.s,{display:["flex","flex","none"],backgroundColor:"black",boxShadow:"0 0 10px 5px rgba(255, 255, 255, 0.08)",height:L||(null==S?void 0:null===(t=S.flags)||void 0===t?void 0:t.madlibs)?"100%":"60%",borderRadius:"40px 40px 0 0",sx:{transition:"height 0.3s ease-out",overflowY:L?"auto":"hidden"},children:[(0,i.jsxs)("div",{className:"flex justify-between items-center px-4 py-6",children:[(0,i.jsx)("span",{className:"text-center w-full font-sans font-normal text-secondary text-[16px]",children:"Create"}),(0,i.jsx)("div",{className:"absolute right-4",children:(0,i.jsx)(er.Z,{onClick:ec})})]}),(0,i.jsxs)(ea.f,{sx:{overflowY:"auto"},children:[!eS&&(0,i.jsxs)(eo.K,{direction:"row",alignItems:"center",w:"100%",justifyContent:"space-between",children:[(0,i.jsx)(eo.K,{direction:"row",alignItems:"center",children:(0,i.jsx)(ez.Z,{label:"Custom",checked:L,onChange:()=>{k.setIsSimple(!k.isSimple),T(e=>!e)},disabled:!I})}),(0,i.jsx)(eV.Z,{popoverTopMargin:90,fromMobileLibrary:!1,customHeight:"h-[28px]",iconSize:3,fontSize:"text-sm"}),(0,i.jsx)(o.k,{children:(0,i.jsx)(eZ.Z,{state:k})})]}),!L&&!(null===(n=S.flags)||void 0===n?void 0:n.madlibs)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",mt:8,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Song Description"}),(0,i.jsx)(ez.Z,{label:"Instrumental",checked:A,onChange:U})]}),(0,i.jsx)(eo.K,{py:2,children:(0,i.jsx)(eB.Z,{maxLength:200,value:k.description,resize:!0,onChange:e=>k.setDescription(e.target.value),placeholder:k.placeholder,customHeight:"h-[130px]",isScrollable:!0})}),(null==S?void 0:null===(l=S.flags)||void 0===l?void 0:l.madlibs)&&(0,i.jsx)(eG.Z,{setSelectedSuggestion:eN})]}),!L&&(null===(s=S.flags)||void 0===s?void 0:s.madlibs)&&(0,i.jsxs)(i.Fragment,{children:[Z&&(0,i.jsx)(e5._,{imageButtonOnClick:()=>{z(!R)},activeState:R}),R&&Z?(0,i.jsx)(e5.O,{state:k,onGenerate:async()=>W(k,C)}):(0,i.jsx)(i.Fragment,{children:eS?(0,i.jsxs)("div",{className:"flex flex-col px-2 pt-4 pb-6 w-full gap-4 w-full max-w-full md:max-w-[340px]",children:[(0,i.jsx)("button",{onClick:()=>{eN(null),k.setDescription(""),k.setIsMadLibs(!1)},className:"ml-2 h-[32px] w-[32px] p-2 text-white bg-tertiary hover:bg-vinylBlack-darker focus:outline-none rounded-full border border-white-300 flex justify-center items-center","aria-label":"Back",children:(0,i.jsx)(w.Z,{src:"/icons/left-caret.svg",alt:"Back",width:8,height:8})}),(0,i.jsx)("h2",{className:"font-serif text-2xl px-2 pt-2 break-words max-w-[300px]",children:eS&&eI[eS]}),(0,i.jsx)("p",{className:"font-sans font-medium text-sm px-2 pb-4 text-secondary text-opacity-80",children:"Fill in the blanks to create your song."}),(0,i.jsx)("p",{children:eL[eS]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",mt:8,children:[(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Song Description"}),(0,i.jsx)(ez.Z,{label:"Instrumental",checked:A,onChange:U})]}),(0,i.jsx)(eo.K,{py:2,children:(0,i.jsx)(eB.Z,{maxLength:200,value:k.description,resize:!0,onChange:e=>k.setDescription(e.target.value),placeholder:k.placeholder,customHeight:"h-[130px]",isScrollable:!0})}),(0,i.jsx)(eG.Z,{setSelectedSuggestion:e=>{eN(e)}})]})})]}),L&&(0,i.jsxs)(eo.K,{direction:"column",children:[(null==S?void 0:null===(r=S.flags)||void 0===r?void 0:r.personas)&&!ta&&!ti&&(0,i.jsx)(e3.Z,{}),(0,e4.bx)(S)&&k.coverClipId&&(0,i.jsx)(e2.Z,{clipId:k.coverClipId}),(0,i.jsx)(o.k,{mb:A&&to?0:-8,w:"100%",children:(0,i.jsxs)("div",{className:"flex flex-row w-full",children:[(0,i.jsx)("div",{className:"flex-1 h-[30px]",children:(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:A&&to?"Instrumental Mode":""})}),(0,i.jsx)("div",{className:"flex-1 flex justify-end",children:(0,i.jsx)(ez.Z,{label:"Instrumental",checked:A,onChange:U})})]})}),!A&&(0,i.jsxs)(eo.K,{children:[(0,i.jsx)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Lyrics"})}),(0,i.jsx)(eB.Z,{maxLength:B,value:k.lyrics,resize:!0,isScrollable:!0,customHeight:"h-[230px]",onChange:e=>k.setLyrics(e.target.value),placeholder:k.continueClipId?"Enter additional lyrics to extend the song based on your previous verses... \n\nOnce the extended songs have finished creating, click '...' and Get Whole Song to get the entire completed song.":"Enter your own lyrics or describe a song and click Write About...",onClick:()=>{Q&&Y()},onKeyDown:e=>{Q&&Y(),"Enter"===e.key&&Q&&e.preventDefault()},isReadOnly:Q,cursor:Q?"not-allowed":"text",leftAsset:(0,i.jsx)("button",{className:"bg-quaternary text-white hover:bg-tertiary font-medium px-4 py-2 rounded-full text-sm font-sans",onClick:k.generateLyrics,disabled:!1,children:k.isLoadingLyrics?(0,i.jsx)("div",{className:"flex items-center",children:(0,i.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):k.lyrics?"Write About: ".concat(k.lyrics.slice(0,20)).concat(k.lyrics.length>20?"...":""):(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("img",{src:"/dice.svg",alt:"dice",className:"h-4 w-4 mr-2"}),"Surprise Me"]})})})]}),(0,i.jsxs)(eo.K,{mt:A?0:4,children:[(0,i.jsx)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,i.jsxs)("div",{className:"flex flex-row w-full",children:[(0,i.jsx)("div",{className:"flex-1 h-[30px]",children:(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Style of Music"})}),(0,i.jsx)("div",{className:"flex-1 flex justify-end",children:to&&(ts?(0,i.jsx)(ez.Z,{label:"Exclude Styles",checked:k.enableExcludeStyle,onChange:()=>{k.setEnableExcludeStyle(!k.enableExcludeStyle),v.g.track(f.Vy.excludeStyleClick,{isMobile:!0,isChecked:!k.enableExcludeStyle,userId:S.userId}),v.g.logAudioCreationEvent(!0,k.enableExcludeStyle?f.OF.enableNegativeTags:f.OF.disableNegativeTags,k,S,{enableExcludeStyle:!k.enableExcludeStyle},!0)}}):(0,i.jsx)(e7.Z,{label:"Exclude Styles",tooltipLabel:"Subscribe to exclude styles",onClick:()=>{v.g.logAudioCreationEvent(!0,f.OF.clickDisabledNegativeTags,k,S,{},!0)}}))})]})}),(0,i.jsx)(eB.Z,{placeholder:"Enter style of music...",maxLength:h.cG,spacedLeftAsset:!0,resize:!1,value:k.style,isScrollable:!1,onChange:e=>k.setStyle(e.target.value),leftAsset:(0,i.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:k.recommmendedStyles.map((e,t)=>(0,i.jsx)(eU.Z,{style:e,onClick:()=>{(0,eD.Yt)(e,k),v.g.logAudioCreationEvent(!1,f.OF.useRecommendStyle,k,S,{recommendStyle:e}),v.g.track(f.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:S.userId})}},t))}),customHeight:"h-[100px]"})]}),ts&&k.enableExcludeStyle&&(0,i.jsxs)(eo.K,{mt:4,children:[(0,i.jsx)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,i.jsxs)("div",{className:"font-sans text-[15px] leading-[20px] flex items-center space-x-1 w-fit",children:[(0,i.jsx)("span",{children:"Exclude Styles"}),(0,i.jsx)("span",{className:"inline-block pt-[1px]",children:(0,i.jsx)(e8.Z,{label:"Describe the styles of music you want to exclude (e.g., dance pop)."})}),(0,i.jsx)(e6.Z,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!"})]})}),(0,i.jsx)(eB.Z,{placeholder:"Enter styles to exclude...",maxLength:h.cG,spacedLeftAsset:!1,resize:!1,value:k.negativeTags,isScrollable:!1,onChange:e=>k.setNegativeTags(e.target.value),customHeight:"h-[100px]"})]}),(0,i.jsxs)(eo.K,{mt:4,children:[(0,i.jsx)(eo.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",children:(0,i.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Title"})}),(0,i.jsx)(eB.Z,{maxLength:80,value:k.title,onChange:e=>k.setTitle(e.target.value),placeholder:"Enter a title",customHeight:"h-2"})]}),k.continueClipId?(0,i.jsx)(eD.dw,{clipId:k.continueClipId}):null]})]}),(0,i.jsx)(eA.m,{children:(0,i.jsxs)(o.k,{width:"100%",alignItems:"center",gap:2,children:[(""!==k.description||""!==k.style||""!==k.lyrics||""!==k.title||Object.values(eE).some(e=>""!==e))&&(0,i.jsx)(o.k,{justifyContent:"flex-start",children:(0,i.jsx)("button",{onClick:()=>{var e;k.setStyle(""),k.setNegativeTags(""),k.setEnableExcludeStyle(!1),k.setDescription(""),k.setTitle(""),k.setLyrics(""),k.resetContinueClip(),k.resetArtistClip(),k.resetCoverClip(),p(!1),x(!1),eM(eP),(null==S?void 0:null===(e=S.flags)||void 0===e?void 0:e.personas)&&k.resetPersona()},className:"text-[13px] font-sans font-medium text-primary bg-tertiary py-4 px-6 rounded-full",children:"Clear"})}),(0,i.jsx)(o.k,{width:""!==k.description||""!==k.style||""!==k.lyrics||""!==k.title||null!==k.continueClipId||null!==k.artistClipId||null!==k.coverClipId?"95%":"100%",children:R?(0,i.jsxs)("div",{className:"w-full",children:[(0,i.jsx)(e9.Z,{isDisabled:S.isOutOfCredits,isMobile:!0,tooltipLabel:tr,onClick:()=>{if(S.isOutOfCredits){window.open("/account","_blank"),v.g.logAudioCreationEvent(!0,f.OF.clickDisabledCreateSongWhenOutOfCredits,k,S,{});return}},children:(0,i.jsx)(eR.Z,{onClick:()=>{if(S.isOutOfCredits){v.g.logAudioCreationEvent(!0,f.OF.clickDisabledCreateSongWhenOutOfCredits,k,S,{});return}k.setGenerationType("IMAGE"),W(k,C)},text:"Extract",icon:"/create-new.svg",isDisabled:S.isOutOfCredits||!te(),overrideButtonDisabled:S.isOutOfCredits,isLoading:k.isLoading,label:"Extract",fullWidth:!0})}),!te()&&(0,i.jsx)("div",{className:"font-sans text-sm",children:"* Please upload at least one image."})]}):(0,i.jsx)(e9.Z,{isDisabled:S.isOutOfCredits,isMobile:!0,tooltipLabel:tr,onClick:()=>{if(S.isOutOfCredits){window.open("/account","_blank"),v.g.logAudioCreationEvent(!0,f.OF.clickDisabledCreateSongWhenOutOfCredits,k,S,{});return}},children:(0,i.jsx)(eR.Z,{onClick:async()=>{if(S.isOutOfCredits){v.g.logAudioCreationEvent(!0,f.OF.clickDisabledCreateSongWhenOutOfCredits,k,S,{});return}v.g.track("Mobile Create Clicked",{isMobile:!0,page:E}),eS?(tt(),k.setDescription(""),eM(e=>{let t={...e};return Object.keys(t).forEach(e=>{t[e]=""}),t})):I?await W(k,C):await q()},overrideButtonDisabled:S.isOutOfCredits,isDisabled:S.isOutOfCredits||L&&!k.artistClipId&&!k.lyrics&&!k.style||!k.isContinueValid()||!(()=>{if(!eS)return!0;let e=e_[eS];return!e||e.content.every(e=>"object"!=typeof e||"input"!==e.type||""!==eE[e.field].trim())})(),isLoading:k.isLoading,text:"Create",icon:"/create-new.svg",fullWidth:!0})})})]})})]})]}),eu&&(0,i.jsx)(eK.Z,{}),em&&(0,i.jsx)(eY.Z,{}),eg&&(0,i.jsx)(eH.Z,{}),ev&&(0,i.jsx)(eQ.Z,{}),eb&&(0,i.jsx)(e1.Z,{}),ej&&(0,i.jsx)(e$.Z,{}),ek&&(0,i.jsx)(e0.Z,{}),(0,i.jsx)(eW.Z,{isOpen:G,onClose:K,onConfirm:el,isLoading:X})]})});var tt=n(48290),tn=n(29945),tl=n(4681),ti=n.n(tl),ta=n(81623),to=n(70233);let ts=(0,r.Pi)(e=>{var t;let{clip:n,onClick:l,contextId:a,contextType:o,showActions:s=!0,showArtist:r=!0,transparent:c=!1,actionButtonText:u,onActionButtonClick:p,bgColor:m,bgOpacity:x,isCentered:g,withTitleLink:v=!0,withStyleLinks:f=!0}=e,{playbar:b,queue:y}=(0,d.mZ)(),j=(null===(t=b.clip)||void 0===t?void 0:t.id)===(null==n?void 0:n.id)&&(y.contextId||null)===(a||null)&&(y.contextType||null)===(o||null);return n?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex flex-row w-full rounded-xl ".concat(g?"justify-around":""," px-1 ").concat(c?"":m?"bg-".concat(m," ").concat(x?"bg-opacity-".concat(x):""):"bg-vinylBlack-darker"," pt-2 pb-4"),children:[(0,i.jsxs)("div",{className:"rounded-md overflow-hidden h-20 min-w-14 mb-0 mt-2 border cursor-pointer relative ".concat(j?"border-white":""),onClick:l,children:[(0,i.jsx)(w.Z,{imageSize:h.YY,className:"object-cover h-20 w-14 absolute top-0",src:n.image_url||null,alt:"Image for ".concat(n.title)}),(0,i.jsx)("button",{className:"absolute top-7 left-5","aria-label":"Play / pause button",children:j?b.isPlaying?(0,i.jsx)(E.fp,{className:"w-[15px] h-[15px] fill-primary"}):(0,i.jsx)(E.o1,{className:"w-[15px] h-[15px] fill-primary"}):null})]}),(0,i.jsxs)("div",{className:"p-2 pb-0 flex-1 max-w-40 flex flex-col ".concat(g?"justify-center":""),children:[(0,i.jsx)(ta.Z,{title:n.title||"Untitled",link:v?"/song/".concat(n.id):void 0,subtitle:n.metadata.tags||"(no style)",isClipMetadata:!0,withStyleLinks:f,artistTagProps:{displayName:n.display_name,handle:n.handle,imageUrl:n.avatar_image_url||void 0,showAvatar:!1,hidden:!r}}),u&&p?(0,i.jsx)(to.Z,{hasText:!0,heightPx:32,onClick:p,children:(0,i.jsx)("span",{className:"text-sm",children:u})}):null]})]}),s?(0,i.jsx)("div",{className:"w-full align-center",children:(0,i.jsx)(k.Z,{asCardActions:!0,clip:n})}):null]}):null});var tr=n(41463);let td=(0,r.Pi)(e=>{var t;let{clip:n}=e,{library:l,clips:o,queue:s,playbar:r}=(0,d.mZ)(),[c,u]=(0,a.useState)(h.Wz),[p,m]=(0,a.useState)(null),[x,g]=(0,a.useState)(null),[v,f]=(0,a.useState)(null),[b,y]=(0,a.useState)(),[j,w]=(0,a.useState)(!1),[k,C]=(0,a.useState)(!1),[S,N]=(0,a.useState)(!1),{onOpen:_}=(0,H.q)(),I=!!(null==p?void 0:p.length),P=!!(null==v?void 0:v.length);async function E(){try{var e;await o.loadPlaylist(h.M_);let t=o.playlistById[h.M_];g(null===(e=t.playlist_clips)||void 0===e?void 0:e.map(e=>e.clip)),y(t),C(!0)}catch(e){console.error("Error fetching trending clips:",e)}}async function M(){try{let{data:e}=await l.apiClient.GET("/api/profiles/{handle}/recent_clips",{params:{path:{handle:n.handle||""}}});e&&e.clips&&(o.updateClips(e.clips),m(e.clips.filter(e=>e.id!==n.id)),w(!0))}catch(e){console.error("Error fetching profile clips:",e),m([])}}async function O(){try{let{data:e}=await l.apiClient.GET("/api/clips/get_similar/",{params:{query:{id:n.id}}});e&&e.similar_clips&&(o.updateClips(e.similar_clips),f(e.similar_clips.filter(e=>e.id!==n.id)),N(!0))}catch(e){f([])}}(0,a.useEffect)(()=>{(async()=>{await M(),w(!0),await E(),C(!0),await O(),N(!0)})()},[]),(0,a.useEffect)(()=>{j&&k&&(!p||(null==p?void 0:p.length)===0)&&u(h.Qy)},[j,k,p]),(0,a.useEffect)(()=>{c===h.eL&&j&&p&&(s.contextId===n.id&&s.contextType===tn.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...p]),s.setPendingClips([])):s.setPendingClips([n,...p])),c===h.Qy&&k&&x&&(s.contextId===n.id&&s.contextType===tn.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...x]),s.setPendingClips([])):s.setPendingClips([n,...x])),c===h.Wz&&S&&v&&(s.contextId===n.id&&s.contextType===tn.Q.SONG_RECOMMENDATIONS?(s.setClips([n,...v]),s.setPendingClips([])):s.setPendingClips([n,...v]))},[c,j,k,S,p,b,v]);let L=(0,i.jsx)(tc,{clip:n,selected:c,setSelected:u,profileTab:h.eL,hasOtherPublicSongs:I,hasSimilarSongs:P}),F=(c===h.Qy?null==b?void 0:null===(t=b.playlist_clips)||void 0===t?void 0:t.map(e=>e.clip):c===h.eL?p:v)||[];return(0,i.jsxs)("div",{className:"flex flex-col w-full h-full overflow-y-hidden overflow-x-hidden p-2 bg-vinylBlack-darker",children:[L,(0,i.jsx)("div",{className:"overflow-y-auto flex-1 overflow-x-hidden",children:F.map((e,t)=>{let n=()=>{var n;if((null===(n=r.clip)||void 0===n?void 0:n.id)===e.id){r.togglePlay();return}s.setPlayContext({contextType:tn.Q.SONG_RECOMMENDATIONS,contextId:"".concat(e.id,"_").concat(c),currentIndex:t+1,clips:[e,...F],pendingClips:[]}),r.playClip(e)};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(ts,{clip:o.clipById[e.id],onClick:n,onPlay:n,onAddToPlaylist:()=>{_()},contextType:tn.Q.SONG_RECOMMENDATIONS,contextId:"".concat(e.id,"_").concat(c),index:t+1},e.id)})})})]})}),tc=(0,r.Pi)(e=>{let{clip:t,selected:n,setSelected:l}=e,[o]=(0,b.a)("(max-width: 768px)"),[s,r]=(0,a.useState)(new Date),[d,c]=(0,a.useState)({profile:0,trending:0,similar:0}),u=e=>{let i=(new Date().getTime()-s.getTime())/1e3,a={...d,[n]:d[n]+i};c(a),ti().track("More Songs Tab Session Time",{tab:n,duration:a[n],profile:t.display_name,isMobile:o}),r(new Date),l(e)};(0,a.useEffect)(()=>{let e=()=>{let e=(new Date().getTime()-s.getTime())/1e3;ti().track("More Songs Tab Session Time",{tab:n,duration:d[n]+e,profile:t.display_name,isMobile:o})};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[s,d,n,t]);let p=[h.Wz,h.eL];return(0,i.jsx)(tr.Z,{tabs:[{label:"Similar"},{label:"By ".concat(t.display_name)}],onTabClick:e=>{l(p[e]),u(p[e])},selectedIndex:p.indexOf(n),textClass:"text-sm"})});var tu=n(8358),tp=n(33706),tm=n(48445),tx=e=>{let{supportedBrowser:t,country:n,supportedCountries:l,title:o="Suno - Make Music",description:s="The official music app by Suno",link:r="https://apps.apple.com/us/app/suno-make-music/id6480136315",actionText:d="view"}=e,[c,u]=(0,a.useState)(!1),m=n&&void 0!==l.find(e=>e.toLowerCase()===n.toLowerCase());return(0,a.useEffect)(()=>{J()("localStorage")&&u("1"!==window.localStorage.getItem("hideMobileBanner"))},[]),c&&t&&m&&(0,i.jsxs)("div",{"aria-label":"Mobile App Banner",className:"relative w-full h-[4.5rem] z-50 md:hidden flex gap-2 items-center px-3 bg-[#1c242c]",children:[(0,i.jsx)("button",{"aria-label":"Close Mobile App Banner",onClick:()=>{J()("localStorage")&&(u(!1),window.localStorage.setItem("hideMobileBanner","1"))},children:(0,i.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-4 h-4 fill-neutral-400",viewBox:"0 0 384 512",children:(0,i.jsx)("path",{d:"M192 233.4L59.5 100.9l-22.6 22.6L169.4 256 36.9 388.5l22.6 22.6L192 278.6l132.5 132.5 22.6-22.6L214.6 256l132.5-132.5-22.6-22.6L192 233.4z"})})}),(0,i.jsxs)(p.default,{className:"w-full flex items-center gap-2",href:r,target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)("img",{className:"w-14 h-14 aspect-square flex flex-shrink-0 relative overflow-hidden rounded-xl",src:"/suno-app-icon.webp",alt:"mobile banner"}),(0,i.jsxs)("section",{className:"w-full font-sans flex justify-between items-center",children:[(0,i.jsxs)("div",{className:"flex flex-col justify-center",children:[(0,i.jsx)("h1",{children:o}),(0,i.jsx)("p",{className:"text-xs text-neutral-400",children:s})]}),(0,i.jsx)("button",{className:"bg-white hover:brightness-[60%] px-4 py-1 rounded-full text-sm font-semibold uppercase text-[#1c242c]",children:d})]})]})]})},tg=n(67582),th=n(79794);let tv=(0,r.Pi)(e=>{var t;let{experimentKey:n,title:l,subtitle:o,renderDataComponent:s}=e,{experiments:r,session:c,clips:u}=(0,d.mZ)(),p=(0,N.usePathname)(),[m,x]=(0,a.useState)(!1),[g,h]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{var e,t,l,i,a;let o="experiment_modal_seen_".concat(n);if(n&&(await r.loadExperiment(n),u.updateClips((null===(l=r.experiments)||void 0===l?void 0:null===(t=l[n])||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.top_clips)||[]),v.g.logWebPageEvent({userId:null!==(i=null==c?void 0:c.userId)&&void 0!==i?i:"",eventType:v.D.OPEN,element:"sidebar_banner",method:"auto",entityType:"sidebar_banner",entityId:n,pageUrl:p})),x(!0),J()("localStorage")){let e=localStorage.getItem(o),t=document.body.getBoundingClientRect().width<768;!e&&t&&(h(!0),v.g.logWebPageEvent({userId:null!==(a=null==c?void 0:c.userId)&&void 0!==a?a:"",eventType:v.D.OPEN,element:"popup",method:"auto",entityType:"popup",entityId:n,pageUrl:p}),localStorage.setItem(o,Date.now().toString()))}})()},[]);let f=null===(t=r.experiments)||void 0===t?void 0:t[n||""];return m&&(null==f?void 0:f.userExposure)&&c.user?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"px-8",children:[(0,i.jsx)("div",{className:"rounded-lg bg-accentPink inline text-sm px-2 py-1",children:"Beta"}),(0,i.jsx)("h3",{className:"font-serif text-xl mt-4",children:l}),(0,i.jsxs)("div",{className:"text-base pt-4",children:[o,s(null==f?void 0:f.data,null==f?void 0:f.config,!1,()=>{})]})]}),g?(0,i.jsx)(tg.Z,{title:"",onClose:()=>{var e;h(!1),v.g.logWebPageEvent({userId:null!==(e=null==c?void 0:c.userId)&&void 0!==e?e:"",eventType:v.D.CLOSE,element:"close_button",method:"auto",entityType:"popup",entityId:n,pageUrl:p})},mobileOnly:!0,withAuraBackground:!0,fullScreenHeight:!0,wrapperClasses:"flex flex-col justify-center h-full",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"rounded-lg bg-accentPink inline-block px-2 py-1 mb-4",children:"Beta"}),(0,i.jsx)(th.Z,{withLineClamp:!1,responsive:!1,text:"Introducing\nCovers"}),(0,i.jsx)("div",{className:"text-lg px-4 mb-4",children:"Reimagine the melodies you love! Just go to the song menu for one of your songs > Create > Cover Song"}),s(null==f?void 0:f.data,null==f?void 0:f.config,!0,()=>{h(!1)})]})}):null]}):null}),tf=(0,a.createContext)({}),tb=(0,a.createContext)({}),ty=(0,a.createContext)({}),tj="cover_pro_cta2";var tw=(0,r.Pi)(e=>{let{children:t,supportedBrowser:n,supportedCountries:l,country:s}=e,{isSignedIn:r}=(0,F.aC)(),{session:u,clips:p,playbar:m}=(0,d.mZ)(),[x,g]=(0,a.useState)(null),[f,y]=(0,a.useState)(null),[j,w]=(0,a.useState)(null),[k,C]=(0,a.useState)(!1),[S,_]=(0,a.useState)(14),I=(0,N.usePathname)(),P=(0,ey.m)(),E=(0,a.useRef)(null),M=(0,a.useRef)(null),[L]=(0,b.a)("(max-width: 900px)");u.captchaVerification=()=>{E.current.execute()};let{onOpen:T}=(0,H.q)(),A=$(),{onOpen:D,isOpen:R,onClose:z}=(0,H.q)(),[Z,B]=(0,a.useState)(!1),[U,V]=(0,a.useState)(!1),[q,W]=(0,a.useState)(!1),G=()=>{W(!0)},[,K]=(0,tu.fP)(["irclickid"]),Y=(0,N.useSearchParams)().get("irclickid");(0,a.useEffect)(()=>{Y&&K("irclickid",Y,{path:"/",expires:new Date(Date.now()+2592e6)})},[]);let[X,J]=(0,a.useState)("");return(0,a.useEffect)(()=>{J((0,tp.t)())},[]),(0,a.useEffect)(()=>{new ResizeObserver(()=>{if(M.current)try{let e=M.current.getBoundingClientRect().width,t=e*h.g5*h.sU;_(Math.min(Math.max(t,h.CP),h.uK)),u.setPreviewInitialWidth(e)}catch(e){console.error("Error updating preview font size:",e)}}).observe(M.current)},[]),(0,i.jsxs)("div",{className:"bg-vinylBlack-darker w-full h-full flex flex-col",children:[(0,i.jsxs)(o.k,{flex:"1",width:"100%",flexDirection:["column","column","row"],overflowY:"auto",children:[(0,i.jsx)(eg,{onOpenEditProfile:D,isOpenEditProfile:R,onCloseEditProfile:z}),(0,i.jsxs)(o.k,{flex:"1",flexDirection:"column",overflowY:"auto",position:"relative",children:[(0,i.jsxs)(eb.i,{children:[(0,i.jsx)(tx,{supportedBrowser:n,country:s,supportedCountries:l}),(0,i.jsx)(eL,{onOpen:T})]}),(0,i.jsx)(tb.Provider,{value:{isExtendModeOn:Z,setExtendModeOn:B,isReusePromptOn:U,setReusePromptOn:V},children:(0,i.jsx)("div",{className:"relative flex flex-1 overflow-y-hidden overflow-x-hidden w-full ".concat(k?"-mt-16":"mt-0"," md:mt-0"),children:(0,i.jsx)(ty.Provider,{value:{setPreviewClip:g,setPreviewInfillRange:y,setClipForSongRecs:w,setAllowFlushToTop:C,previewClip:x},children:(0,i.jsxs)(tm.Z,{style:{flexGrow:1,zIndex:4},className:"w-full",visible:!L,renderBar:e=>{let{onMouseDown:t,...n}=e;return(0,i.jsx)("div",{...n,style:{boxShadow:"none",background:"transparent"},children:(0,i.jsx)("div",{onMouseDown:t,style:{backgroundColor:"#252323",boxShadow:"none"}})})},children:[(0,i.jsxs)("div",{className:"flex lg:min-w-[570px] flex-1 bg-vinylBlack-darker w-full max-w-full",style:{position:"relative"},children:[(0,i.jsx)(i.Fragment,{children:t}),(0,i.jsx)(O,{hidden:!m.clip||I.startsWith("/edit/")})]}),(0,i.jsx)("div",{className:"h-full min-w-[232px] w-[232px] max-w-[250px] min-[1350px]:max-w-[300px] 2xl:max-w-[350px] overflow-y-scroll hidden bg-tertiary ".concat(I.startsWith("/create")?"xl:block":"lg:block"," no-scrollbar"),style:{scrollbarWidth:"none",width:u.previewInitialWidth},ref:M,children:x?(0,i.jsx)(tt.Z,{clip:p.clipById[x.id],fontSize:S,onCloseClipPreview:()=>{g(null)},infillRange:f||void 0}):j?(0,i.jsx)(td,{clip:p.clipById[j.id]}):(0,i.jsxs)("div",{className:"h-full w-full flex flex-1 items-start relative overflow-y-auto overflow-x-hidden",children:[X?(0,i.jsx)("img",{src:"/auras/".concat(X),className:"h-full w-full object-cover absolute top-0 opacity-70"}):null,(0,i.jsx)("div",{className:"bg-gradient-to-t from-tertiary via-tertiary to-transparent from-0% via-50% w-full min-h-[calc(100%-128px)] h-auto object-cover absolute top-32 flex items-start justify-center",children:(0,i.jsx)(tv,{experimentKey:tj,renderDataComponent:(e,t,n,l)=>{let{session:a,genForm:o}=(0,d.mZ)(),s=(0,N.useRouter)(),r=(0,N.usePathname)();return n&&(null==t?void 0:t.banner_version)==="B"?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"justify-center flex h-auto w-full",children:(0,i.jsx)("img",{src:"/coversGrowth.png",className:"w-[180px]"})}),a.freeCoverClipsLeft>0?(0,i.jsx)("div",{onClick:()=>{l&&l(),"/create"!==r&&s.push("/create")},className:"mb-8 h-20 w-full bg-primary/75 text-vinylBlack-darker flex justify-center items-center text-xl left-0 absolute bottom-0 rounded-b-[32px]",children:"Try it now! ".concat(a.freeCoverClipsLeft," free covers remaining")}):null]}):(0,i.jsxs)(i.Fragment,{children:[n?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("br",{}),(0,i.jsx)("br",{})]}),(0,i.jsx)("div",{className:"text-lg md:text-base mb-4",children:"A"===t.banner_version?"Try covering your most popular ".concat(n?"song":"songs",":"):"Here are a few examples we love:"}),(0,i.jsx)("div",{className:"mb-4 min-w-[190px]",children:((null==t?void 0:t.banner_version)==="A"?e.top_clips||[]:e.example_clips||[]).slice(0,n?1:3).map(e=>{var d;return(0,i.jsx)(ts,{clip:e,onClick:()=>{var t;(null==m?void 0:null===(t=m.clip)||void 0===t?void 0:t.id)===e.id?m.togglePlay():m.playClip(e)},transparent:!n,bgColor:"tertiary",bgOpacity:"60",isCentered:!0,withStyleLinks:!1,withTitleLink:!1,showActions:!1,showArtist:!1,actionButtonText:(null==t?void 0:t.banner_version)==="A"?"Cover Song":m.isPlaying&&(null==m?void 0:null===(d=m.clip)||void 0===d?void 0:d.id)===e.id?"Pause Song":"Play Song",onActionButtonClick:()=>{var i,d;v.g.logWebPageEvent({userId:null!==(i=null==a?void 0:a.userId)&&void 0!==i?i:"",eventType:v.D.CLICK,element:(null==t?void 0:t.banner_version)==="A"?"cover_button":"play_button",method:"auto",entityType:n?"popup":"sidebar_banner",entityId:tj,pageUrl:r}),(null==t?void 0:t.banner_version)==="A"?(o.reset(),requestAnimationFrame(()=>{var t;o.setTask("cover"),o.setCoverClip(e),o.setLyrics((null===(t=e.metadata)||void 0===t?void 0:t.prompt)||"")}),"/create"!==r&&s.push("/create"),n&&(l&&l(),G())):(null==m?void 0:null===(d=m.clip)||void 0===d?void 0:d.id)===e.id?m.togglePlay():m.playClip(e)}},e.id)})}),a.freeCoverClipsLeft>0?(0,i.jsx)("div",{className:"text-primary border border-transparentWhite text-sm font-sans text-center bg-quaternary rounded-xl py-4 px-2 m-2 mb-4 mt-4",children:"".concat(a.freeCoverClipsLeft," free cover songs remaining")}):null,"B"===t.banner_version?(0,i.jsx)(eR.Z,{fullWidth:!0,onClick:()=>{var e;v.g.logWebPageEvent({userId:null!==(e=null==a?void 0:a.userId)&&void 0!==e?e:"",eventType:v.D.CLICK,element:"library_button",method:"auto",entityType:n?"popup":"sidebar_banner",entityId:tj,pageUrl:r}),"/me"!==r&&s.push("/me")},text:"Go To Library"}):null]})},title:"Introducing Covers",subtitle:"Reimagine the melodies you love! Just right click one of your songs > Create > Cover Song"})})]})})]})})})})]})]}),r?(0,i.jsx)(eb.i,{children:(0,i.jsx)(te,{isExtendModeOn:Z,setExtendModeOn:B,isReusePromptOn:U,setReusePromptOn:V,isOpen:q,onClose:()=>{W(!1)},onOpen:G})}):null,(0,i.jsx)(eb.i,{children:(0,i.jsx)(eO,{onOpen:T,changelogItems:A,isOpenEditProfile:R,onCloseEditProfile:z,onOpenEditProfile:D,onOpenCreate:G})}),(0,i.jsx)(c,{}),(0,i.jsx)(ef.Z,{sitekey:h.uH,size:"invisible",onVerify:e=>{P.POST("/api/user_actions/user_check/",{body:{captcha_token:e}})},ref:E})]})})},66442:function(e,t,n){var l=n(57437),i=n(1225),a=n(51464),o=n(6005),s=n(1371),r=n(52249),d=n(99240),c=n(20408);n(30442),n(81453),n(61236);var u=n(95430),p=n(84338),m=n(53478),x=n(2265),g=n(63047),h=n(64874),v=n(92115),f=n(36413);let b=(0,u.Pi)(e=>{let{popoverTopMargin:t,fromMobileLibrary:n,customHeight:u,customWidth:b,iconSize:y,fontSize:j}=e,{clips:w,session:k,library:C,genForm:S}=(0,p.mZ)(),[N]=(0,i.a)("(max-width: 768px)"),{isOpen:_,onOpen:I,onClose:P}=(0,a.q)(),[E,M]=(0,x.useState)(!1),[O,L]=(0,x.useState)(!1),F=(0,x.useRef)(),{isOpen:T,onOpen:A,onClose:D}=(0,a.q)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{"aria-label":"Upload Audio",onClick:I,className:"upload-audio-button font-sans bg-quaternary text-white ".concat(j," font-medium py-2 px-4 rounded-full shadow-lg hover:bg-primary/30 ").concat(n?"-ml-2":""," ").concat(u," ").concat(b),children:(0,l.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[(0,l.jsx)("img",{src:"/icons/upload-active.svg",alt:"Upload",className:"w-".concat(y," h-").concat(y," ").concat(n?"mr-0":"mr-2"," filter invert brightness-0")}),(0,l.jsx)("span",{className:"whitespace-nowrap text-md",children:n?"":"Upload Audio"})]})}),(0,l.jsxs)(o.u_,{isOpen:_,onClose:()=>{O||!E?(L(!1),P()):L(!0)},isCentered:!0,children:[(0,l.jsx)(s.Z,{bgColor:"var(--chakra-colors-whiteAlpha-300)"}),(0,l.jsxs)(r.h,{backgroundColor:"black",children:[(0,l.jsxs)(d.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-3xl pl-4 pt-8",children:"Upload Audio"}),(0,l.jsx)(f.Z,{onClick:P})]}),(0,l.jsx)(c.f,{children:(0,l.jsx)(m.Z,{isConfirmingClose:O,setIsConfirmingClose:L,onClose:()=>{O||!E?(L(!1),P()):L(!0)},onFinish:async(e,t,n,l)=>{k.botCheck();let{data:i,error:a}=await C.apiClient.POST("/api/uploads/audio/{upload_id}/initialize-clip/",{params:{path:{upload_id:e||""}}});if(a||!i){(0,p.Am)({title:"Invalid upload. Please try again.",status:"error",duration:2e3,isClosable:!0}),P();return}let o=i.clip_id;await C.loadClips(),await w.setMetadata({clipId:o,title:t,imageUrl:n,isAudioUploadTOSAccepted:!0}),h.g.logAudioCreationEvent(N,v.OF.uploadSong,S,k,{hasVocal:w.clipById[o].metadata.has_vocal,newClipIds:[o],isUploaded:!0,uploadType:l}),P()},setShouldConfirmClose:M})})]})]}),(0,l.jsx)(g.Z,{buttonRef:F,isOpen:T,onClose:D,onOpen:A,topMargin:t})]})});t.Z=b},14326:function(e,t,n){var l=n(26387),i=n(66648);t.Z=(0,l.chakra)(i.default,{shouldForwardProp:e=>["width","height","src","alt"].includes(e)})},65870:function(e,t,n){var l=n(57437),i=n(1633),a=n(64973),o=n(2265),s=n(84338);t.Z=e=>{var t,n;let{src:r,fallbackSrc:d=i.ax,imageSize:c=0,...u}=e,{session:p}=(0,s.mZ)(),[m,x]=(0,o.useState)(r||d),g=()=>{x(d)};return(0,o.useEffect)(()=>{x(r||d)},[r]),(0,l.jsx)(l.Fragment,{children:(c==i.YY||c==i.PE)&&(null==p?void 0:null===(t=p.flags)||void 0===t?void 0:t["image-on-demand-backfill-jpeg"])?(0,l.jsx)(a.E,{src:((n=m||void 0)!=i.ax&&(null==n?void 0:n.endsWith(".jpeg"))&&c>0&&(n=n+"?width="+c),n),onError:g,loading:"lazy",...u}):(0,l.jsx)(a.E,{src:m,onError:g,loading:"lazy",...u})})}},39799:function(e,t,n){n.d(t,{Ng:function(){return s},SZ:function(){return o},bz:function(){return r}});var l=n(57437),i=n(2265),a=n(2731);function o(e){let{children:t,...n}=e;return(0,l.jsx)(a.e_,{...n,children:t})}function s(e){let{children:t,...n}=e;return(0,l.jsx)(a.l5,{...n,children:t})}let r=(0,i.createContext)({})},85751:function(e,t,n){var l=n(57437),i=n(84338),a=n(39799),o=n(95430),s=n(2265),r=n(13473),d=n(69548),c=n(65870),u=n(26234),p=n(1633),m=n(93692),x=n(67582);let g=(0,o.Pi)(e=>{var t,n,o,g;let{library:h,isOpen:v,onClose:f,onPlaylistClick:b,clipId:y}=e,{ref:j}=(0,r.YD)({threshold:0,onChange:async e=>{if(e){var t;let e=Math.floor((null===(t=h.clips.allPlaylists)||void 0===t?void 0:t.length)/d._v)+1;h.loadPlaylists(e)}}}),{session:w}=(0,i.mZ)(),[k,C]=(0,s.useState)(!1),{selectedClipIds:S}=(0,s.useContext)(a.bz);(0,s.useEffect)(()=>{w.userId&&v&&h.loadPlaylists()},[w.userId,v]);let N=null===(n=h.clips)||void 0===n?void 0:null===(t=n.allPlaylists)||void 0===t?void 0:t.filter(e=>{var t;return e.id!==(null===(t=h.activePlaylist)||void 0===t?void 0:t.id)}),[_,I]=(0,s.useState)(""),[P,E]=(0,s.useState)("");return((0,s.useEffect)(()=>{let e=["/placeholder-1.jpg","/placeholder-2.jpg","/placeholder-3.jpg"];v&&I(e[Math.floor(Math.random()*e.length)])},[v]),v)?(0,l.jsxs)(x.Z,{title:"Add to Playlist",onClose:f,wrapperClasses:"max-h-[480px] mb-4",children:[(0,l.jsxs)("div",{className:"overflow-y-auto max-h-[400px] mb-4",children:[!N.length&&h.isLoaded.playlists&&(0,l.jsx)("div",{className:"flex flex-col items-center gap-8 font-sans",children:(0,l.jsx)("p",{children:"You have no playlists to add to. Click below to create a new playlist."})}),N.map(e=>{var t,n;return(0,l.jsxs)("div",{className:"flex items-center p-2 cursor-pointer rounded-md hover:bg-secondary/20",onClick:()=>{(S||y)&&b&&b([...S||!!y&&[y]||[]].map(e=>h.clips.clipById[e.toString()]),e),f()},children:[(0,l.jsx)(c.Z,{imageSize:p.YY,src:e.image_url||(null===(n=e.playlist_clips[0])||void 0===n?void 0:null===(t=n.clip)||void 0===t?void 0:t.image_url)||_,width:"40px",borderRadius:"sm",alt:"Playlist cover image"}),(0,l.jsx)("div",{className:"ml-4 font-sans",children:e.name||"Untitled Playlist"})]},e.id)}),(null===(g=h.clips)||void 0===g?void 0:null===(o=g.allPlaylists)||void 0===o?void 0:o.length)<h.numTotalPlaylists&&(0,l.jsx)("div",{className:"flex justify-center p-4",children:(0,l.jsx)(m.Z,{ref:j})})]}),(0,l.jsxs)("div",{className:"w-full flex gap-4 whitespace-nowrap",children:[(0,l.jsx)("input",{className:"w-full border bg-transparent border-secondary/20 focus-within:outline-white rounded-md py-3 px-2 text-sm whitespace-nowrap",placeholder:"Playlist Name",value:P,onChange:e=>E(e.target.value)}),(0,l.jsx)(u.Z,{onClick:async()=>{var e;C(!0),E(""),await (null===(e=h.clips)||void 0===e?void 0:e.createPlaylist(P&&{name:P})),h.loadPlaylists(),C(!1)},text:"Create Playlist",isLoading:k})]})]}):null});t.Z=g},48626:function(e,t,n){var l=n(57437),i=n(2265),a=n(6005),o=n(1371),s=n(52249),r=n(99240),d=n(20408),c=n(10114),u=n(18755),p=n(96788),m=n(1726),x=n(47414),g=n(40323),h=n(84338),v=n(36413);t.Z=e=>{let{clip:t,isOpen:n,onClose:f,onFeedbackSubmit:b,onFeedbackRemoved:y}=e,{clips:j}=(0,h.mZ)(),[w,k]=(0,i.useState)(!1),[C,S]=(0,i.useState)(!1),[N,_]=(0,i.useState)({goodQuality:!1,badPoorAudio:!1,other:!1}),I=e=>{let{name:t,checked:n}=e.target;"goodQuality"===t?_({goodQuality:n,badPoorAudio:!1,other:!1}):_(e=>({...e,[t]:n,goodQuality:!1}))},P=e=>"goodQuality"===e&&(N.badPoorAudio||N.other)?"rgba(255, 255, 255, 0.3)":"goodQuality"!==e&&N.goodQuality?"rgba(255, 255, 255, 0.3)":"white",E=async()=>{k(!0);let e=[];N.goodQuality&&e.push("good_quality"),N.badPoorAudio&&e.push("bad_poor_audio_quality"),N.other&&e.push("other");try{await j.feedbackClip(t.id,e.join(",")),b()}catch(e){console.error("Failed to submit feedback:",e),k(!1);return}k(!1),f()},M=async()=>{S(!0);try{await j.feedbackClip(t.id,""),_({goodQuality:!1,badPoorAudio:!1,other:!1}),y()}catch(e){console.error("Failed to remove feedback:",e),S(!1);return}S(!1),f()};return(0,i.useEffect)(()=>{let e=(0,g.Jr)(t);_({goodQuality:e.includes("good_quality"),badPoorAudio:e.includes("bad_poor_audio_quality"),other:e.includes("other")})},[t]),(0,l.jsxs)(a.u_,{isOpen:n,onClose:f,isCentered:!0,children:[(0,l.jsx)(o.Z,{}),(0,l.jsxs)(s.h,{sx:{bgColor:"#252020"},borderRadius:"32px",children:[(0,l.jsxs)(r.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-2xl pl-4 py-8",children:"What do you think of this clip?"}),(0,l.jsx)(r.k,{className:"-mt-10",children:(0,l.jsx)(v.Z,{onClick:f})})]}),(0,l.jsx)(d.f,{children:(0,l.jsxs)(c.K,{spacing:3,children:[(0,l.jsx)(u.X,{name:"goodQuality",isChecked:N.goodQuality,onChange:I,color:P("goodQuality"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Good audio/vocal quality"}),(0,l.jsx)(p.i,{}),(0,l.jsx)(u.X,{name:"badPoorAudio",isChecked:N.badPoorAudio,onChange:I,color:P("badPoorAudio"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Poor audio/vocal quality"}),(0,l.jsx)(u.X,{name:"other",isChecked:N.other,onChange:I,color:P("other"),colorScheme:"gray",fontFamily:"Neue Montreal",children:"Other"})]})}),(0,l.jsxs)(m.m,{justifyContent:"space-between",alignItems:"flex-end",children:[(0,l.jsx)(x.z,{bg:"#FAF7F5",borderRadius:"full",color:"black",_hover:{opacity:"50%"},fontFamily:"Neue Montreal",fontWeight:200,onClick:M,isLoading:C,size:"xs",ml:-2,children:"Clear Feedback"}),(0,l.jsx)(x.z,{bg:"#FAF7F5",borderRadius:"full",color:"black",_hover:{opacity:"50%"},fontFamily:"Neue Montreal",fontWeight:200,onClick:E,isLoading:w,mr:-2,children:"Submit Feedback"})]})]})]})}},82162:function(e,t,n){var l=n(57437),i=n(84338),a=n(69548),o=n(2265),s=n(26234),r=n(1633),d=n(40129),c=n(87008),u=n(29945),p=n(7255),m=n(93692),x=n(64874),g=n(92115),h=n(4681),v=n.n(h),f=n(16463),b=n(67582);t.Z=e=>{let{isOpen:t,onClose:n,initialClip:h}=e,{library:y,clips:j,persona:w,session:k,playbar:C,queue:S,search:N,genForm:_}=(0,i.mZ)(),I=(0,f.usePathname)(),P=(0,f.useRouter)(),[E,M]=(0,o.useState)((null==h?void 0:h.id)||null),[O,L]=(0,o.useState)(""),[F,T]=(0,o.useState)(""),[A,D]=(0,o.useState)(!1),[R,z]=(0,o.useState)(null),[Z,B]=(0,o.useState)(null),[U,V]=(0,o.useState)(null),[q,W]=(0,o.useState)(null),[G,K]=(0,o.useState)(!1),[Y,H]=(0,o.useState)(!1),[X,J]=(0,o.useState)([]),Q=(0,o.useRef)(null),[$,ee]=(0,o.useState)(!1),[et,en]=(0,o.useState)(""),el=(0,o.useRef)(null),[ei,ea]=(0,o.useState)(null),eo=(0,o.useRef)(null),es=async()=>{if(!Y){H(!0);try{await y.loadClips(),J([...y.clipIds])}catch(e){console.error("Error loading clips:",e)}finally{H(!1)}}},er=e=>{null!==eo.current&&(clearTimeout(eo.current),eo.current=null),eo.current=setTimeout(async()=>{H(!0);let t=e.trim().substring(0,r.Dj);await y.updateFiltersSync({...y.filters.clips,query:t,page:0}),J([...y.clipIds]),requestAnimationFrame(()=>{H(!1)}),N.librarySearchTerm=t},r.ET)};(0,o.useEffect)(()=>{es()},[]),(0,o.useEffect)(()=>{let e=e=>{Q.current&&!Q.current.contains(e.target)&&D(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[Q.current]),(0,o.useEffect)(()=>{A&&el.current&&el.current.focus()},[A]);let ed=e=>{M(e),D(!1),z(null),x.g.segmentTrack(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_root_clip",eventType:"click",entityId:e,pageUrl:I,action_name:"selectPersonaRootClip"}),v().track(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_root_clip",eventType:"click",entityId:e,pageUrl:I,action_name:"selectPersonaRootClip"})},ec=e=>{let t=j.clipById[e],n=(0,a.M8)(t);return{title:(null==n?void 0:n.length)>100?"".concat(n.substring(0,100),"..."):n,playCount:null==t?void 0:t.play_count,imageUrl:null==t?void 0:t.image_url}},eu=e=>{ei===e&&C.isPlaying?(C.togglePlay(),ea(null)):(ea(e),S.setPlayContext({clips:y.currentClips||[],currentIndex:(y.currentClips||[]).findIndex(t=>t.id===e),contextType:u.Q.FEED}),C.playClip(j.clipById[e]))};(0,o.useEffect)(()=>{C.clip&&C.isPlaying?ea(C.clip.id):ea(null)},[C.clip,C.isPlaying]);let ep=async()=>{if(!E){z("You need to select a base clip!");return}K(!0);let e={user_id:k.userId||"",root_clip_id:E,name:O,description:F,image_s3_id:U,clips:[E]};try{let t=await w.createPersona(e);t&&(_.setPersona(t.id),_.setPersonaClipId(t.root_clip_id),em(),n(),x.g.segmentTrack(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_save_button",eventType:"click",entityId:null==t?void 0:t.id,pageUrl:I}),v().track(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_save_button",eventType:"click",entityId:null==t?void 0:t.id,pageUrl:I}),"/me/personas"===I?P.push("/persona/".concat(t.id)):P.push("/create"))}catch(e){console.error("Error creating persona:",e)}finally{K(!1)}},em=(0,o.useCallback)(()=>{M((null==h?void 0:h.id)||null),L(""),T(""),z(null),V(null),D(!1)},[h]),ex=(0,o.useCallback)(()=>{em(),n(),x.g.segmentTrack(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_modal_close",eventType:"close",pageUrl:I}),v().track(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"persona_modal_close",eventType:"close",pageUrl:I})},[n,em]);return((0,o.useEffect)(()=>{t?M((null==h?void 0:h.id)||null):(em(),N.librarySearchTerm="",y.updateFilters({...y.filters.clips,query:"",page:0}))},[t,h]),t)?(0,l.jsx)(b.Z,{title:"Create a Persona",onClose:ex,children:(0,l.jsxs)("div",{className:"flex flex-col h-full",children:[(0,l.jsxs)("div",{className:"flex-grow overflow-y-auto",children:[(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[(0,l.jsx)("label",{className:"block mb-1 p-1",children:"Based on"}),R&&(0,l.jsx)("span",{className:"text-accentPink text-sm",children:R})]}),(0,l.jsxs)("div",{className:"relative",ref:Q,children:[(0,l.jsxs)("div",{className:"flex items-center justify-between flex bg-tertiary p-2 rounded-md border border-quaternary cursor-pointer hover:bg-secondary/20",onClick:()=>{D(!A)},children:[E&&(0,l.jsx)(d.Z,{src:ec(E).imageUrl,alt:ec(E).title,className:"w-[30px] h-[41px] rounded-md mr-2"}),(0,l.jsx)("div",{className:"w-full text-primary border-none pl-2",children:E?ec(E).title:"Select a song..."}),(0,l.jsx)("button",{children:(0,l.jsx)(c.pT,{className:"w-4 h-4 fill-primary ml-2 z-[10000]"})})]}),A&&(0,l.jsxs)("div",{className:"absolute w-full bg-tertiary text-primary border border-quaternary rounded-md mt-1 max-h-[340px] overflow-y-auto pb-4 px-4 shadow-lg",style:{zIndex:r.y$,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1), 0 10px 15px rgba(0, 0, 0, 0.2)"},children:[(0,l.jsxs)("div",{className:"relative sticky top-0 bg-tertiary pb-1 px-1 pt-2",style:{zIndex:r.B$},children:[(0,l.jsx)(c.W1,{className:"absolute left-4 top-4 transform w-4 h-4 fill-primary"}),(0,l.jsx)("input",{ref:el,type:"text",placeholder:"Search for a song in your library...",className:"w-full pl-10 pr-4 py-1 mb-2 bg-tertiary text-primary border border-secondary rounded-full focus:outline-none placeholder-secondary placeholder-opacity-70",onChange:e=>{er(e.target.value)}})]}),Y?(0,l.jsx)("div",{className:"flex justify-center items-center py-4",children:(0,l.jsx)(m.Z,{})}):0===X.length?(0,l.jsx)("div",{className:"font-serif text-center py-4",children:"No clips found"}):y.clipIds.map(e=>{let{title:t,playCount:n,imageUrl:i}=ec(e),a=ei===e&&C.isPlaying;return(0,l.jsxs)("div",{className:"flex items-center p-2 hover:bg-secondary/20 hover:rounded-lg cursor-pointer",onClick:()=>ed(e),onMouseEnter:()=>B(e),onMouseLeave:()=>B(null),children:[(0,l.jsxs)("div",{className:"relative flex-shrink-0 w-[30px] h-[41px] rounded-md mr-2 cursor-pointer",onMouseEnter:()=>B(e),onMouseLeave:()=>B(null),children:[(0,l.jsx)(d.Z,{src:i,alt:t,className:"w-full h-full rounded-md"}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 rounded-md transition-opacity ".concat(Z===e||ei===e?"opacity-100":"opacity-0"),onClick:t=>{t.stopPropagation(),eu(e)},children:a?(0,l.jsx)(c.fp,{className:"w-4 h-4 fill-primary"}):(0,l.jsx)(c.o1,{className:"w-3 h-3 fill-primary"})})]}),(0,l.jsx)("div",{className:"font-sans font-medium text-sm flex-1 pl-2",children:t}),(0,l.jsx)("div",{className:"bg-primary text-vinylBlack-darker text-[10px] font-mono rounded-full px-2 py-1 hover:bg-secondary",onClick:t=>{t.stopPropagation(),eu(e)},children:1===n?"1 PLAY":"".concat(n," PLAYS")})]},e)})]})]})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1 p-1",children:"Name"}),(0,l.jsx)("input",{type:"text",className:"w-full p-2 bg-tertiary text-primary border border-quaternary rounded-lg focus:outline-none focus:border focus:border-0.5 focus:border-primary focus:shadow-[0_0_0_0.5px_primary] placeholder-secondary placeholder-opacity-70",value:O,placeholder:"Name this persona...",onChange:e=>L(e.target.value)})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-1 p-1",children:"Avatar"}),(0,l.jsx)(p.w,{initialImageURL:q||void 0,onImageChanged:e=>{V(e),x.g.segmentTrack(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"upload_persona_image",eventType:"click",pageUrl:I}),v().track(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"upload_persona_image",eventType:"click",pageUrl:I})},smallerSize:!0}),(k.roles.pro||k.roles.staff)&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex gap-2 pt-1",children:[(0,l.jsx)("input",{type:"text",className:"w-full p-2 text-sm bg-tertiary text-primary border border-quaternary rounded-lg focus:outline-none focus:border focus:border-0.5 focus:border-primary focus:shadow-[0_0_0_0.5px_primary] placeholder-secondary placeholder-opacity-70",value:et,maxLength:200,placeholder:"Prompt Suno to create an image...",onChange:e=>en(e.target.value)}),(0,l.jsx)(s.Z,{onClick:async()=>{ee(!0);let{data:e}=await y.apiClient.POST("/api/gen/prompt_image/",{body:{prompt:et}});ee(!1),e&&W(e.image_url),x.g.segmentTrack(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"generate_persona_image",eventType:"click",pageUrl:I}),v().track(g.Vy.webPageEvent,{userId:null==k?void 0:k.userId,element:"generate_persona_image",eventType:"click",pageUrl:I})},disabled:$||""===et,text:"Create",color:"white",extraClasses:"w-[100px] cursor-pointer",size:"sm",isLoading:$})]})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("label",{className:"block mb-2",children:"Description"}),(0,l.jsx)("textarea",{className:"w-full p-2 bg-tertiary text-primary border border-quaternary rounded-lg focus:outline-none focus:border focus:border-0.5 focus:border-primary focus:shadow-[0_0_0_0.5px_primary] placeholder-secondary placeholder-opacity-70",rows:4,value:F,placeholder:"Describe this persona...",onChange:e=>{e.target.value.length<=200&&T(e.target.value)}}),(0,l.jsxs)("div",{className:"text-right text-sm",children:[F.length,"/200"]})]})]}),(0,l.jsx)("div",{className:"sticky bottom-0 bg-tertiary pt-4 border-t border-quaternary",children:(0,l.jsxs)("div",{className:"flex justify-end",children:[(0,l.jsx)(s.Z,{onClick:ex,text:"Cancel",color:"gray",extraClasses:"mr-2 w-[100px]",size:"sm"}),(0,l.jsx)(s.Z,{onClick:ep,text:"Save",color:"white",extraClasses:"w-[100px]",size:"sm",isLoading:G})]})})]})}):null}},60446:function(e,t,n){var l=n(57437);n(2265);var i=n(6005),a=n(1371),o=n(52249),s=n(99240),r=n(20408),d=n(40191),c=n(1726),u=n(84338),p=n(95430),m=n(36413),x=n(26234);let g=(0,p.Pi)(e=>{let{isOpen:t,onClose:n,onConfirm:p,isLoading:g}=e,{session:h}=(0,u.mZ)();return(0,l.jsxs)(i.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,l.jsx)(a.Z,{}),(0,l.jsxs)(o.h,{sx:{bgColor:"#252020"},borderRadius:"32px",position:"relative",children:[(0,l.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-2xl pl-4 py-8",children:"Please accept our terms to make a song with custom lyrics"}),h.roles.has_accepted_custom_mode_tos&&(0,l.jsx)(s.k,{mt:-14,children:(0,l.jsx)(m.Z,{onClick:n})})]}),(0,l.jsx)(r.f,{children:(0,l.jsx)(s.k,{alignItems:"center",mb:2,children:(0,l.jsx)(d.x,{fontSize:"14px",fontFamily:"Neue Montreal",children:"Suno is designed for creating original music. Please confirm you will only submit AI-generated lyrics, original lyrics or lyrics to which you otherwise hold rights to continue."})})}),(0,l.jsx)(c.m,{children:(0,l.jsx)(x.Z,{onClick:p,text:"I accept",isLoading:g})})]})]})});t.Z=g},93025:function(e,t,n){var l=n(57437);n(2265);var i=n(6005),a=n(1371),o=n(52249),s=n(99240),r=n(20408),d=n(6353),c=n(1726),u=n(14063),p=n(36413),m=n(26234);t.Z=e=>{let{isOpen:t,onClose:n,onConfirm:x,clipTitle:g,isLoading:h,headerText:v}=e;return(0,l.jsxs)(i.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,l.jsx)(a.Z,{}),(0,l.jsxs)(o.h,{borderRadius:"32px",sx:{bgColor:"#252020"},children:[(0,l.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-3xl pt-8 ml-8",children:v}),(0,l.jsx)(s.k,{mt:-12,children:(0,l.jsx)(p.Z,{onClick:n})})]}),(0,l.jsxs)(r.f,{ml:6,children:[(0,l.jsxs)(s.k,{alignItems:"center",mb:2,children:[(0,l.jsx)(d.J,{as:u.gJy,color:"white",mr:2}),(0,l.jsx)("span",{className:"font-sans font-bold",children:"This action cannot be undone."})]}),(0,l.jsxs)("span",{className:"font-sans font-bold mt-4 mb-2",children:["This will remove ",(0,l.jsx)("b",{children:g})," from your account."]})]}),(0,l.jsxs)(c.m,{children:[(0,l.jsx)(m.Z,{onClick:n,text:"No, take me back!",color:"white"}),(0,l.jsx)("div",{className:"ml-2",children:(0,l.jsx)(m.Z,{onClick:x,text:"Yes, I'm sure",isLoading:h,color:"gray"})})]})]})]})}},76613:function(e,t,n){var l=n(57437),i=n(84338),a=n(20610),o=n(6005),s=n(1371),r=n(52249),d=n(99240),c=n(20408),u=n(10114),p=n(18755),m=n(1726),x=n(2265),g=n(26234),h=n(36413);t.Z=e=>{let{isOpen:t,onClose:n,clipId:v,clipTitle:f}=e,[b,y]=(0,x.useState)([]),j=(0,a.p)(),{clips:w}=(0,i.mZ)(),[k,C]=(0,x.useState)(!1),S=async()=>{C(!0);try{await w.flagClip(v,b.join(",")),n(),y([]),C(!1)}catch(e){j({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0}),C(!1)}},N=e=>t=>{t.target.checked?y([...b,e]):y(b.filter(t=>t!==e))};return(0,l.jsxs)(o.u_,{isOpen:t,onClose:n,isCentered:!0,size:"xl",children:[(0,l.jsx)(s.Z,{}),(0,l.jsxs)(r.h,{sx:{bgColor:"#252020"},borderRadius:"32px",position:"relative",children:[(0,l.jsxs)(d.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsxs)("span",{className:"font-serif text-2xl pl-4 py-8",children:["Please provide reasons for flagging ",(0,l.jsx)("b",{children:f})]}),(0,l.jsx)(d.k,{mt:-14,children:(0,l.jsx)(h.Z,{onClick:n})})]}),(0,l.jsx)(c.f,{pb:6,children:(0,l.jsxs)(u.K,{children:[(0,l.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_audio_quality",onChange:N("flag_audio_quality"),colorScheme:"gray",children:"Low audio quality"}),(0,l.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_lyrics_following",onChange:N("flag_lyrics_following"),colorScheme:"gray",children:"Doesn't follow lyrics"}),(0,l.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_style_following",onChange:N("flag_style_following"),colorScheme:"gray",children:"Doesn't follow style instructions"}),(0,l.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_song_structure",onChange:N("flag_song_structure"),colorScheme:"gray",children:"Poor structure"}),(0,l.jsx)(p.X,{size:"lg",fontFamily:"Neue Montreal",name:"flag_other",onChange:N("flag_other"),colorScheme:"gray",children:"Other"})]})}),(0,l.jsxs)(m.m,{children:[(0,l.jsx)(d.k,{mr:2,children:(0,l.jsx)(g.Z,{onClick:()=>{n(),y([])},text:"Cancel"})}),(0,l.jsx)(g.Z,{onClick:S,isLoading:k,text:"Submit"})]})]})]})}},92628:function(e,t,n){n.d(t,{Z:function(){return N}});var l=n(57437),i=n(1225),a=n(6005),o=n(1371),s=n(52249),r=n(99240),d=n(20408),c=n(10114),u=n(84338),p=n(1633),m=n(92115),x=n(76684),g=n(61493);n(2265);var h=n(54018),v=e=>{let{url:t,text:n,eventTrack:i}=e,a="https://twitter.com/intent/tweet?url=".concat(encodeURIComponent(t),"&text=").concat(encodeURIComponent(n));return(0,l.jsx)(x.u,{label:"X",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(g.h,{size:"lg",icon:(0,l.jsx)(h.LCd,{}),"aria-label":"Share on X",onClick:()=>{window.open(a,"_blank","width=600,height=300"),i(m.Vy.shareOnXClick,m.OF.shareSongWithX)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"black"}})})},f=n(14063),b=e=>{let{url:t,text:n,eventTrack:i}=e,a="https://www.facebook.com/sharer/sharer.php?u=".concat(encodeURIComponent(t),"&quote=").concat(encodeURIComponent(n));return(0,l.jsx)(x.u,{label:"Facebook",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(g.h,{size:"lg",icon:(0,l.jsx)(f.Am9,{}),"aria-label":"Share on Facebook",onClick:()=>{window.open(a,"_blank","width=600,height=300"),i(m.Vy.shareOnFackbookClick,m.OF.shareSongWithFacebook)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#1877F2"}})})},y=e=>{let{url:t,text:n,eventTrack:i}=e,a="https://www.linkedin.com/sharing/share-offsite/?url=".concat(encodeURIComponent(t),"&title=").concat(encodeURIComponent(n));return(0,l.jsx)(x.u,{label:"LinkedIn",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(g.h,{size:"lg",icon:(0,l.jsx)(f.ltd,{}),"aria-label":"Share on LinkedIn",onClick:()=>{window.open(a,"_blank","width=600,height=300"),i(m.Vy.shareOnLinkedInClick,m.OF.shareSongWithLinkedIn)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#0072b1"}})})},j=e=>{let{embedUrl:t,eventTrack:n}=e;return(0,l.jsx)(x.u,{label:"Email",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(g.h,{size:"lg",icon:(0,l.jsx)(f.SRX,{}),"aria-label":"Share via email",onClick:()=>{let e=encodeURIComponent("Check out this song!"),l=encodeURIComponent("Hi there,\n\nCheck out this song on Suno here! ".concat(t,"\n\n")),i="mailto:?subject=".concat(e,"&body=").concat(l);window.location.href=i,n(m.Vy.shareOnEmailClick,m.OF.shareSongWithEmail)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"gray"}})})},w=e=>{let{url:t,text:n,eventTrack:i}=e,a="https://reddit.com/submit?url=".concat(encodeURIComponent(t),"&title=").concat(encodeURIComponent(n));return(0,l.jsx)(x.u,{label:"Reddit",size:"sm",background:p.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(g.h,{size:"lg",icon:(0,l.jsx)(f.ViA,{}),"aria-label":"Share on Reddit",onClick:()=>{window.open(a,"_blank","width=600,height=300"),i(m.Vy.shareOnRedditClick,m.OF.shareSongWithReddit)},sx:{borderRadius:"50%",background:"rgba(255, 255, 255, 0.12)",backdropFilter:"blur(70px)",borderImage:"180deg linear-gradient(#383737, #A19F9D)",boxShadow:" 16px black"},_hover:{background:"#FF5700"}})})},k=n(64874),C=n(16463),S=n(36413),N=e=>{let{isOpen:t,onClose:n,type:p,song:m,playlist:x,profile:g}=e,[h]=(0,i.a)("(max-width: 768px)"),{session:f}=(0,u.mZ)(),N=(0,C.usePathname)();function _(e,t){k.g.track(e,{clipId:null==m?void 0:m.id,isUserSongOwner:(null==f?void 0:f.userId)!==void 0&&(null==m?void 0:m.user_id)===(null==f?void 0:f.userId),isMobile:h}),k.g.logAudioActionEvent(!0,t,m,f,N)}return(0,l.jsxs)(a.u_,{isOpen:t,onClose:n,isCentered:!0,size:"md",children:[(0,l.jsx)(o.Z,{}),(0,l.jsxs)(s.h,{sx:{background:"#252020",zIndex:1e3,borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},borderRadius:"32px",position:"relative",children:[(0,l.jsxs)(r.k,{justifyContent:"space-between",alignItems:"center",px:3,children:[(0,l.jsx)("span",{className:"font-serif text-xl pt-6 pl-6",children:"Share to..."}),(0,l.jsx)(r.k,{mt:1,children:(0,l.jsx)(S.Z,{onClick:n})})]}),(0,l.jsx)(d.f,{mb:4,children:(0,l.jsxs)(c.K,{direction:"row",gap:h?4:6,justifyContent:"center",children:[m&&"song"===p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:_}),(0,l.jsx)(b,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:_}),h&&(0,l.jsx)(y,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/song/".concat(m.id),text:"Listen and make your own song with Suno.",eventTrack:_}),(0,l.jsx)(j,{embedUrl:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/song/".concat(m.id),eventTrack:_}),h&&(0,l.jsx)(w,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/song/".concat(m.id),text:"Listen and make your own song with Suno",eventTrack:_})]}),g&&"profile"===p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/@".concat(g.handle),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(b,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/@".concat(g.handle),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(y,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/@".concat(g.handle),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(j,{embedUrl:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/@".concat(g.handle),eventTrack:_}),(0,l.jsx)(w,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/@".concat(g.handle),text:"Listen and make your own with Suno.",eventTrack:_})]}),x&&"playlist"===p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(b,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(y,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:_}),(0,l.jsx)(j,{embedUrl:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/playlist/".concat(x.id),eventTrack:_}),(0,l.jsx)(w,{url:"C:\fishHouse\KyabiaWilks.github.io\perfume\Suno_files/playlist/".concat(x.id),text:"Listen and make your own with Suno.",eventTrack:_})]})]})})]})]})}},63047:function(e,t,n){var l=n(57437),i=n(2265),a=n(1225),o=n(6005),s=n(1371),r=n(52249),d=n(85222),c=n(99240),u=n(40191),p=n(86493),m=n(20408),x=n(35500),g=n(28038),h=n(10878),v=n(226),f=n(73880),b=n(79494),y=n(1633),j=n(54018);t.Z=e=>{var t,n;let{isOpen:w,onClose:k,buttonRef:C,topMargin:S=0}=e,[N]=(0,a.a)("(max-width: 768px)"),_=(0,i.useRef)(null);return((0,i.useEffect)(()=>{let e=e=>{let t=e.target;_.current&&!_.current.contains(t)&&k()};return w?document.addEventListener("mousedown",e):document.removeEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[w,k]),N)?(0,l.jsxs)(o.u_,{isOpen:w,onClose:k,isCentered:!0,children:[(0,l.jsx)(s.Z,{}),(0,l.jsxs)(r.h,{sx:{...y.E2},children:[(0,l.jsx)(d.x,{children:(0,l.jsxs)(c.k,{alignItems:"center",direction:"row",children:[(0,l.jsx)(u.x,{mr:2,children:"You're one step closer"})," ",(0,l.jsx)(j.vuX,{})]})}),(0,l.jsx)(p.o,{}),(0,l.jsxs)(m.f,{fontSize:"sm",mb:4,children:["You must be a Pro or Premier subscriber to upload your own audio. Subscribe"," ",(0,l.jsx)(x.r,{href:"/account",textDecoration:"underline",children:"here"}),"."]})]})]}):(0,l.jsx)(g.J,{isOpen:w,onClose:k,placement:"bottom",children:(0,l.jsxs)(h.y,{ref:_,background:y.mh,fontSize:"sm",backdropFilter:"blur(40px)",rounded:"md",display:w?"block":"none",color:"#ffffff",p:"10px",width:"310px",left:"".concat((null==C?void 0:null===(t=C.current)||void 0===t?void 0:t.getBoundingClientRect().left)-310,"px"),top:"".concat((null==C?void 0:null===(n=C.current)||void 0===n?void 0:n.getBoundingClientRect().top)-60+S,"px"),children:[(0,l.jsx)(v.Q,{}),(0,l.jsx)(f.u,{}),(0,l.jsxs)(b.b,{children:["You must be a Pro or Premier subscriber to upload your own audio. Subscribe"," ",(0,l.jsx)(x.r,{href:"/account",textDecoration:"underline",children:"here"})]})]})})}},18938:function(e,t,n){n.d(t,{f:function(){return M}});var l=n(57437),i=n(20610),a=n(6005),o=n(1371),s=n(52249),r=n(86493),d=n(20408),c=n(74340),u=n(33682),p=n(99240),m=n(19769),x=n(20864),g=n(44379),h=n(47414),v=n(16829),f=n(40191),b=n(34437),y=n(65364),j=n(44757),w=n(1726),k=n(35500),C=n(95430),S=n(2265),N=n(84338),_=n(1633),I=n(7255);let P=e=>e.length<=64,E=e=>!!e.match(/^[a-zA-Z0-9_]{3,40}$/g),M=(0,C.Pi)(e=>{var t,n,C,M,O,L,F,T,A;let{isOpen:D,onClose:R}=e,{session:z,library:Z}=(0,N.mZ)(),B=(0,i.p)(),[U,V]=(0,S.useState)(null===(t=z.user)||void 0===t?void 0:t.display_name),[q,W]=(0,S.useState)(null===(n=z.user)||void 0===n?void 0:n.handle),[G,K]=(0,S.useState)(null===(C=z.user)||void 0===C?void 0:C.profile_description),[Y,H]=(0,S.useState)(null),[X,J]=(0,S.useState)(!1),[Q,$]=(0,S.useState)(null===(M=z.user)||void 0===M?void 0:M.avatar_image_url),[ee,et]=(0,S.useState)(!1),[en,el]=(0,S.useState)(""),[ei,ea]=(0,S.useState)({}),[eo,es]=(0,S.useState)(!1),er=async()=>{es(!0);let e=await Z.apiClient.POST("/api/profiles/",{body:{handle:q||"",profile_description:G||"",display_name:U||"",avatar_image_url:Y}});if(es(!1),e.error){let t=e.error;ea({...ei,...t})}else ea({}),z.user.display_name=U||"",z.user.handle=q||"",z.user.profile_description=G||"",z.user.avatar_image_url=Y,B({title:"Profile updated.",duration:4e3,isClosable:!0,status:"success"})};return(0,S.useEffect)(()=>{var e,t,n;W(null===(e=z.user)||void 0===e?void 0:e.handle),K(null===(t=z.user)||void 0===t?void 0:t.profile_description),V(null===(n=z.user)||void 0===n?void 0:n.display_name)},[z.user]),(0,l.jsxs)(a.u_,{isOpen:D,onClose:R,"data-qaid":"modal-edit-profile-title",isCentered:!0,scrollBehavior:"inside","data-testid":"profile-form-modal",blockScrollOnMount:!1,children:[(0,l.jsx)(o.Z,{}),(0,l.jsxs)(s.h,{sx:{..._.E2},borderRadius:"8px",overflow:"hidden",children:[(0,l.jsx)(r.o,{}),(0,l.jsx)(d.f,{h:"400px",children:(0,l.jsxs)(c.xu,{minW:["300px","300px","380px"],children:[(0,l.jsx)(u.X,{size:"lg",mt:4,w:"fit-content",children:"Edit Profile"}),(0,l.jsxs)(p.k,{flexDirection:"column",w:"100%",children:[(0,l.jsxs)(m.NI,{w:"100%",mt:8,children:[(0,l.jsx)(x.l,{children:"Profile Avatar"}),(0,l.jsx)(I.w,{initialImageURL:Q||void 0,onImageChanged:e=>{H(e),J(!0)}}),(z.roles.pro||z.roles.staff)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(p.k,{columnGap:2,children:[(0,l.jsx)(g.I,{mb:8,placeholder:"Prompt Suno to create an image...",value:en,maxLength:200,onChange:e=>el(e.target.value),_focus:{border:"solid",borderWidth:"0.5px",borderColor:"orange",boxShadow:"0 0 0 0.5px orange"}}),(0,l.jsx)(h.z,{size:"md",px:6,onClick:async()=>{et(!0);let{data:e}=await Z.apiClient.POST("/api/gen/prompt_image/",{body:{prompt:en}});et(!1),e&&$(e.image_url)},isDisabled:ee||""===en,children:"Create"})]}),ee&&(0,l.jsxs)(p.k,{flexDirection:"row",children:[(0,l.jsx)(v.$,{mr:2,size:"sm"}),(0,l.jsx)(f.x,{children:"Creating image..."})]})]}),(0,l.jsx)(m.Q6,{w:"fit-content",color:ei.avatar_image_url?"red.300":void 0,children:ei.avatar_image_url||"The image that will be shown on your profile (max 10 MB)"})]}),(0,l.jsxs)(m.NI,{maxW:"340px",my:8,w:"fit-content",children:[(0,l.jsx)(x.l,{children:"Display Name"}),(0,l.jsx)(g.I,{type:"text",w:["320px","320px","400px"],maxLength:40,value:U||"",placeholder:"Display Name",onChange:e=>{V(e.target.value),ea({...ei,display_name:void 0})},isInvalid:!P(U||"")||!!ei.display_name,"data-testid":"display-name-input"}),(0,l.jsx)(m.Q6,{w:"fit-content",children:ei.display_name||"This is shown on your songs and playlists."})]}),(0,l.jsxs)(m.NI,{maxW:["320px","320px","400px"],mb:8,isRequired:!0,w:"fit-content",children:[(0,l.jsx)(x.l,{children:"Handle"}),(0,l.jsxs)(b.B,{children:[(0,l.jsx)(y.Ui,{padding:"10px",width:"36px",children:"@"}),(0,l.jsx)(g.I,{type:"text",w:["284px","284px","364px"],maxLength:40,value:q||"",placeholder:"Handle",onChange:e=>{W(e.target.value),ea({...ei,handle:void 0})},isInvalid:!E(q||"")||!!ei.handle,"data-testid":"handle-input"})]}),(0,l.jsx)(m.Q6,{w:"fit-content",color:!E(q||"")||ei.handle?"red.300":void 0,children:E(q||"")?ei.handle||"This is used in your profile URL, and can be changed later.":"This user handle is invalid. Must be at least 3 characters, and only letters, numbers and underscores are allowed"})]}),(0,l.jsxs)(m.NI,{maxW:"400px",mb:8,children:[(0,l.jsx)(x.l,{children:"Profile Description"}),(0,l.jsx)(j.g,{w:"100%",value:G||"",placeholder:"Profile description",onChange:e=>{K(e.target.value),ea({...ei,profile_description:void 0})},maxLength:160,isInvalid:!!ei.profile_description,"data-testid":"profile-description-input"}),(0,l.jsx)(m.Q6,{children:ei.profile_description||"Describe your musical style in a few words."})]})]})]})}),(0,l.jsxs)(w.m,{children:[(0,l.jsx)(h.z,{type:"submit",colorScheme:"orange",size:"md",maxW:"200px",onClick:er,isLoading:eo,isDisabled:U===(null===(O=z.user)||void 0===O?void 0:O.display_name)&&q===(null===(L=z.user)||void 0===L?void 0:L.handle)&&G===(null===(F=z.user)||void 0===F?void 0:F.profile_description)&&!X||!E(q||"")||!P(U||""),children:"Save"}),(0,l.jsx)(p.k,{flex:1,justifyContent:"flex-end",children:(null===(T=z.user)||void 0===T?void 0:T.display_name)&&(0,l.jsx)(k.r,{href:"/@".concat(null===(A=z.user)||void 0===A?void 0:A.handle),children:"View My Profile"})})]})]})]})})},25099:function(e,t,n){var l=n(57437),i=n(95430),a=n(84338),o=n(69548),s=n(65870),r=n(87138),d=n(80048),c=n(51798);let u=(0,i.Pi)(e=>{let{clipId:t}=e,{clips:n,genForm:i}=(0,a.mZ)(),u=n.clipById[t];return u?(0,l.jsxs)("div",{className:"md:mx-2 relative mt-6 md:mt-0",children:[(0,l.jsxs)("div",{className:"font-sans text-[15px] leading-[20px] flex items-center space-x-1 w-fit py-2",children:[(0,l.jsx)("span",{children:"Cover"}),(0,l.jsx)("span",{className:"inline-block pt-[1px]",children:(0,l.jsx)(d.Z,{label:"Covers allow you to change the style of a song but keep the melody"})}),(0,l.jsx)(c.Z,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!"})]}),(0,l.jsxs)("div",{className:"items-center bg-tertiary p-2 rounded-md border border-quaternary flex",children:[(0,l.jsx)(s.Z,{alt:"Song Image",width:"40px",height:"55px",borderRadius:"4px",src:null==u?void 0:u.image_url,objectFit:"cover","flex-shrink":"0"}),(0,l.jsx)("div",{className:"font-sans text-sm px-4 truncate hover:underline",children:(0,l.jsx)(r.default,{href:"/song/".concat(u.id),target:"_blank",children:(0,o.M8)(u)})}),(0,l.jsx)("button",{className:"p-2 font-sans text-xs bg-quaternary hover:bg-secondary/20 rounded-full ml-auto",onClick:()=>{i.resetCoverClip()},children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 text-white",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})]}):null});t.Z=u},50550:function(e,t,n){var l=n(57437),i=n(2265),a=n(95430),o=n(10114);let s=(0,a.Pi)(e=>{let{state:t,setConfiguration:n}=e,[a,s]=(0,i.useState)(t.configurations),r=(e,t)=>{s(n=>({...n,[e]:t}))},d=(e,t)=>{if(""===t.trim()){s(t=>{let n={...t};return delete n[e],n}),n(e,null);return}let l=t;switch(e){case"temp_semantic":case"temp_coarse":case"top_p_semantic":case"top_p_coarse":case"min_p_semantic":case"min_p_coarse":case"cfg_coef":case"cfg_coef_tags":case"cfg_coef_neg_tags":l=parseFloat(t);break;case"top_k_semantic":case"top_k_coarse":case"cfg_coef_tags_max_steps":l=parseInt(t,10)}n(e,l)};return(0,l.jsx)("div",{className:"font-sans",children:(0,l.jsxs)(o.K,{spacing:3,children:[(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"temp_semantic",value:a.temp_semantic||"",onChange:e=>r("temp_semantic",e.target.value),onBlur:e=>d("temp_semantic",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"temp_coarse",value:a.temp_coarse||"",onChange:e=>r("temp_coarse",e.target.value),onBlur:e=>d("temp_coarse",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_k_semantic",value:a.top_k_semantic||"",onChange:e=>r("top_k_semantic",e.target.value),onBlur:e=>d("top_k_semantic",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_k_coarse",value:a.top_k_coarse||"",onChange:e=>r("top_k_coarse",e.target.value),onBlur:e=>d("top_k_coarse",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_p_semantic",value:a.top_p_semantic||"",onChange:e=>r("top_p_semantic",e.target.value),onBlur:e=>d("top_p_semantic",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"top_p_coarse",value:a.top_p_coarse||"",onChange:e=>r("top_p_coarse",e.target.value),onBlur:e=>d("top_p_coarse",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"min_p_semantic",value:a.min_p_semantic||"",onChange:e=>r("min_p_semantic",e.target.value),onBlur:e=>d("min_p_semantic",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"min_p_coarse",value:a.min_p_coarse||"",onChange:e=>r("min_p_coarse",e.target.value),onBlur:e=>d("min_p_coarse",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef",value:a.cfg_coef||"",onChange:e=>r("cfg_coef",e.target.value),onBlur:e=>d("cfg_coef",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_tags",value:a.cfg_coef_tags||"",onChange:e=>r("cfg_coef_tags",e.target.value),onBlur:e=>d("cfg_coef_tags",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_neg_tags",value:a.cfg_coef_neg_tags||"",onChange:e=>r("cfg_coef_neg_tags",e.target.value),onBlur:e=>d("cfg_coef_neg_tags",e.target.value)}),(0,l.jsx)("input",{className:"p-2 font-sans text-sm bg-tertiary border border-quaternary rounded-lg text-primary",placeholder:"cfg_coef_tags_max_steps",value:a.cfg_coef_tags_max_steps||"",onChange:e=>r("cfg_coef_tags_max_steps",e.target.value),onBlur:e=>d("cfg_coef_tags_max_steps",e.target.value)})]})})});t.Z=s},99466:function(e,t,n){n.d(t,{dw:function(){return $},hp:function(){return et},Yt:function(){return ee}});var l=n(57437),i=n(29945),a=n(64874),o=n(69548),s=n(74340),r=n(99240),d=n(20864),c=n(44379),u=n(51464),p=n(10114),m=n(95430),x=n(2265),g=n(84338),h=n(1633),v=n(92115),f=n(91033),b=n(91560),y=n(14675),j=n(78232),w=n(1601),k=n(80048),C=n(60446),S=n(40129),N=n(50965),_=n(15188),I=n(21216),P=n(46575),E=n(93278),M=n(37720),O=n(57666),L=n(20783),F=n(16378),T=n(98719),A=n(89483),D=n(63098);function R(){let e=(0,A._)(["\n  @keyframes flap {\n    0%,\n    100% {\n      transform: rotateY(0) rotateZ(0);\n    }\n    50% {\n      transform: rotateY(-40deg) rotateZ(-10deg);\n    }\n  }\n  @keyframes blink {\n    0%,\n    48%,\n    52%,\n    100% {\n      height: 10px;\n    }\n    50% {\n      height: 1px;\n    }\n  }\n  @keyframes slideLeft {\n    from {\n      transform: translateX(14px) translateY(2px);\n    }\n    to {\n      transform: translateX(0px) translateY(2px);\n    }\n  }\n  @keyframes walkIn {\n    from {\n      transform: translateX(40%) scale(0.25) translateX(0%);\n    }\n    to {\n      transform: translateX(15%) scale(0.25) translateX(0%);\n    }\n  }\n  @keyframes legMove {\n    0%,\n    100% {\n      transform: translateY(0);\n    }\n    50% {\n      transform: translateY(-5px);\n    }\n  }\n  @keyframes slideIn {\n    from {\n      transform: translateX(-50px) translateY(10px);\n    }\n    to {\n      transform: translateX(-30px);\n    }\n  }\n  @keyframes glitterFall {\n    0% {\n      transform: translateY(0) rotate(60deg);\n      opacity: 1;\n    }\n    100% {\n      transform: translateX(-40px) translateY(75px) rotate(270deg);\n      opacity: 0;\n    }\n  }\n  @keyframes legMoveInverse {\n    0%,\n    100% {\n      transform: translateY(-5px);\n    }\n    50% {\n      transform: translateY(0);\n    }\n  }\n  body {\n    position: relative;\n    height: 100vh;\n    margin: 0;\n    background: darkslategrey;\n  }\n"]);return R=function(){return e},e}let z=(0,D.iv)(R()),Z=()=>{let[e,t]=(0,x.useState)(!1),[n,i]=(0,x.useState)(!1),a="0.5s";return(0,x.useEffect)(()=>{let e=setTimeout(()=>{t(!0)},5e3);return()=>clearTimeout(e)},[5]),(0,x.useEffect)(()=>{let e=setTimeout(()=>{i(!0)},8e3);return()=>clearTimeout(e)},[8]),(0,l.jsxs)("div",{className:"chicken",style:{position:"absolute",marginTop:"26px",left:"50%",transform:"translate(-50%, -50%) scale(0.25) translateX(0%)",width:"200px",height:"100px",animation:"walkIn ".concat(5,"s forwards")},children:[(0,l.jsxs)("div",{className:"head",style:{position:"absolute",top:"-50px",left:"0",width:"50px",height:"50px",background:"bisque",borderTopRightRadius:"23123px"},children:[(0,l.jsxs)("div",{className:"hair",style:{position:"absolute",top:"-5px",left:"-1px",width:"5px",height:"10px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px",transform:"rotate(-10deg)"},children:[(0,l.jsx)("div",{style:{position:"absolute",top:"2px",left:"5px",width:"5px",height:"8px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px"}}),(0,l.jsx)("div",{style:{position:"absolute",top:"4px",left:"10px",width:"5px",height:"6px",background:"darkorange",borderTopLeftRadius:"100px",borderTopRightRadius:"100px"}})]}),(0,l.jsx)("div",{className:"eye",style:{position:"absolute",top:"50%",left:"30%",width:"10px",height:"10px",borderRadius:"50%",background:"black",transform:"translate(-50%, -50%)",animation:"blink 5s infinite"}})]}),e&&(0,l.jsx)("div",{className:"party-popper",style:{position:"absolute",top:"-25px",left:"-20px",width:"30px",height:"0",borderBottom:"15px solid transparent",borderTop:"15px solid transparent",borderLeft:"40px solid orange",transform:"rotate(0deg)",animation:"slideIn 3s forwards"}}),n&&(0,l.jsx)("div",{children:[...Array(1e3)].map((e,t)=>(0,l.jsx)("div",{className:"glitter",style:{position:"absolute",top:"-10px",left:"".concat(-75+30*Math.random()-15,"px"),width:"16px",height:"9px",backgroundColor:["#ff0","#f0f","#0ff"][t%3],borderRadius:"30%",opacity:0,transform:"rotate(40deg)",animation:"glitterFall 3s ".concat(.2*t,"s forwards")}},t))}),(0,l.jsx)("div",{className:"beak",style:{position:"absolute",top:"-20px",left:"-20px",width:"0",height:"0",border:"10px solid transparent",borderRightColor:"darkorange"}}),(0,l.jsx)("div",{className:"body",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",borderBottomLeftRadius:"500px",borderBottomRightRadius:"500px",background:"bisque"},children:(0,l.jsx)("div",{className:"wing",style:{position:"absolute",top:"20%",left:"50%",width:"20%",height:"40%",borderBottomRightRadius:"1000px",border:"1px solid darkslategray",animation:"flap 1s infinite ease-out",transformOrigin:"0 0"}})}),(0,l.jsx)("div",{className:"tail",style:{position:"absolute",top:"-20px",right:"0",width:"20px",height:"20px",background:"bisque",borderTopLeftRadius:"123132px"}}),(0,l.jsx)("div",{className:"leg one",style:{position:"absolute",bottom:"-18px",left:"40%",width:"2px",height:"20px",background:"darkorange",animation:"legMove ".concat(a," ").concat(10," forwards")},children:(0,l.jsx)("div",{style:{position:"absolute",bottom:"0",left:"-5px",width:"12px",height:"2px",background:"darkorange"}})}),(0,l.jsx)("div",{className:"leg two",style:{position:"absolute",bottom:"-18px",left:"60%",width:"2px",height:"20px",background:"darkorange",animation:"legMoveInverse ".concat(a," ").concat(10," forwards")},children:(0,l.jsx)("div",{style:{position:"absolute",bottom:"0",left:"-5px",width:"12px",height:"2px",background:"darkorange"}})})]})};var B=()=>{let[e,t]=(0,x.useState)("white");return(0,x.useEffect)(()=>{let e=setTimeout(()=>{t("url(#stripes)")},2e3);return()=>clearTimeout(e)},[]),console.log(e),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(D.xB,{styles:z}),(0,l.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",position:"relative",width:"max-content"},children:(0,l.jsx)(Z,{})})]})},U=n(25099),V=n(50550),q=n(46187),W=n(2550),G=n(36413),K=n(51798),Y=n(8823),H=n(21154),X=n(25566);let J=Object.fromEntries(M.map(e=>[e.id,e])),Q=Object.fromEntries(Object.entries(J).map(e=>{let[t,n]=e;return[t,n.title]})),$=(0,m.Pi)(e=>{let{clipId:t}=e,{clips:n,genForm:a,playbar:u,session:p}=(0,g.mZ)(),m=n.clipById[t],[h,v]=(0,x.useState)(""),[f,y]=(0,x.useState)(null!==a.infillFromSeconds?(0,o.L7)(a.infillFromSeconds):null),[j,w]=(0,x.useState)(null!==a.infillToSeconds?(0,o.L7)(a.infillToSeconds):null);return((0,x.useEffect)(()=>{v((0,o.L7)(a.continueAtSeconds)||"00:00")},[t,a.continueAtSeconds]),(0,x.useEffect)(()=>{var e;(null===(e=p.flags)||void 0===e?void 0:e["waveform-infilling"])&&m&&n.loadAlignedLyrics(m)},[m]),(0,x.useEffect)(()=>{if(j&&f&&j!==f){let e=((0,o.lh)(j)||0)-((0,o.lh)(f)||0);e>0&&e<60&&(a.infillFromSeconds=(0,o.lh)(f),a.infillToSeconds=(0,o.lh)(j))}else a.infillFromSeconds=null,a.infillToSeconds=null},[j,f]),(0,x.useEffect)(()=>{y(null!==a.infillFromSeconds?(0,o.L7)(a.infillFromSeconds):null),w(null!==a.infillToSeconds?(0,o.L7)(a.infillToSeconds):null)},[a.infillFromSeconds,a.infillToSeconds]),m)?(0,l.jsxs)(s.xu,{m:2,children:[a.infillFromSeconds||a.infillToSeconds||"infill"===a.task?null:(0,l.jsxs)(r.k,{direction:"row",alignItems:"center",justifyContent:"space-between",width:"100%",mb:6,mt:4,children:[(0,l.jsxs)(r.k,{alignItems:"center",children:[(0,l.jsx)(d.l,{fontSize:"sm",mr:2,fontFamily:"Neue Montreal",children:"Extend from"}),(0,l.jsx)(c.I,{isInvalid:!a.isContinueValid(),isDisabled:j!==f,rounded:"md",size:"sm",fontSize:"md",fontWeight:"bold",fontFamily:"Neue Montreal",onChange:e=>{var t;let n=(0,o.lh)(e.target.value),l=Math.min(null!=n?n:0,null!==(t=a.continueClipDuration)&&void 0!==t?t:0);null!==n&&e.target.value.match(/:\d{2}/)&&null!==l?(a.setContinueAtSeconds(l),v((0,o.L7)(l)||"")):v(e.target.value)},onBlur:()=>{var e;let t=(0,o.lh)(h),n=Math.min(null!=t?t:0,null!==(e=a.continueClipDuration)&&void 0!==e?e:0);a.setContinueAtSeconds(n)},value:h,borderColor:"white",maxLength:5,maxW:"80px",_focus:{borderColor:"0.5px solid white"}})]}),(0,l.jsx)(G.Z,{onClick:()=>{a.resetContinueClip()},"aria-label":"Clear continue clip"})]}),(0,l.jsx)(b.Z,{rowKey:m.id,onPlay:()=>{var e;if((null===(e=u.clip)||void 0===e?void 0:e.id)===m.id){u.togglePlay();return}u.queue.setPlayContext({clips:[m],currentIndex:0,contextType:i.Q.FEED}),u.playClip(m)},onClick:()=>{},clip:m,showActions:!1,onAddToPlaylist:()=>{},condensed:!0})]}):null}),ee=(e,t)=>{let n=t.style.trim();""==n?t.setStyle(e):(n=","==n.charAt(n.length-1)?n+" "+e:n+", "+e).length<=h.cG&&t.setStyle(n)},et=(0,m.Pi)(e=>{var t,n,i,o,d,c;let{state:m,onGenerate:b,isSimple:A=!0,hideTopStack:D,showMadlibs:R=!0,showPersonas:z=!0,textareaColor:Z,isInline:G=!1,reservedLyricsCount:et=0}=e,{session:en,clips:el,genForm:ei,edit:ea}=(0,g.mZ)(),[eo]=(0,x.useState)(!1),[es,er]=(0,x.useState)(!1),{isOpen:ed,onOpen:ec,onClose:eu}=(0,u.q)(),[ep,em]=(0,x.useState)(!1),[ex,eg]=(0,x.useState)(!1),[eh,ev]=(0,x.useState)(!1),[ef,eb]=(0,x.useState)(!1),[ey,ej]=(0,x.useState)(!1),[ew,ek]=(0,x.useState)(!1),[eC,eS]=(0,x.useState)(!1),[eN,e_]=(0,x.useState)(!1),[eI,eP]=(0,x.useState)(!1),[eE,eM]=(0,x.useState)(0),eO=async()=>{em(!0),er(!1),await en.acceptTOS(),eu()};(0,x.useEffect)(()=>{(async()=>{en.roles.has_accepted_custom_mode_tos?er(!1):er(!0)})()},[en.roles.has_accepted_custom_mode_tos,ec]),(0,x.useEffect)(()=>{let e=localStorage.getItem("specialOccasionsCount");e&&eM(parseInt(e,10))},[]),(0,x.useEffect)(()=>{localStorage.setItem("specialOccasionsCount",eE.toString())},[eE]);let eL=m.continueClipId?el.clipById[m.continueClipId]:null;(0,x.useEffect)(()=>{var e,t;eL&&(m.style&&0!==m.style.length||m.setStyle((null===(e=eL.metadata)||void 0===e?void 0:e.tags)||""),m.negativeTags&&0!==m.negativeTags.length||(m.setNegativeTags((null===(t=eL.metadata)||void 0===t?void 0:t.negative_tags)||""),m.resetEnableExcludeStyle()))},[eL,eo]);let[eF,eT]=(0,x.useState)(null);(0,x.useEffect)(()=>{D&&D(!!eF)},[eF,D]),(0,x.useEffect)(()=>{m.setIsMadLibs(!!eF)},[eF]);let eA=(e=>{let t={};return Object.values(e).forEach(e=>{e.content.forEach(e=>{"input"===e.type&&(t[e.field]="")})}),t})(M),[eD,eR]=(0,x.useState)(eA),ez=(e,t)=>{eR(n=>({...n,[e]:t}))},eZ=Object.fromEntries(Object.entries(J).map(e=>{let[t,n]=e;return[t,(0,l.jsx)("div",{className:"flex flex-wrap gap-1 max-w-xs font-sans px-2",children:n.content.map((e,t)=>"string"==typeof e?(0,l.jsx)("span",{children:e},t):"input"===e.type?(0,l.jsxs)("div",{className:"relative w-30 mb-6 inline-flex items-center",children:[(0,l.jsx)("input",{type:"text",placeholder:" ",className:"leading-tight w-full px-1 py-0.5 border-b-2 border-secondary focus:border-primary placeholder-transparent focus:outline-none text-center bg-vinylBlack-light bg-opacity-30 focus:bg-opacity-40",value:eD[e.field],onChange:t=>ez(e.field,t.target.value),maxLength:e.maxLength}),(0,l.jsx)("label",{className:"font-mono text-[9px] w-full text-center absolute left-1/2 transform -translate-x-1/2 -bottom-4 text-primary text-opacity-90 transition-transform duration-200 ease-in-out",children:e.placeholder})]},t):null)},t)]})),eB=()=>en.isOutOfCredits&&(en.freePersonaClipsLeft<=0||null===m.personaClipId)&&(en.freeCoverClipsLeft<=0||null===m.coverClipId),eU=()=>{if(!eF||en.isOutOfCredits)return;let e=J[eF];if(!e)return;let t=e.template;Object.keys(eD).forEach(e=>{let n=eD[e];t=t.replace("{".concat(e,"}"),n)}),"SpecialOccasions"===eF?((0,N.Z)({particleCount:100,spread:70,origin:{y:.6},colors:["#FAF7F5","#D1CBC7"]}),eM(e=>{let t=e+1;return t%10==0&&(eP(!0),setTimeout(()=>{eP(!1)},2e4)),t})):"Person"===eF?(eg(!0),setTimeout(()=>eg(!1),5e3)):"Activity"===eF?(ev(!0),setTimeout(()=>ev(!1),5e3)):"Moods"===eF?(ej(!0),setTimeout(()=>ej(!1),5e3)):"Greeting"===eF?(ek(!0),setTimeout(()=>ek(!1),5e3)):"Scrapbook"===eF?(eb(!0),setTimeout(()=>eb(!1),5e3)):"Vacation"===eF?(e_(!0),setTimeout(()=>e_(!1),5e3)):"Pet"===eF&&(eS(!0),setTimeout(()=>eS(!1),5e3)),m.setIsMadLibs(!0),m.setDescription(t),b(m),a.g.segmentTrack(v.Vy.generalEvent,{key:e.id,actionName:v.OF.clickMadlibCreate,isMobile:!1})};(0,x.useEffect)(()=>{let e=document.querySelectorAll("input");return e.forEach(e=>{e.addEventListener("focus",eV),e.addEventListener("blur",eq)}),()=>{e.forEach(e=>{e.removeEventListener("focus",eV),e.removeEventListener("blur",eq)})}},[]);let eV=e=>{let t=e.target.nextElementSibling;t&&t.classList.add("translate-y-5","text-xs","text-gray-500")},eq=e=>{let t=e.target.nextElementSibling;""===e.target.value&&t&&t.classList.remove("translate-y-5","text-xs","text-gray-500")},[eW,eG]=(0,x.useState)(!1),eK=(0,W.bx)(en)&&!!ei.coverClipId,eY=!!ei.continueClipId,eH=(0,W.Sr)(en);if(eF)return(0,l.jsxs)(p.K,{p:2,spacing:4,py:{base:0,md:4},w:"100%",mt:8,children:[ex&&(0,l.jsx)(_.Z,{}),eh&&(0,l.jsx)(I.Z,{}),ef&&(0,l.jsx)(P.Z,{}),ey&&(0,l.jsx)(T.Z,{}),ew&&(0,l.jsx)(F.Z,{}),eC&&(0,l.jsx)(L.Z,{}),eN&&(0,l.jsx)(O.Z,{}),(0,l.jsx)("button",{onClick:()=>{eT(null),m.setDescription(""),m.setIsMadLibs(!1)},className:"ml-2 h-[32px] w-[32px] p-2 text-white bg-tertiary hover:bg-vinylBlack-darker focus:outline-none rounded-full border border-white-300 flex justify-center items-center","aria-label":"Back",children:(0,l.jsx)(S.Z,{src:"/icons/left-caret.svg",alt:"Back",width:8,height:8})}),(0,l.jsx)("h2",{className:"font-serif text-2xl px-2 pt-2 break-words max-w-[300px]",children:eF&&Q[eF]}),(0,l.jsx)("p",{className:"font-sans font-medium text-sm px-2 pb-4 text-secondary text-opacity-80",children:"Fill in the blanks to create your song."}),(0,l.jsx)("p",{children:eZ[eF]}),(0,l.jsxs)(p.K,{px:2,py:6,className:"create-button",pb:10,children:[(0,l.jsx)(H.Z,{isDisabled:en.isOutOfCredits,tooltipLabel:eH,onClick:()=>{en.isOutOfCredits&&(window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{}))},children:(0,l.jsx)(f.Z,{onClick:()=>{if(en.isOutOfCredits){window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{});return}eU()},text:m.continueClipId?"Extend":"Create",icon:"/create-new.svg",overrideButtonDisabled:en.isOutOfCredits,isDisabled:en.isOutOfCredits||!(()=>{if(!eF)return!0;let e=J[eF];return!e||e.content.every(e=>"object"!=typeof e||"input"!==e.type||""!==eD[e.field].trim())})(),isLoading:m.isLoading,label:m.continueClipId?"Extend":"Create",backgroundImage:"/auras/orange-aura.png",fullWidth:!0})}),eI&&(0,l.jsx)(B,{})]})]});if(A)return(0,l.jsxs)(p.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Song description"}),(0,l.jsx)(k.Z,{label:"Describe the style of music and topic you want (e.g. acoustic pop about the holidays). Use genres and vibes instead of specific artists and songs."})]}),(0,l.jsx)(j.Z,{label:"Instrumental",checked:ei.instrumental,onChange:e=>{ei.setInstrumental(e)}})]}),(0,l.jsx)(p.K,{flex:"1",direction:["row","row","column"],alignItems:["stretch","stretch","stretch"],px:2,children:(0,l.jsx)(p.K,{direction:"column",flex:"1",spacing:0,className:"simple-prompt-textarea",children:(0,l.jsx)(w.Z,{maxLength:200,value:m.description,resize:!0,onChange:e=>m.setDescription(e.target.value),placeholder:m.placeholder,isScrollable:!0,customHeight:"h-[100px]",bgColor:Z})})}),(0,l.jsx)(p.K,{px:2,py:6,className:"create-button",children:(0,l.jsx)(H.Z,{isDisabled:en.isOutOfCredits,tooltipLabel:eH,onClick:()=>{window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{})},children:(0,l.jsx)(f.Z,{onClick:()=>{en.isOutOfCredits?(window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{})):(m.setIsMadLibs(!1),b(m))},text:m.continueClipId?"Extend":"Create",icon:"/create-new.svg",overrideButtonDisabled:en.isOutOfCredits,isDisabled:en.isOutOfCredits,isLoading:m.isLoading,label:m.continueClipId?"Extend":"Create",backgroundImage:"/create-button-background.svg",fullWidth:!0})})}),(null==en?void 0:null===(c=en.flags)||void 0===c?void 0:c.madlibs)&&R&&(0,l.jsx)(E.Z,{setSelectedSuggestion:eT})]});let eX=("chirp-v3-5"===m.mv||"chirp-v3-5-tau"===m.mv||m.continueClipId&&(null===(n=el.clipById[m.continueClipId])||void 0===n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.type)==="upload"?h.yG:h.yR)-et,eJ=(0,W.U_)(en),eQ=(0,W.gc)(en);return(0,l.jsxs)("div",{className:"px-2 pb-2 flex flex-col flex-1 overflow-y-auto w-full ".concat(G?"":"mb-8"),children:[(0,l.jsx)(C.Z,{isOpen:ed,onClose:eu,onConfirm:eO,isLoading:ep}),(0,l.jsxs)(p.K,{flex:1,overflowY:"auto",py:{base:0,md:4},children:["true"===X.env.NEXT_PUBLIC_ML_DEV_MODE&&(0,l.jsxs)("div",{className:"mx-2",children:[(0,l.jsx)("div",{className:"pb-6",children:(0,l.jsx)(j.Z,{label:"The Matrix",checked:eW,onChange:eG})}),eW&&(0,l.jsx)(V.Z,{state:m,setConfiguration:(e,t)=>{if(null===t){let t={...m.configurations};delete t[e],m.configurations=t}else m.configurations={...m.configurations,[e]:t}}})]}),(null==en?void 0:null===(i=en.flags)||void 0===i?void 0:i.personas)&&z&&!eY&&!eK&&(0,l.jsx)(q.Z,{}),(0,W.bx)(en)&&m.coverClipId&&(0,l.jsx)(U.Z,{clipId:m.coverClipId}),m.instrumental?(0,l.jsxs)(s.xu,{mx:2,children:[eJ&&(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",py:2,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Instrumental Mode"}),(0,l.jsx)(j.Z,{label:"Instrumental",checked:ei.instrumental,onChange:e=>{ei.setInstrumental(e)}})]}),(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:0,className:"flex items-center",children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",py:2,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Style of Music"}),(0,l.jsx)(k.Z,{label:"Describe the style of music you want (e.g., acoustic pop). Suno's models do not recognize artists' names but do understand genres and vibes."})]}),eJ?eQ?(0,l.jsx)(j.Z,{label:"Exclude Styles",checked:ei.enableExcludeStyle,onChange:e=>{ei.setEnableExcludeStyle(e),a.g.track(v.Vy.excludeStyleClick,{isMobile:!1,isChecked:e,userId:en.userId}),a.g.logAudioCreationEvent(!1,e?v.OF.enableNegativeTags:v.OF.disableNegativeTags,ei,en,{enableExcludeStyle:e},!0)}}):(0,l.jsx)(Y.Z,{label:"Exclude Styles",tooltipLabel:"Subscribe to exclude styles",onClick:()=>{window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledNegativeTags,ei,en,{},!0)}}):(0,l.jsx)(j.Z,{label:"Instrumental",checked:ei.instrumental,onChange:e=>{ei.setInstrumental(e)}})]}),(0,l.jsx)(w.Z,{maxLength:h.cG,value:m.style,resize:!1,customHeight:"h-[130px]",enableExtraMargin:!0,onChange:e=>m.setStyle(e.target.value),placeholder:"Enter style of music",spacedLeftAsset:!0,isScrollable:!1,bgColor:Z,leftAsset:(0,l.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:m.recommmendedStyles.map((e,t)=>(0,l.jsx)(y.Z,{style:e,onClick:()=>{ee(e,m),a.g.logAudioCreationEvent(!1,v.OF.useRecommendStyle,m,en,{recommendStyle:e}),a.g.track(v.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:en.userId})}},t))})})]}):(0,l.jsxs)(s.xu,{mx:2,children:[(0,l.jsxs)(p.K,{mb:5,children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",pt:2,children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Lyrics"}),(0,l.jsx)(k.Z,{label:"Create random lyrics, write your own, or get some help from AI. Use two verses (8 lines) for best results."})]}),(0,l.jsx)(j.Z,{label:"Instrumental",checked:ei.instrumental,onChange:e=>{ei.setInstrumental(e)}})]}),(0,l.jsx)(w.Z,{maxLength:eX,value:m.lyrics,resize:!0,isScrollable:!0,onChange:e=>m.setLyrics(e.target.value),customHeight:"h-[230px]",bgColor:Z,placeholder:m.continueClipId?"Enter additional lyrics to extend the song based on your previous verses... \n\nOnce the extended songs have finished creating, click '...' and Get Whole Song to get the entire completed song.":"Enter your own lyrics or describe a song and click Write About...",onClick:()=>{es&&ec()},onKeyDown:e=>{es&&ec(),"Enter"===e.key&&es&&e.preventDefault()},isReadOnly:es,cursor:es?"not-allowed":"text",leftAsset:(0,l.jsx)("button",{className:"bg-quaternary text-white font-medium px-4 py-2 rounded-full text-sm font-sans hover:bg-secondary/20",onClick:m.generateLyrics,disabled:!1,children:m.isLoadingLyrics?(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-3 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,l.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,l.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):m.lyrics?"Write About: ".concat(m.lyrics.slice(0,12)).concat(m.lyrics.length>12?"...":""):(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("img",{src:"/dice.svg",alt:"dice",className:"h-4 w-4 mr-2"}),"Surprise Me"]})})})]}),(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:0,className:"flex items-center",children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",spacing:1,justifyContent:"space-between",py:2,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Style of Music"}),(0,l.jsx)(k.Z,{label:"Describe the style of music you want (e.g., acoustic pop). Suno's models do not recognize artists' names but do understand genres and vibes."})]}),eJ&&(eQ?(0,l.jsx)(j.Z,{label:"Exclude Styles",checked:ei.enableExcludeStyle,onChange:e=>{ei.setEnableExcludeStyle(e),a.g.track(v.Vy.excludeStyleClick,{isMobile:!1,isChecked:e,userId:en.userId}),a.g.logAudioCreationEvent(!1,e?v.OF.enableNegativeTags:v.OF.disableNegativeTags,ei,en,{enableExcludeStyle:e},!0)}}):(0,l.jsx)(Y.Z,{label:"Exclude Styles",tooltipLabel:"Subscribe to exclude styles",onClick:()=>{window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledNegativeTags,ei,en,{},!0)}}))]}),(0,l.jsx)(w.Z,{maxLength:h.cG,value:m.style,resize:!1,onChange:e=>m.setStyle(e.target.value),placeholder:"Enter style of music",spacedLeftAsset:!0,enableExtraMargin:!0,isScrollable:!0,bgColor:Z,leftAsset:(0,l.jsx)("div",{className:"flex space-x-1 overflow-x-auto mr-4",children:m.recommmendedStyles.map((e,t)=>(0,l.jsx)(y.Z,{style:e,onClick:()=>{ee(e,m),a.g.logAudioCreationEvent(!1,v.OF.useRecommendStyle,m,en,{recommendStyle:e}),a.g.track(v.Vy.recommendedStyleClick,{isMobile:!1,style:e,userId:en.userId})}},t))}),customHeight:"h-[130px]"})]}),ei.enableExcludeStyle&&eQ&&(0,l.jsxs)(s.xu,{mx:2,children:[(0,l.jsxs)("div",{className:"font-sans text-[15px] leading-[20px] flex items-center space-x-1 w-fit py-2",children:[(0,l.jsx)("span",{children:"Exclude Styles"}),(0,l.jsx)("span",{className:"inline-block pt-[1px]",children:(0,l.jsx)(k.Z,{label:"Describe the styles of music you want to exclude (e.g., dance pop)."})}),(0,l.jsx)(K.Z,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!"})]}),(0,l.jsx)(w.Z,{maxLength:h.cG,value:m.negativeTags,resize:!1,onChange:e=>m.setNegativeTags(e.target.value),placeholder:"Enter style of music",spacedLeftAsset:!1,isScrollable:!0,customHeight:"h-[130px]",enableExtraMargin:!0,bgColor:Z})]}),(0,l.jsxs)(s.xu,{m:2,mt:0,children:[(0,l.jsxs)(p.K,{direction:"row",alignItems:"alignItems",spacing:1,py:2,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Title"}),(0,l.jsx)(k.Z,{label:"Give your song a title for sharing, discovery and organization."})]}),(0,l.jsx)(w.Z,{maxLength:80,value:m.title,onChange:e=>m.setTitle(e.target.value),placeholder:"Enter a title",customHeight:"h-[12px]",isScrollable:!1,bgColor:Z})]}),m.continueClipId?(0,l.jsx)($,{clipId:m.continueClipId}):null]}),((null==en?void 0:null===(o=en.flags)||void 0===o?void 0:o.personas)||(null==en?void 0:null===(d=en.flags)||void 0===d?void 0:d.cover))&&(en.freeCoverClipsLeft>0&&null!==m.coverClipId||en.freePersonaClipsLeft>0&&null!==m.personaClipId)?(0,l.jsx)("span",{className:"text-primary text-sm font-sans text-center bg-tertiary rounded-xl py-4 m-2 mb-4",children:null!==m.coverClipId?"".concat(en.freeCoverClipsLeft," free cover songs remaining"):"".concat(en.freePersonaClipsLeft," free persona songs remaining")}):null,(0,l.jsxs)(r.k,{width:"100%",alignItems:"center",gap:2,mb:G?0:20+(ea.isEditorOpen?36:0),p:2,children:[(""!==ei.description||""!==ei.style||""!==ei.lyrics||""!==ei.title||Object.values(eD).some(e=>""!==e))&&(0,l.jsx)(r.k,{justifyContent:"flex-start",children:(0,l.jsx)("button",{onClick:()=>{var e;ei.setStyle(""),ei.setNegativeTags(""),ei.setEnableExcludeStyle(!1),ei.setDescription(""),ei.setTitle(""),ei.setLyrics(""),ei.resetContinueClip(),ei.resetArtistClip(),ei.resetCoverClip(),eR(eA),(null==en?void 0:null===(e=en.flags)||void 0===e?void 0:e.personas)&&ei.resetPersona()},className:"text-[13px] font-sans font-medium text-primary bg-tertiary hover:bg-secondary/20 p-4 rounded-full",children:"Clear"})}),(0,l.jsx)(r.k,{className:"create-button",width:""!==ei.description||""!==ei.style||""!==ei.lyrics||""!==ei.title||null!==ei.continueClipId||null!==ei.artistClipId||null!==ei.coverClipId?"95%":"100%",children:(0,l.jsx)(H.Z,{isDisabled:eB(),tooltipLabel:eH,onClick:()=>{window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{})},children:(0,l.jsx)(f.Z,{onClick:()=>{eB()?(window.open("/account","_blank"),a.g.logAudioCreationEvent(!1,v.OF.clickDisabledCreateSongWhenOutOfCredits,ei,en,{})):(m.setIsMadLibs(!1),b(m))},text:m.continueClipId?null!==m.infillFromSeconds&&null!==m.infillToSeconds?"Recreate Segment":"Extend":"Create",icon:"/create-new.svg",overrideButtonDisabled:eB(),isDisabled:eB()||!m.coverClipId&&!m.artistClipId&&!m.lyrics&&!m.style||!(m.isContinueValid()||m.isInfillValid()),isLoading:m.isLoading,fullWidth:!0,backgroundImage:"/create-button-background.svg"})})})]})]})})},73234:function(e,t,n){n.d(t,{O:function(){return f},_:function(){return v}});var l=n(57437),i=n(10114),a=n(95430),o=n(84338),s=n(91033),r=n(52371),d=n(1601),c=n(80048),u=n(7255),p=n(2265),m=n(21154),x=n(64874),g=n(92115),h=n(2550);let v=(0,a.Pi)(e=>{let{imageButtonOnClick:t,activeState:n}=e;return(0,l.jsx)("button",{"aria-label":"Staff Testing: Image to Song",onClick:t,className:"font-sans text-white text-sm font-medium mb-4 px-4 rounded-full shadow-lg hover:bg-primary/30 h-[28px] mt-4 ml-auto mr-4 ".concat(n?"bg-primary/30":"bg-quaternary"),children:(0,l.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[(0,l.jsx)("img",{src:"/icons/play-song-card.svg",alt:"Upload",className:"w-3 h-3 mr-1 filter invert brightness-0"}),(0,l.jsx)("span",{className:"whitespace-nowrap text-md",children:"Upload Image"})]})})}),f=(0,a.Pi)(e=>{let{state:t,onGenerate:n}=e,{session:a}=(0,o.mZ)(),[v,f]=(0,p.useState)(1),{enabled:b}=a.isFeatureAllowed("image-to-song"),y=()=>!Object.values(t.imageData).every(e=>null===e),j=(0,h.Sr)(a);return(0,l.jsx)(l.Fragment,{children:b?(0,l.jsxs)(i.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:[(0,l.jsx)(i.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:(0,l.jsxs)(i.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Image to Song"}),(0,l.jsx)(c.Z,{label:"Upload up to 3 images to generate a song."})]})}),(0,l.jsxs)(i.K,{children:[Array.from({length:v}).map((e,n)=>(0,l.jsx)(u.w,{width:204,height:288,onImageChanged:e=>{t.setImageData(e,n)}},n)),v<3?(0,l.jsx)(r.Z,{text:"Add another image",onClick:()=>{f(v+1)}}):(0,l.jsx)(r.Z,{text:"Maximum number of images (".concat(3,") exceeded"),isDisabled:!0,onClick:()=>{}})]}),(0,l.jsx)(i.K,{direction:"row",alignItems:"alignItems",justifyContent:"space-between",p:2,children:(0,l.jsxs)(i.K,{direction:"row",alignItems:"alignItems",spacing:1,children:[(0,l.jsx)("span",{className:"font-sans font-normal text-primary text-[15px]",children:"Image Context and Song Style"}),(0,l.jsx)(c.Z,{label:"Add names and places to images. Describe the style of music and topic you want."})]})}),(0,l.jsx)(i.K,{flex:"1",direction:["row","row","column"],alignItems:["stretch","stretch","stretch"],px:2,children:(0,l.jsx)(i.K,{direction:"column",flex:"1",spacing:0,className:"simple-prompt-textarea",children:(0,l.jsx)(d.Z,{maxLength:200,value:t.description,resize:!0,onChange:e=>t.setDescription(e.target.value),placeholder:t.placeholder,isScrollable:!0,customHeight:"h-[100px]"})})}),(0,l.jsxs)("div",{className:"px-2 py-6 mb-20 create-button hidden md:flex flex flex-col",children:[(0,l.jsx)(m.Z,{isDisabled:a.isOutOfCredits,tooltipLabel:j,onClick:()=>{a.isOutOfCredits&&(window.open("/account","_blank"),x.g.logAudioCreationEvent(!1,g.OF.clickDisabledCreateSongWhenOutOfCredits,t,a,{}))},children:(0,l.jsx)(s.Z,{onClick:()=>{if(a.isOutOfCredits){window.open("/account","_blank"),x.g.logAudioCreationEvent(!1,g.OF.clickDisabledCreateSongWhenOutOfCredits,t,a,{});return}t.setGenerationType("IMAGE"),n(t)},text:"Extract",icon:"/create-new.svg",overrideButtonDisabled:a.isOutOfCredits,isDisabled:a.isOutOfCredits||!y(),isLoading:t.isLoading,label:"Extract",fullWidth:!0})}),!y()&&(0,l.jsx)("div",{className:"font-sans text-sm",children:"* Please upload at least one image."})]})]}):(0,l.jsx)(i.K,{p:2,spacing:0,py:{base:0,md:4},w:"100%",children:"Image to Song is not available. Please refresh the page."})})})},93278:function(e,t,n){n.d(t,{Z:function(){return d}});var l=n(57437);n(2265);var i=e=>{let{title:t,titleIcon:n,description:i,madlibsPrompt:a,onClick:o}=e;return(0,l.jsxs)("button",{onClick:o,className:"bg-tertiary hover:bg-secondary hover:bg-opacity-20 text-white font-bold font-sans py-6 px-8 rounded-lg flex flex-col items-center w-full h-[124px]",children:[(0,l.jsxs)("div",{className:"flex items-center justify-center w-full text-center",children:[(0,l.jsx)("span",{className:"text-md font-normal break-words",children:t}),n&&(0,l.jsx)("span",{className:"ml-2",children:n})]}),(0,l.jsx)("p",{className:"font-normal text-sm text-gray-200 mt-2 break-words text-center",children:i}),(0,l.jsx)("p",{className:"text-xs text-gray-400 mt-1 break-words",children:a})]})},a=n(84338),o=n(37720),s=n(64874),r=n(92115),d=e=>{let{setSelectedSuggestion:t}=e,{edit:n,playbar:d}=(0,a.mZ)(),c=e=>{s.g.segmentTrack(r.Vy.generalEvent,{key:e.id,title:e.buttonTitle,actionName:r.OF.clickSuggestion}),t(e.id)};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h2",{className:"font-serif text-xl md:px-2 pt-6",children:"Need ideas?"}),(0,l.jsx)("div",{className:"flex flex-col md:px-2 pt-4 pb-6 gap-4 max-w-full",style:{marginBottom:d.clip?108+(n.isEditorOpen?136:0):0},children:o.map(e=>(0,l.jsx)(i,{title:e.buttonTitle,description:e.description,madlibsPrompt:"",onClick:()=>c(e)},e.id))})]})}},46187:function(e,t,n){var l=n(57437),i=n(2265),a=n(82162),o=n(87008),s=n(84338),r=n(74340),d=n(61493),c=n(65870),u=n(1633),p=n(36413),m=n(95430),x=n(93692),g=n(64874),h=n(92115),v=n(4681),f=n.n(v),b=n(66648),y=n(33706),j=n(16463),w=n(87138),k=n(13473),C=n(29945);let S=(0,m.Pi)(()=>{var e,t;let n,m;let{persona:v,genForm:S,playbar:N,clips:_,session:I,queue:P,library:E}=(0,s.mZ)(),M=(0,j.usePathname)(),[O,L]=(0,i.useState)(!1),[F,T]=(0,i.useState)("made_by_me"),[A,D]=(0,i.useState)(!1),[R,z]=(0,i.useState)(null),[Z,B]=(0,i.useState)(null),[U,V]=(0,i.useState)(!1),q=(0,i.useRef)(null),[W,G]=(0,i.useState)({}),[K,Y]=(0,i.useState)(!1);(0,i.useEffect)(()=>{X()},[]);let{ref:H}=(0,k.YD)({threshold:0,onChange:async e=>{e&&("made_by_me"===F?v.getPersonasByUser(v.currentPageUserPersonas+1):v.getSunoPersonas(v.currentPageSunoPersonas+1))}}),X=async()=>{V(!0);try{await Promise.all([v.getPersonasByUser(),v.getSunoPersonas()]),_.updateClips([...v.personas||[],...v.sunoPersonas||[]].map(e=>null==e?void 0:e.clip)),0===(v.personas||[]).length&&"made_by_me"===F&&T("from_suno")}catch(e){console.error("Error fetching personas:",e)}finally{V(!1)}},J=e=>{var t;S.setPersona(e.id),S.setPersonaClipId(e.root_clip_id),L(!1),S.resetContinueClip(),S.resetCoverClip();let n=_.clipById[e.root_clip_id];S.setStyle((null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.tags)||""),S.setTask("artist_consistency"),S.setContinueClip(null),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_selected",entityId:null==e?void 0:e.id,eventType:"click",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_selected",entityId:null==e?void 0:e.id,eventType:"click",pageUrl:M})},Q=e=>{var t;e.stopPropagation();let n=_.clipById[S.personaClipId||""];n&&S.style===(null==n?void 0:null===(t=n.metadata)||void 0===t?void 0:t.tags)&&S.setStyle(""),S.resetPersona(),S.setTask(null),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_cleared",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_cleared",pageUrl:M})},$=e=>{var t;(null===(t=N.clip)||void 0===t?void 0:t.id)===e?N.togglePlay():(P.setPlayContext({clips:E.currentClips||[],currentIndex:(E.currentClips||[]).findIndex(t=>t.id===e)||0,contextType:C.Q.FEED}),N.playClip(_.clipById[e]))};return(0,i.useEffect)(()=>{let e=e=>{q.current&&!q.current.contains(e.target)&&L(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,i.useEffect)(()=>{var e;let t={...W};null===(e=v.personas)||void 0===e||e.forEach(e=>{t[e.id]||(t[e.id]=(0,y.t)())}),G(t)},[v.personas]),(0,i.useEffect)(()=>{(async()=>{if(S.personaId)try{let e=await v.getPersonaById(S.personaId);z(e)}catch(e){console.error("Error fetching persona:",e),z(null)}finally{}else z(null)})()},[S.personaId,v]),(0,l.jsxs)("div",{className:"md:mx-2 relative font-sans pb-2",ref:q,children:[(0,l.jsx)("div",{className:"font-sans py-3 text-[15px]",children:"Persona"}),(0,l.jsxs)("div",{className:"cursor-pointer items-center justify-between bg-tertiary px-3 rounded-md border border-quaternary h-[48px] flex text-sm ".concat(R?"":"hover:bg-secondary/20"),onClick:()=>{O?(g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_dropdown",eventType:"close",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_dropdown",eventType:"close",pageUrl:M})):(g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_dropdown",eventType:"open",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_dropdown",eventType:"open",pageUrl:M})),L(!O)},children:[(0,l.jsxs)("div",{className:"flex items-center",children:[R&&(0,l.jsxs)("div",{className:"relative w-[30px] h-[30px] mr-2",onMouseEnter:()=>Y(!0),onMouseLeave:()=>Y(!1),children:[(0,l.jsx)(b.default,{src:"/auras/".concat(W[R.id]),alt:"Aura background",layout:"fill",objectFit:"cover",className:"rounded-full"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] h-[90%] rounded-full overflow-hidden",children:(0,l.jsx)(c.Z,{imageSize:u.YY,alt:"Persona Image",src:R.image_s3_id||u.ax,width:"100%",height:"100%",objectFit:"cover"})}),(0,l.jsx)(d.h,{"aria-label":"Play",icon:(null===(e=N.clip)||void 0===e?void 0:e.id)===(null==R?void 0:null===(t=R.clip)||void 0===t?void 0:t.id)&&N.isPlaying?(0,l.jsx)(o.fp,{className:"w-4 h-4 fill-primary"}):(0,l.jsx)(o.o1,{className:"w-3 h-3 fill-primary"}),size:"sm",position:"absolute",width:"30px",height:"30px",borderRadius:"50%",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:K?1:0,_focus:{opacity:1},onClick:e=>{e.stopPropagation(),$(R.root_clip_id)}})]}),(0,l.jsx)("span",{children:R?(0,l.jsx)("div",{className:"font-sans font-medium text-sm",children:R.name}):"No persona selected"})]}),R?(0,l.jsx)(p.Z,{onClick:e=>Q(e),size:16}):(0,l.jsx)("button",{children:(0,l.jsx)(o.pT,{className:"w-4 h-4 fill-primary ml-2 z-[10000]"})})]}),O&&(0,l.jsxs)("div",{className:"absolute top-full bg-tertiary text-primary px-4 rounded-lg w-full z-10 border border-quaternary max-h-[350px] overflow-y-auto shadow-xl",children:[(0,l.jsxs)("div",{className:"flex justify-between gap-2 sticky top-0 bg-tertiary px-2 py-4 z-20 select-none",children:[(0,l.jsx)("button",{className:"flex-1 p-2 text-sm font-medium rounded-lg ".concat("made_by_me"===F?"bg-primary text-tertiary":"bg-vinylBlack-darker text-primary hover:bg-secondary/20"),onClick:()=>{T("made_by_me"),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_made_by_me_tab",eventType:"click",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_made_by_me_tab",eventType:"click",pageUrl:M})},children:"Made by Me"}),(0,l.jsx)("button",{className:"flex-1 p-2 text-sm font-medium rounded-lg ".concat("from_suno"===F?"bg-primary text-tertiary":"bg-vinylBlack-darker text-primary hover:bg-secondary/20"),onClick:()=>{T("from_suno"),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_from_suno_tab",eventType:"click",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_from_suno_tab",eventType:"click",pageUrl:M})},children:"From Suno"})]}),(0,l.jsx)("div",{className:"text-center pb-2",children:U?(0,l.jsx)("div",{className:"flex justify-center items-center h-20",children:(0,l.jsx)(x.Z,{})}):(n="made_by_me"===F?v.personas:v.sunoPersonas,m="made_by_me"===F?v.totalUserPersonas:v.totalSunoPersonas,(0,l.jsxs)(l.Fragment,{children:["made_by_me"===F&&0===n.length?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("p",{children:"No Personas"}),(0,l.jsx)("p",{className:"text-sm",children:"Personas let you create songs that have a similar style and voice."})]}):n.map(e=>{var t,n,i;return(0,l.jsxs)("div",{className:"flex items-center gap-4 cursor-pointer p-2 w-full hover:bg-secondary/20 hover:rounded-lg justify-between group",onClick:()=>J(e),onMouseEnter:()=>B(e.id),onMouseLeave:()=>B(null),children:[(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[(0,l.jsxs)(r.xu,{position:"relative",width:"30px",height:"30px",onMouseEnter:()=>B(e.id),onMouseLeave:()=>B(null),children:[(0,l.jsx)(b.default,{src:"/auras/".concat(W[e.id]||"Aura-01.jpg"),alt:"Aura background",layout:"fill",objectFit:"cover",className:"rounded-full"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] h-[90%] rounded-full overflow-hidden",children:(0,l.jsx)(c.Z,{imageSize:u.YY,alt:"Persona Image",src:e.image_s3_id||u.ax,width:"100%",height:"100%",objectFit:"cover",onClick:t=>{var n;$(null===(n=e.clip)||void 0===n?void 0:n.id),t.stopPropagation(),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_play",eventType:"click",entityId:null==e?void 0:e.id,pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_play",eventType:"click",entityId:null==e?void 0:e.id,pageUrl:M})}})}),(0,l.jsx)(d.h,{"aria-label":"Play",icon:(null===(t=N.clip)||void 0===t?void 0:t.id)===(null==e?void 0:e.root_clip_id)&&N.isPlaying?(0,l.jsx)(o.fp,{className:"w-4 h-4 fill-primary"}):(0,l.jsx)(o.o1,{className:"w-3 h-3 fill-primary"}),size:"sm",position:"absolute",width:"30px",height:"30px",borderRadius:"50%",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:Z===e.id?1:0,_focus:{opacity:1},onClick:t=>{var n;$(null===(n=e.clip)||void 0===n?void 0:n.id),t.stopPropagation(),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_play",eventType:"click",entityId:null==e?void 0:e.id,pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"persona_play",eventType:"click",entityId:null==e?void 0:e.id,pageUrl:M})}})]}),(0,l.jsxs)("div",{className:"font-sans font-medium text-sm max-w-[150px] overflow-hidden flex flex-col items-start",children:[(0,l.jsx)("div",{className:"block truncate",children:e.name}),(0,l.jsx)("div",{className:"text-secondary/50 text-xs truncate",children:(null===(i=_.clipById[e.root_clip_id])||void 0===i?void 0:null===(n=i.metadata)||void 0===n?void 0:n.tags)||""})]})]}),(0,l.jsx)(w.default,{href:"/persona/".concat(e.id),target:"_blank",rel:"noopener noreferrer",onClick:e=>{e.stopPropagation(),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"link_to_persona_page",eventType:"click",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"link_to_persona_page",eventType:"click",pageUrl:M})},className:"p-2 text-xs font-medium text-primary bg-quaternary rounded-full hover:bg-secondary/20 opacity-0 group-hover:opacity-100",children:(0,l.jsx)(o.xP,{className:"w-2 h-2 fill-primary z-[10000]"})})]},e.id)}),n.length<(m||0)?(0,l.jsx)("div",{className:"flex justify-center items-center h-20",ref:H,children:(0,l.jsx)(x.Z,{})}):null]}))}),"made_by_me"===F&&(0,l.jsx)("div",{className:"flex justify-center sticky bottom-0 bg-tertiary py-2",children:(0,l.jsx)("div",{className:"text-primary font-sans text-sm cursor-pointer border border-primary rounded-full py-2 px-4 hover:bg-secondary/20",onClick:()=>{D(!0),L(!1),g.g.segmentTrack(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"create_persona",eventType:"click",pageUrl:M}),f().track(h.Vy.webPageEvent,{userId:null==I?void 0:I.userId,element:"create_persona",eventType:"click",pageUrl:M})},children:"Create a Persona"})})]}),(0,l.jsx)(a.Z,{isOpen:A,onClose:()=>{D(!1)}})]})});t.Z=S},76638:function(e,t,n){var l=n(57437),i=n(95430),a=n(69548),o=n(65870),s=n(87138),r=n(47840),d=n(61493),c=n(84338),u=n(2265);let p=(0,i.Pi)(e=>{var t;let{clip:n,label:i,isLoading:p,compact:m,onPlay:x}=e,{playbar:g}=(0,c.mZ)(),[h,v]=(0,u.useState)(!1),f=!g.queue.currentPlayingSongIsRemoved&&(null===(t=g.clip)||void 0===t?void 0:t.id)===(null==n?void 0:n.id);return n||p?(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"bg-vinylBlack-dark rounded-md font-sans p-4 ".concat(m?"m-0":"m-4 mb-2 mt-3 "," hover:bg-[rgba(209,203,199,0.08)]"),children:(0,l.jsx)("div",{className:"text-xs",children:p?(0,l.jsx)("div",{children:"Loading..."}):(0,l.jsxs)("div",{className:"flex flex-row",children:[(0,l.jsxs)("div",{className:"flex-0 relative overflow-hidden w-[30px] h-[41px]",onMouseEnter:()=>{v(!0)},onMouseLeave:()=>{v(!1)},onClick:()=>{x&&x()},children:[(null==n?void 0:n.image_url)?(0,l.jsx)(o.Z,{alt:"Song Image",width:"30px",height:"41px",borderRadius:"4px",src:null==n?void 0:n.image_url,objectFit:"cover","flex-shrink":"0"}):(0,l.jsx)(r.O,{height:"41px",width:"30px",startColor:"#252020",endColor:"#363030"}),(0,l.jsx)(d.h,{"aria-label":g.isPlaying?"Pause":"Play",icon:f&&g.isPlaying?(0,l.jsx)(o.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:4,height:4}):(0,l.jsx)("div",{className:"ml-1",children:(0,l.jsx)(o.Z,{src:"/icons/play.svg",alt:"Play",width:4,height:4})}),position:"absolute",width:"30px",height:"41px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:f||h?1:0,_focus:{opacity:1}})]}),(0,l.jsx)("div",{className:"flex-1 flex items-center overflow-hidden pl-3",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"text-[14px] font-semibold font-sans leading-[16px]",children:i}),(0,l.jsx)("div",{className:"overflow-hidden text-[14px] hover:underline",children:(0,l.jsx)(s.default,{href:"/song/".concat(null==n?void 0:n.id,"/"),children:(0,l.jsx)("span",{className:"truncate block",children:(0,a.M8)(n)})})})]})})]})})})}):null});t.Z=p},48290:function(e,t,n){n.d(t,{Z:function(){return L}});var l=n(57437),i=n(84338),a=n(26234),o=n(64874),s=n(92115),r=n(16463),d=n(51464),c=n(99240),u=n(1633),p=n(95430),m=n(2265),x=n(45614),g=n(65125),h=n(69548),v=n(85751),f=n(18330),b=n(50474),y=n(36413),j=n(72025),w=n(35500),k=n(87138),C=e=>{let{text:t,href:n,fontSize:i}=e;return(0,l.jsx)("span",{className:"mt-2 px-4 font-sans text-primary text-md font-normal whitespace-pre-wrap break-words cursor-pointer",style:{maxWidth:"100%",fontSize:i},title:t,children:(0,l.jsx)(w.r,{as:k.default,href:n,children:t})})},S=n(80524),N=n(6051),_=n(29945),I=n(64058),P=n(76638),E=n(54683),M=n(2550),O=n(31017),L=(0,p.Pi)(e=>{var t,n,p,w,k,L,F,T,A,D,R,z,Z,B,U,V,q,W,G,K,Y,H,X,J,Q,$,ee,et,en;let{clip:el,fontSize:ei,onCloseClipPreview:ea,onAddToPlaylist:eo,onRemoveFromPlaylist:es,infillRange:er}=e,{clips:ed,session:ec,library:eu,playbar:ep}=(0,i.mZ)(),em=(0,m.useRef)(),[ex,eg]=(0,m.useState)(!1),[eh,ev]=(0,m.useState)(!1),{isOpen:ef,onOpen:eb,onClose:ey}=(0,d.q)(),{isOpen:ej,onClose:ew}=(0,d.q)(),[ek,eC]=(0,m.useState)([]),[eS,eN]=(0,m.useState)(null),[e_,eI]=(0,m.useState)(!0),[eP,eE]=(0,m.useState)(null),[eM,eO]=(0,m.useState)(!0),[eL,eF]=(0,m.useState)(null),[eT,eA]=(0,m.useState)(!0);(0,m.useEffect)(()=>{let e=async()=>{let{data:e}=await eu.apiClient.GET("/api/user/get-creator-info/{creator_id}",{params:{path:{creator_id:(null==el?void 0:el.user_id)||""}}});ev((null==e?void 0:e.is_following)||!1)};(async()=>{var e;if(!el||!el.metadata||!el.metadata.history||!el.metadata.history.length){eC([]);return}let t=null==el?void 0:null===(e=el.metadata.history)||void 0===e?void 0:e.filter(e=>e.id).map(e=>ed.loadClipById(e.id));try{let e=(await Promise.all(t)).filter(Boolean);ed.updateClips(e),eC(e)}catch(e){console.error("Error fetching continued clips:",e)}})(),e()},[el,ed.loadClipById]),(0,m.useEffect)(()=>{em.current&&em.current.scrollIntoView()},[er]);let eD=(0,r.usePathname)(),eR=async()=>{var e;o.g.track(s.Vy.followBtnClick,{followerId:el.user_id,isFollow:!eh,isMobile:!1}),o.g.segmentTrack(s.Vy.artistActionEvent,{isMobile:!1,userId:null===(e=ec.user)||void 0===e?void 0:e.id,followeeId:null==el?void 0:el.user_id,actionName:eh?s.OF.unfollowArtist:s.OF.followArtist,clickSourceUrl:eD}),await eu.apiClient.POST("/api/profiles/follow",{body:{unfollow:eh,handle:el.handle||""}}),ev(!eh)},ez=ei?ei*u.m:ei;if(!el)return null;let{startIndex:eZ,endIndex:eB}=(null==er?void 0:er.start)!==void 0&&(null==er?void 0:er.end)!==void 0?(0,I.O)(ed.alignedLyricsByClipId[el.id],null==er?void 0:er.start,null==er?void 0:er.end):{startIndex:void 0,endIndex:void 0};(0,m.useEffect)(()=>{var e;let t=async()=>{var e;if(null===(e=el.metadata)||void 0===e?void 0:e.artist_clip_id){let e=await ed.loadClipById(el.metadata.artist_clip_id);e&&(ed.updateClips([e]),eN(e))}eI(!1)};(null==ec?void 0:null===(e=ec.flags)||void 0===e?void 0:e.personas)&&t()},[null===(t=el.metadata)||void 0===t?void 0:t.artist_clip_id]),(0,m.useEffect)(()=>{var e;let t=async()=>{var e,t;if(null===(e=el.metadata)||void 0===e?void 0:e.persona_id){let{data:e}=await eu.apiClient.GET("/api/persona/{persona_id}/metadata",{params:{path:{persona_id:(null===(t=el.metadata)||void 0===t?void 0:t.persona_id)||""}}});e&&eF(e)}eA(!1)};(null==ec?void 0:null===(e=ec.flags)||void 0===e?void 0:e.personas)&&t()},[null===(n=el.metadata)||void 0===n?void 0:n.persona_id]),(0,m.useEffect)(()=>{let e=async()=>{var e;if(null===(e=el.metadata)||void 0===e?void 0:e.cover_clip_id){let e=await ed.loadClipById(el.metadata.cover_clip_id);e&&(ed.updateClips([e]),eE(e))}eO(!1)};(0,M.bx)(ec)&&e()},[null===(p=el.metadata)||void 0===p?void 0:p.cover_clip_id]);let eU=e=>{var t;if(ep.queue.contextType===_.Q.FEED&&(null===(t=ep.clip)||void 0===t?void 0:t.id)===e.id){ep.togglePlay();return}ep.queue.setPlayContext({contextType:_.Q.FEED,currentIndex:ed.clips.findIndex(t=>t.id===e.id),clips:ed.clips}),ep.playClip(e)},eV=(null===(w=el.metadata)||void 0===w?void 0:w.persona_id)&&(eT||!!(null==eL?void 0:eL.id)),eq=eV&&eL&&(null==ec?void 0:null===(k=ec.flags)||void 0===k?void 0:k.personas),eW=!eV&&(null===(L=el.metadata)||void 0===L?void 0:L.artist_clip_id)&&(e_||eS)&&(null==ec?void 0:null===(F=ec.flags)||void 0===F?void 0:F.personas),eG=(0,M.U_)(ec)&&(null===(T=el.metadata)||void 0===T?void 0:T.negative_tags);return(0,l.jsxs)("div",{className:"overflow-y-auto h-full overflow-x-hidden bg-tertiary",onMouseEnter:()=>eg(!0),onMouseLeave:()=>eg(!1),children:[ex&&(0,l.jsx)(c.k,{top:2,right:2,zIndex:"1",position:"absolute",children:(0,l.jsx)(y.Z,{onClick:()=>ea()})}),(0,l.jsx)(j.Z,{rounded:!1,clip:el,preview:!0}),(0,l.jsxs)(c.k,{direction:"column",children:[(0,l.jsx)(C,{fontSize:ez,text:(0,h.M8)(el),href:"/song/".concat(el.id)}),(0,l.jsx)("span",{className:"mt-2 font-sans font-normal text-secondary text-[12px] whitespace-pre-wrap break-words cursor-pointer",style:{maxWidth:"100%"},children:(0,N.zD)(eG?(0,N.UL)(null===(A=el.metadata)||void 0===A?void 0:A.tags,null===(D=el.metadata)||void 0===D?void 0:D.negative_tags):null===(R=el.metadata)||void 0===R?void 0:R.tags,N.Iv,!1,ei)}),(0,l.jsxs)(c.k,{my:4,mx:4,children:[(0,l.jsx)(b.Z,{displayName:el.display_name,handle:el.handle,imageUrl:el.avatar_image_url||void 0,fontSize:ei}),(null===(z=ec.user)||void 0===z?void 0:z.id)&&el.user_id!==(null===(Z=ec.user)||void 0===Z?void 0:Z.id)&&(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)(a.Z,{color:eh?"white":"gray",text:"",size:"xs",leftIcon:eh?(0,l.jsx)(x.wUZ,{}):(0,l.jsx)(g.fSq,{}),onClick:eR,rounded:!0,fixedWidth:"w-26"})})]}),eq&&(0,l.jsx)("div",{className:"mx-4 mb-4",children:(0,l.jsx)(O.Z,{persona:eL,fontSize:ei})}),(0,l.jsx)("span",{className:"px-4 font-sans font-normal text-secondary text-[12px] whitespace-pre-wrap break-words",style:{maxWidth:"100%",fontSize:ei?ei*u.n_:void 0},title:(0,h.ST)(el.created_at),children:(0,h.ST)(el.created_at)}),(0,l.jsx)("div",{className:"py-2",children:(0,l.jsx)(S.Z,{clip:el,onAddToPlaylist:eo,onRemoveFromPlaylist:es,onUpdateMetadata:eb,isFromSongRow:!1})}),(null==ec?void 0:null===(B=ec.flags)||void 0===B?void 0:B.configs)&&ec.isStaff&&(null===(U=el.metadata)||void 0===U?void 0:U.configurations)&&Object.keys(el.metadata.configurations).length>0&&(0,l.jsxs)("div",{className:"bg-tertiary rounded-md font-sans p-4 mt-4",children:[(0,l.jsx)("div",{className:"font-bold mb-2 text-sm",children:"Configurations"}),(0,l.jsx)("ul",{children:Object.entries(el.metadata.configurations).map(e=>{let[t,n]=e;return(0,l.jsxs)("li",{className:"mb-1 text-xs",children:[(0,l.jsxs)("span",{className:"font-bold",children:[t,":"]}),"\xa0",(0,l.jsx)("span",{children:n})]},t)})})]}),eW&&(null===(V=el.metadata)||void 0===V?void 0:V.artist_clip_id)&&(0,l.jsx)(P.Z,{clip:eS,label:"Inspired by",isLoading:e_,onPlay:()=>eU(eS)}),(null==ec?void 0:null===(q=ec.flags)||void 0===q?void 0:q.cover)&&(null===(W=el.metadata)||void 0===W?void 0:W.cover_clip_id)&&(0,l.jsx)("div",{children:(0,l.jsx)(P.Z,{clip:eP,label:"Cover of",isLoading:eM,onPlay:()=>eU(eP)})}),ek.length>0&&(null===(G=ec.user)||void 0===G?void 0:G.id)===el.user_id&&(0,l.jsx)("div",{className:"p-4",children:(0,l.jsx)(E.Z,{clips:ek,handlePlayClip:eU})}),(0,l.jsx)("span",{className:"mt-2 mb-4 px-4 font-sans font-normal text-secondary text-[14px] whitespace-pre-wrap break-words",style:{maxWidth:"100%",fontSize:ei},children:(null===(K=ec.flags)||void 0===K?void 0:K["edit-mode-ui"])&&void 0!==eZ&&void 0!==eB?(0,l.jsxs)(l.Fragment,{children:[eZ>0?(0,l.jsx)("span",{children:null===(H=el.metadata)||void 0===H?void 0:null===(Y=H.prompt)||void 0===Y?void 0:Y.slice(0,eZ)}):null,(0,l.jsx)("span",{ref:em,className:"text-accentPink",children:null===(J=el.metadata)||void 0===J?void 0:null===(X=J.prompt)||void 0===X?void 0:X.slice(eZ,eB)}),eB<((null===($=el.metadata)||void 0===$?void 0:null===(Q=$.prompt)||void 0===Q?void 0:Q.length)||0)?(0,l.jsx)("span",{children:null===(et=el.metadata)||void 0===et?void 0:null===(ee=et.prompt)||void 0===ee?void 0:ee.slice(eB)}):null]}):null===(en=el.metadata)||void 0===en?void 0:en.prompt})]}),(0,l.jsx)(v.Z,{library:eu,isOpen:ej,onPlaylistClick:(e,t)=>{eu.addClipsToPlaylist(e,t)},onClose:ew}),(0,l.jsx)(f.ZP,{library:eu,isOpen:ef,onSubmit:async(e,t)=>{let n=el.id,l=await ed.setMetadata({clipId:n,title:e,imageUrl:t});l&&l.success&&(el.title=e,el.image_url=t||null),ey()},onClose:ey})]},el.id)})},54683:function(e,t,n){n.d(t,{Z:function(){return y}});var l=n(57437),i=n(2265),a=n(54887),o=n(51464),s=n(47840),r=n(61493),d=n(87138),c=n(87008),u=n(65870),p=n(69548),m=n(84338),x=n(99240),g=n(16829),h=n(6353),v=n(14063),f=n(1633),b=e=>{var t;let{clip:n,onPlay:a,index:o,playlistId:c,partNumber:b,isSongPage:y=!1}=e,{playbar:j}=(0,m.mZ)(),w=!j.queue.currentPlayingSongIsRemoved&&(void 0!==o?o===j.queue.currentIndex&&j.queue.isPlaylistCurrentContext(c):(null===(t=j.clip)||void 0===t?void 0:t.id)===(null==n?void 0:n.id)),[k,C]=(0,i.useState)(!1),S=(null==n?void 0:n.status)==="queued"||(null==n?void 0:n.status)==="submitted";return(0,l.jsxs)("div",{className:"flex flex-row mb-4",children:[(0,l.jsxs)("div",{className:"flex-0 relative overflow-hidden w-[30px] h-[41px] cursor-pointer",onClick:a,"aria-label":"Play Song",onMouseEnter:()=>C(!0),onMouseLeave:()=>C(!1),children:[(null==n?void 0:n.image_url)?(0,l.jsx)(u.Z,{imageSize:f.YY,alt:"Song Image",src:null==n?void 0:n.image_url,width:"30px",height:"41px",borderRadius:"4px",objectFit:"cover","flex-shrink":"0",border:w?"1px solid white":void 0}):(0,l.jsx)(s.O,{height:"30px",width:"30px",startColor:"#252020",endColor:"#363030"}),S&&(0,l.jsx)(x.k,{width:"30px",height:"30px",position:"absolute",top:0,left:0,alignItems:"center",justifyContent:"center",children:(0,l.jsx)(g.$,{color:"white",boxSize:"12px"})}),(0,l.jsx)(r.h,{"aria-label":j.isPlaying?"Pause":"Play",icon:w&&j.isPlaying?(0,l.jsx)(u.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:4,height:4}):(0,l.jsx)("div",{className:"ml-1",children:(0,l.jsx)(u.Z,{src:"/icons/play.svg",alt:"Play",width:4,height:4})}),size:"sm",position:"absolute",width:"30px",height:"41px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:w||k?1:0,_focus:{opacity:1}})]}),(0,l.jsx)("div",{className:"flex-1 flex items-center overflow-hidden pl-3",children:(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"text-[12px] leading-[16px]",children:(0,l.jsxs)("div",{className:"font-sans flex items-center",children:[(0,l.jsx)(h.J,{as:v.gjK}),(0,l.jsxs)("span",{className:"ml-1",children:["Part ",b]})]})}),(0,l.jsx)("div",{className:"text-[14px] leading-[16px]",children:(0,l.jsx)(d.default,{href:"/song/".concat(n.id,"/"),className:"truncate ".concat(y?"max-w-[40%]":"max-w-[150px]"),children:(0,p.M8)(n)})})]})})]})},y=(0,n(95430).Pi)(e=>{var t,n;let{clips:x,handlePlayClip:g}=e,{isOpen:h,onOpen:v,onClose:f}=(0,o.q)(),y=(0,i.useRef)(null),j=(0,i.useRef)(null),{playbar:w}=(0,m.mZ)(),[k,C]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=e=>{y.current&&!y.current.contains(e.target)&&j.current&&!j.current.contains(e.target)&&f()};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[f]);let S=e=>{x.length<=1||(e.stopPropagation(),h?f():v())};if(!x||x.length<=0)return null;let N=x[0],_=!w.queue.currentPlayingSongIsRemoved&&(null===(t=w.clip)||void 0===t?void 0:t.id)===(null==N?void 0:N.id);return(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("div",{ref:j,className:"flex flex-row items-center bg-[#1A1111] ".concat(h?"rounded-t-lg":"rounded-lg"," p-4 cursor-pointer hover:bg-[rgba(209,203,199,0.08)]"),children:[(0,l.jsxs)("div",{className:"flex-0 relative overflow-hidden w-[30px] h-[41px]",onMouseEnter:()=>{C(!0)},onMouseLeave:()=>{C(!1)},onClick:()=>{g&&g(N)},children:[(null==N?void 0:N.image_url)?(0,l.jsx)(u.Z,{alt:"Song Image",width:"30px",height:"41px",borderRadius:"4px",src:null==N?void 0:N.image_url,objectFit:"cover","flex-shrink":"0"}):(0,l.jsx)(s.O,{height:"41px",width:"30px",startColor:"#252020",endColor:"#363030"}),(0,l.jsx)(r.h,{"aria-label":w.isPlaying?"Pause":"Play",icon:_&&w.isPlaying?(0,l.jsx)(u.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:4,height:4}):(0,l.jsx)("div",{className:"ml-1",children:(0,l.jsx)(u.Z,{src:"/icons/play.svg",alt:"Play",width:4,height:4})}),position:"absolute",width:"30px",height:"41px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:_||k?1:0,_focus:{opacity:1}})]}),(0,l.jsx)("div",{onClick:S,className:"flex-1 flex items-center overflow-hidden pl-3",children:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"text-[14px] font-semibold font-sans leading-[16px] truncate",children:"Extended from"}),(0,l.jsx)("div",{className:"overflow-hidden text-[14px] leading-[16px] hover:underline",children:(0,l.jsx)(d.default,{href:"/song/".concat(null==N?void 0:N.id,"/"),children:(0,l.jsx)("span",{className:"truncate block",children:(0,p.M8)(N)})})})]})}),x.length>1&&(0,l.jsx)("div",{onClick:S,className:"flex-0 flex items-center pl-3",children:h?(0,l.jsx)(c.w8,{className:"w-4 h-4 fill-primary"}):(0,l.jsx)(c.pT,{className:"w-4 h-4 fill-primary"})})]}),h&&a.createPortal((0,l.jsx)("div",{className:"absolute p-4 pb-0 w-full scrollbar-hide rounded-b-md shadow-lg bg-[#1A1111] z-[10000]",style:{top:"100%",left:0},ref:y,children:x.map((e,t)=>(0,l.jsx)(b,{rowKey:e.id,clip:e,partNumber:t+1,onPlay:()=>g(e),isSongPage:!1},t))}),(null===(n=j.current)||void 0===n?void 0:n.parentElement)||document.body)]})})},19060:function(e,t,n){n.d(t,{a:function(){return $}});var l=n(57437),i=n(40323),a=n(20610),o=n(51464),s=n(39467),r=n(16829),d=n(96554),c=n(20915),u=n(10114),p=n(47414),m=n(6353),x=n(40191),g=n(76684),h=n(61493),v=n(99890),f=n(17458),b=n(6005),y=n(1371),j=n(52249),w=n(85222),k=n(35500),C=n(20408),S=n(14063),N=n(48026),_=n(84338),I=n(5443),P=n(1633),E=n(64874),M=n(92115),O=n(69548),L=n(93073),F=n(95430),T=n(66648),A=n(16463),D=n(2265),R=n(69523),z=n(14326),Z=n(48626),B=n(93025),U=n(76613),V=n(92628),q=n(36413),W=n(20435),G=n(638),K=n(93692),Y=n(2550),H=n(51798),X=n(82162),J=n(4681),Q=n.n(J);let $=(0,F.Pi)(e=>{var t,n,i,u,p,m,x,g,h,v,f,b,y,j,w,k,C,F,z;let{clip:Z,isSongPage:B,onAddToPlaylist:q,onRemoveFromPlaylist:W,onOpenDeleteModal:J,onCloseMenuModal:$,onUpdateMetadata:ee}=e,{genForm:et,clips:en,session:el,trash:ei,library:ea}=(0,_.mZ)(),eo="v2"===Z.major_model_version,es="v3"===Z.major_model_version||"v3.5"===Z.major_model_version,er=!Z.metadata.infill&&(eo||es||(null===(t=Z.metadata)||void 0===t?void 0:t.type)==="upload")&&(!(0,I.R)(Z)||(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId)),ed=(0,A.useRouter)(),ec=(0,A.usePathname)(),eu="complete"===Z.status,[ep,em]=(0,D.useState)(!1),ex=(el.roles.pro||el.roles.staff)&&!Z.is_video_pending,eg=(el.roles.pro||el.roles.staff)&&!(0,I.Q)(Z),eh=(0,a.p)(),ev=async()=>{await en.trashClips([Z.id],!Z.is_trashed),Z.is_trashed?(ea.addToLibrary(Z.id),en.addToCreatePage(Z.id)):ei.addToTrash(Z.id)},ef=async()=>{await en.trashClips([Z.id],!Z.is_trashed),Z.is_trashed?ei.removeFromTrash(Z.id):(ea.removeFromLibrary(Z.id),en.removeFromCreatePage(Z.id)),$(),eh({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,l.jsx)(G.Z,{clips:[Z],isTrashed:Z.is_trashed,undoTrash:ev})})},{isOpen:eb,onOpen:ey,onClose:ej}=(0,o.q)(),ew=()=>{ey()},ek=en.apiClient,{isOpen:eC,onOpen:eS,onClose:eN}=(0,o.q)(),e_=(0,D.useCallback)(()=>{em(!1)},[]),{setExtendModeOn:eI,setReusePromptOn:eP}=(0,D.useContext)(N.BI),{isSignedIn:eE}=(0,L.aC)();return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s.s,{fontSize:"sm",rounded:"md",fontFamily:"Neue Montreal",onClick:()=>{E.g.track(M.Vy.reusePromptBtnClick,{clipId:null==Z?void 0:Z.id,isUserSongOwner:(null==el?void 0:el.userId)!==void 0&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId),isMobile:!0}),E.g.logAudioActionEvent(!0,M.OF.reusePrompt,Z,el,ec),$(),et.shouldOpenMobileCreate=!0,eP&&eP(!0),et.reuseClip(Z),"/create/"!==ec&&ed.push("/create/")},children:"Reuse Prompt"}),er&&(0,l.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{var e,t;E.g.track(M.Vy.extendSongBtnClick,{clipId:null==Z?void 0:Z.id,isUserSongOwner:(null==el?void 0:el.userId)!==void 0&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId),isMobile:!0}),$(),et.resetCoverClip(),et.resetPersona(),et.resetArtistClip(),et.setContinueClip(Z),et.setTask("extend"),et.shouldOpenMobileCreate=!0,eI&&eI(!0),""===et.style&&et.setStyle((null==Z?void 0:null===(t=Z.metadata)||void 0===t?void 0:t.tags)||""),et.setNegativeTags((null==Z?void 0:null===(e=Z.metadata)||void 0===e?void 0:e.negative_tags)||""),et.resetEnableExcludeStyle(),"/create/"!==ec&&ed.push("/create/")},isDisabled:!eu,children:[eu?null:(0,l.jsx)(r.$,{mr:2,size:"sm"}),"Extend"]}),((null==el?void 0:el.isStaff)||(null==el?void 0:null===(n=el.flags)||void 0===n?void 0:n.cover)&&((null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId)||P.QN.includes(Z.id)))&&!(null==Z?void 0:Z.is_trashed)&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{eu&&(0,Y.bx)(el)&&(E.g.track(M.Vy.coverSongBtnClick,{clipId:null==Z?void 0:Z.id,isUserSongOwner:(null==el?void 0:el.userId)!==void 0&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId),isMobile:!0}),E.g.logAudioActionEvent(!0,M.OF.coverSong,Z,el,ec),$(),et.resetContinueClip(),et.resetPersona(),et.setArtistClip(null),et.setCoverClip(Z),et.setTask("cover"),et.shouldOpenMobileCreate=!0,"/create/"!==ec&&ed.push("/create/"))},isDisabled:!eu||!(0,Y.bx)(el),children:eu&&(0,Y.bx)(el)?(0,l.jsxs)("div",{className:"inline-block flex items-center",children:[(0,l.jsx)("span",{className:"mr-1",children:"Cover Song"}),(0,l.jsx)(H.Z,{label:"Beta",tooltip:"This is a new feature. Liking and disliking your songs helps us make it better!"})]}):(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:[eu&&!(0,Y.bx)(el)?null:(0,l.jsx)(r.$,{mr:2,size:"sm"}),"Cover Song"]})}),((null==el?void 0:el.isStaff)||(null==el?void 0:null===(i=el.flags)||void 0===i?void 0:i.personas)&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId))&&!(null==Z?void 0:Z.is_trashed)&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{var e;!eu||!(0,Y.JI)(el)||["upload"].includes(null==Z?void 0:null===(e=Z.metadata)||void 0===e?void 0:e.type)||(E.g.segmentTrack(M.Vy.webPageEvent,{userId:null==el?void 0:el.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==Z?void 0:Z.id,pageUrl:ec}),Q().track(M.Vy.webPageEvent,{userId:null==el?void 0:el.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==Z?void 0:Z.id,pageUrl:ec}),et.resetContinueClip(),et.resetCoverClip(),et.setArtistClip(Z.id),et.setPersonaClipId(Z.id),et.setTask("artist_consistency"),em(!0))},isDisabled:!eu||!(0,Y.JI)(el)||["upload"].includes(null==Z?void 0:null===(u=Z.metadata)||void 0===u?void 0:u.type),children:eu&&(0,Y.JI)(el)||!["upload"].includes(null==Z?void 0:null===(p=Z.metadata)||void 0===p?void 0:p.type)?(0,l.jsxs)("div",{className:"inline-block flex items-center",children:[(0,l.jsx)("span",{className:"mr-1 w-[100px] whitespace-nowrap",children:"Make Persona"}),(0,l.jsx)(H.Z,{label:"Beta",tooltip:"This is a new feature. Liking and disliking your songs helps us make it better!",auraImage:"/auras/Aura-07.jpg"}),["upload"].includes(null==Z?void 0:null===(m=Z.metadata)||void 0===m?void 0:m.type)&&(0,l.jsx)("div",{className:"font-sans text-xs ml-4 flex flex-wrap",children:"You cannot make Personas from audio uploads at this time."})]}):(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:[eu&&!(0,Y.JI)(el)||["upload"].includes(null==Z?void 0:null===(x=Z.metadata)||void 0===x?void 0:x.type)?null:(0,l.jsx)(r.$,{mr:2,size:"sm"}),"Make Persona"]})}),!Z.is_trashed&&(null===(g=el.user)||void 0===g?void 0:g.id)===Z.user_id&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{$(),ee&&ee(),ea.setActiveClip(Z)},children:"Edit Details"}),q&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{$(),ea.setActiveClip(Z),q()},children:"Add to Playlist"}),W&&(0,l.jsx)(s.s,{fontSize:"sm",onClick:W,rounded:"md",fontFamily:"Neue Montreal",children:"Remove from Playlist"}),(eo||es)&&(null===(h=Z.metadata)||void 0===h?void 0:h.history)&&eu?(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{$(),en.runConcat(Z.id,Z.metadata.infill)},children:Z.metadata.infill?"Confirm Infill":"Get Whole Song"}):null,(null===(v=el.flags)||void 0===v?void 0:v["on-demand-video"])&&eu&&!(null==Z?void 0:Z.is_trashed)&&(null===(f=el.user)||void 0===f?void 0:f.id)===(null==Z?void 0:Z.user_id)?(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",isDisabled:!ex,rounded:"md",onClick:()=>{ex&&($(),E.g.logAudioActionEvent(!0,M.OF.regenerateVideo,Z,el,ec),en.regenerateVideo(Z,ea),eh({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},children:ex?"Regenerate Video":Z.is_video_pending?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(K.Z,{})," Video is generating"]}):"Subscribe to regenerate video"}):null,(null===(b=el.flags)||void 0===b?void 0:b["editing-stems"])&&!(0,I.R)(Z)&&eu&&!(null==Z?void 0:Z.is_trashed)&&(null===(y=el.user)||void 0===y?void 0:y.id)===(null==Z?void 0:Z.user_id)&&eg?(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{E.g.logAudioActionEvent(!0,M.OF.getStems,Z,el,ec),en.makeStems(Z,ea),$(),"/create"!==ec&&ed.push("/create"),eh({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0})},children:"Get Stems"}):null,eE&&(null==Z?void 0:Z.status)==="complete"&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>{E.g.logAudioActionEvent(!0,M.OF.goToSongRadio,Z,el,ec),ed.push("/radio/song/".concat(Z.id))},children:"Go to Song Radio"}),(null===(j=el.user)||void 0===j?void 0:j.id)===Z.user_id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.R,{}),(0,l.jsxs)(c.k,{title:"Visibility".concat((0,I.R)(Z)?" - Audio uploads with vocals (and related songs) cannot be made public at this time":""),children:[!(0,I.R)(Z)&&(0,l.jsx)(s.s,{icon:(0,l.jsx)(S.gjK,{}),fontFamily:"Neue Montreal",background:Z.is_public?"none":"#FAF7F5",color:(null==Z?void 0:Z.is_public)?"#FAF7F5":"#000000",rounded:"md",fontSize:"sm",onClick:()=>{en.setClipVisibility(Z.id,!1),$()},children:"Link Only"}),Z.is_trashed||(0,I.R)(Z)?null:(0,l.jsx)(s.s,{background:Z.is_public?"#FAF7F5":"none",color:(null==Z?void 0:Z.is_public)?"#000000":"#FAF7F5",rounded:"md",fontSize:"sm",fontFamily:"Neue Montreal",icon:Z.is_public?(0,l.jsx)(T.default,{src:"/icons/public-dark.svg",width:14,height:14,alt:"Public Option"}):(0,l.jsx)(T.default,{src:"/icons/public-active.svg",width:14,height:14,alt:"Public Option"}),onClick:()=>{en.setClipVisibility(Z.id,!0),$()},children:"Public"})]})]}):null,(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.R,{})," ",(0,l.jsxs)(c.k,{title:"Share",children:[(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,pb:2,mt:2,onClick:()=>{(0,R.eC)(en.apiClient,Z),E.g.logAudioActionEvent(!0,M.OF.shareSongWithLink,Z,el,ec),E.g.track(M.Vy.copyLinkBtnClick,{clipId:null==Z?void 0:Z.id,isUserSongOwner:(null==el?void 0:el.userId)!==void 0&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId),isMobile:!0})},icon:(0,l.jsx)(S.ZH2,{}),children:"Copy Link"}),(0,l.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==Z.status,onClick:()=>{E.g.track(M.Vy.shareToBtnClick,{clipId:null==Z?void 0:Z.id,isUserSongOwner:(null==el?void 0:el.userId)!==void 0&&(null==Z?void 0:Z.user_id)===(null==el?void 0:el.userId),isMobile:!0}),eS()},icon:(0,l.jsx)(S.I$,{}),children:["complete"!==Z.status?(0,l.jsx)(r.$,{mr:2,size:"sm"}):null,"Share to..."]})]})]}),(el.isStaff||(null===(w=el.user)||void 0===w?void 0:w.id)===Z.user_id)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.R,{})," ",(0,l.jsxs)(c.k,{title:"Download",children:[(0,l.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==Z.status,onClick:()=>{E.g.logAudioActionEvent(!0,M.OF.downloadMP3,Z,el,ec),(0,R.Rc)(ek,Z),$()},icon:(0,l.jsx)(S.F1m,{}),children:["complete"!==Z.status?(0,l.jsx)(r.$,{mr:2,size:"sm"}):null,(0,O.d)(el,Z)?"MP3 Audio":"Audio"]}),(0,O.d)(el,Z)&&(0,l.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,isDisabled:"complete"!==Z.status,onClick:()=>{E.g.logAudioActionEvent(!0,M.OF.downloadWAV,Z,el,ec),(0,R.HO)(ek,Z),eh({title:"Generating WAV download...",status:"success",duration:1e4,isClosable:!0}),en.pendingWavDownloadClip=Z,en.pendingWavDownloadAtTime=Date.now(),$()},icon:(0,l.jsx)(S.F1m,{}),children:["complete"!==Z.status?(0,l.jsx)(r.$,{mr:2,size:"sm"}):null,"WAV Audio"]}),(0,l.jsxs)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,pb:2,mt:2,isDisabled:!Z.video_url,onClick:()=>{E.g.logAudioActionEvent(!0,M.OF.downloadVideo,Z,el,ec),(0,R.zz)(ek,Z),$()},icon:(0,l.jsx)(S.KoQ,{}),children:[Z.video_url?null:(0,l.jsx)(r.$,{mr:2,size:"sm"}),"Video"]})]})]}),(0,l.jsx)(d.R,{}),(0,l.jsxs)(c.k,{title:"Report",children:[(null===(k=el.user)||void 0===k?void 0:k.id)===Z.user_id&&(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mt:2,onClick:()=>ew(),icon:(0,l.jsx)(S.iq7,{}),children:"Bug"}),(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",pl:4,pr:4,mb:2,onClick:async()=>{M.OF.goToSongRadio,E.g.logAudioActionEvent(!0,M.OF.reportInappropriate,Z,el,ec);try{await en.flagClip(Z.id,"flag_inappropriate")}catch(e){eh({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0})}},icon:(0,l.jsx)(S.NV4,{}),children:"Inappropriate"})]}),(0,l.jsx)(U.Z,{isOpen:eb,onClose:ej,clipId:Z.id,clipTitle:(null==Z?void 0:Z.title)||"Untitled"}),!B&&(null===(C=el.user)||void 0===C?void 0:C.id)===Z.user_id&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.R,{}),(0,l.jsx)(c.k,{title:"",children:(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:ef,icon:Z.is_trashed?(0,l.jsx)(S.wXW,{}):(0,l.jsx)(S.Xm5,{}),ml:1,children:Z.is_trashed?"Restore to Library":"Move to Trash"})})]}),!B&&(null===(F=el.user)||void 0===F?void 0:F.id)===Z.user_id&&Z.is_trashed&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.R,{}),(0,l.jsx)(c.k,{title:"Danger Zone",children:(0,l.jsx)(s.s,{fontSize:"sm",fontFamily:"Neue Montreal",rounded:"md",onClick:()=>J(Z),icon:(0,l.jsx)(S.Z1A,{}),children:"Delete Permanently"})})]}),(0,l.jsx)(V.Z,{isOpen:eC,onClose:eN,song:Z,type:"song"}),(null===(z=el.flags)||void 0===z?void 0:z.personas)&&ep&&(0,l.jsx)(X.Z,{isOpen:ep,onClose:e_,initialClip:Z})]})}),ee=(0,F.Pi)(e=>{var t,n,a,s;let{clip:r,onAddToPlaylist:d,onRemoveFromPlaylist:c,showStats:N=!1,size:I="sm",trendingMode:L=!1,isSongPage:F=!1,onUpdateMetadata:U}=e,{playbar:V,clips:G,trash:K,session:Y}=(0,_.mZ)(),[H,X]=(0,D.useState)(null),[J,Q]=(0,D.useState)(!1),ee=(0,A.usePathname)(),{isOpen:et,onOpen:en,onClose:el}=(0,o.q)(),{isOpen:ei,onOpen:ea,onClose:eo}=(0,o.q)(),es=async()=>{let e=(Array.isArray(H)?H:[H]).filter(e=>null!==e);e.length>0?(Q(!0),await G.deleteClips(e.map(e=>e.id)),e.forEach(e=>{K.removeFromTrash(e.id)}),Q(!1),el()):console.error("selectedClips is empty or contains only null values",H),(0,_.Am)({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,l.jsx)(W.Z,{clips:[r]})})},{isOpen:er,onOpen:ed,onClose:ec}=(0,o.q)(),[eu,ep]=(0,D.useState)(0!==(0,i.Jr)(r).length);return(0,l.jsxs)(u.K,{spacing:0,direction:"row",alignItems:"center",children:[(0,l.jsxs)(u.K,{direction:"row",spacing:0,alignItems:"center",children:[L?(0,l.jsx)(p.z,{size:I,leftIcon:(0,l.jsx)(m.J,{as:S.gmG,boxSize:"12px"}),onClick:()=>V.playClip(r),variant:"ghost",color:"gray","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,l.jsx)(x.x,{color:"gray.200",fontSize:"lg"===I?"sm":"xs",width:"40px",children:r.play_count})}):null,(null==Y?void 0:null===(t=Y.flags)||void 0===t?void 0:t["clip-feedback"])&&r.user_id===Y.userId&&(0,l.jsx)(g.u,{label:eu?"Feedback given, thank you!":"Enter your feedback",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(h.h,{icon:(0,l.jsx)(z.Z,{src:eu?"/icons/feedback-yellow.svg":"/icons/feedback.svg",width:"8",height:"8",alt:"feedback-button"}),onClick:ed,variant:"ghost",justifyContent:"center","aria-label":"Feedback Button",p:2,ml:2,mr:1,mb:1,mt:1})}),N?(0,l.jsx)(p.z,{size:I,leftIcon:(0,l.jsx)(T.default,{src:(0,i.ip)(r)?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16}),onClick:()=>{G.likeClip(r.id,!(0,i.ip)(r)),E.g.track(M.Vy.likeSongBtnClick,{clipId:null==r?void 0:r.id,isUserSongOwner:(null==r?void 0:r.user_id)===(null==Y?void 0:Y.userId),isLike:(0,i.ip)(r),isMobile:!0})},colorScheme:(0,i.ip)(r)?"orange":void 0,variant:"ghost",color:(0,i.ip)(r)?void 0:"gray","aria-label":"Like",textAlign:"left",iconSpacing:3,children:(0,l.jsx)(x.x,{fontSize:"lg"===I?"sm":"xs",width:"20px",color:(0,i.ip)(r)?"orange":"gray.200",children:r.upvote_count})}):(0,l.jsx)(h.h,{size:I,icon:(0,l.jsx)(T.default,{src:(0,i.ip)(r)?"/icons/thumbs-up-active.svg":"/icons/thumbs-up.svg",alt:"Like",width:16,height:16}),onClick:()=>{let e=!(0,i.ip)(r);G.likeClip(r.id,e),E.g.logAudioActionEvent(!0,e?M.OF.likeSong:M.OF.undoLikeSong,r,Y,ee),E.g.track(M.Vy.likeSongBtnClick,{clipId:null==r?void 0:r.id,isUserSongOwner:(null==Y?void 0:Y.userId)!=void 0&&(null==r?void 0:r.user_id)===(null==Y?void 0:Y.userId),isLike:(0,i.ip)(r),isMobile:!0})},colorScheme:(0,i.ip)(r)?"orange":void 0,color:(0,i.ip)(r)?void 0:"gray",variant:"ghost","aria-label":"Like"}),L?null:(0,l.jsx)(h.h,{size:I,icon:(0,l.jsx)(T.default,{src:(0,i.de)(r)?"/icons/thumbs-down-active.svg":"/icons/thumbs-down.svg",alt:"Dislike",width:16,height:16}),onClick:()=>{let e=!(0,i.de)(r);G.dislikeClip(r.id,e),E.g.logAudioActionEvent(!0,e?M.OF.dislikeSong:M.OF.undoDislikeSong,r,Y,ee)},colorScheme:(0,i.de)(r)?"orange":void 0,variant:"ghost",color:(0,i.de)(r)?void 0:"gray","aria-label":"Dislike"})]}),"lg"===I?(0,l.jsx)(g.u,{label:"Copy Song Link",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(p.z,{size:I,onClick:()=>(0,R.eC)(G.apiClient,r),leftIcon:(0,l.jsx)(T.default,{src:"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost","aria-label":"Share",children:(0,l.jsx)("span",{children:"Share"})})}):(0,l.jsx)(g.u,{label:"Copy Song Link",size:"sm",background:P.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(h.h,{size:I,onClick:()=>(0,R.eC)(G.apiClient,r),icon:(0,l.jsx)(T.default,{src:"/icons/share.svg",alt:"Share",width:16,height:16}),variant:"ghost","aria-label":"Share"})}),(0,l.jsxs)(v.v,{children:[(0,l.jsx)(f.j,{size:I,"aria-label":"More Actions",as:h.h,icon:(0,l.jsx)(T.default,{src:"/icons/more-actions.svg",alt:"More Actions",width:4,height:15}),variant:"ghost",onClick:ea}),(0,l.jsxs)(b.u_,{isOpen:ei,onClose:eo,size:"full",isCentered:!0,children:[(0,l.jsx)(y.Z,{sx:{bgColor:"#0E0808"}}),(0,l.jsxs)(j.h,{maxH:"calc(100vh - 40px)",overflowY:"auto",sx:{bgColor:"#0E0808"},children:[(0,l.jsx)(w.x,{sx:{bgColor:"#0E0808",marginTop:"20px"},children:r.is_trashed?(0,l.jsx)(x.x,{fontSize:"xl",fontFamily:"Editorial New",children:(0,O.M8)(r)}):(0,l.jsx)(k.r,{href:"/song/".concat(r.id),style:{textDecoration:"underline"},children:(0,l.jsx)(x.x,{fontSize:"xl",fontFamily:"Editorial New",children:(0,O.M8)(r)})})}),(0,l.jsx)("div",{className:"absolute right-2 top-8",children:(0,l.jsx)(q.Z,{onClick:eo})}),(0,l.jsx)(C.f,{sx:{overflowY:"auto",padding:"20px",bgColor:"#0E0808"},children:(0,l.jsx)($,{clip:r,isSongPage:F,onAddToPlaylist:d,onRemoveFromPlaylist:c,onOpenDeleteModal:e=>{X(e),en()},onCloseMenuModal:eo,onUpdateMetadata:U})})]})]})]}),(0,l.jsx)(B.Z,{isOpen:et,onClose:el,onConfirm:es,clipTitle:H&&1===H.length?(null===(n=H[0])||void 0===n?void 0:n.title)||(null===(s=H[0])||void 0===s?void 0:null===(a=s.metadata)||void 0===a?void 0:a.tags)||"":"".concat((H||[]).length," Clips"),isLoading:J,headerText:H&&H.length>1?"Are you sure you want to delete these songs?":"Are you sure you want to delete this song?"}),(0,l.jsx)(Z.Z,{clip:r,isOpen:er,onClose:ec,onFeedbackSubmit:()=>{ep(!0),ec()},onFeedbackRemoved:()=>{ep(!1),ec()}})]})});t.Z=ee},59692:function(e,t,n){var l=n(57437),i=n(48026),a=n(84338),o=n(39799),s=n(5443),r=n(1633),d=n(64874),c=n(92115),u=n(69548),p=n(20610),m=n(51464),x=n(6353),g=n(16829),h=n(76684),v=n(99240),f=n(93073),b=n(70684),y=n(95430),j=n(66648),w=n(16463),k=n(2265),C=n(80201),S=n(71843),N=n(37701),_=n(14063),I=n(69523),P=n(92628),E=n(638),M=n(87008),O=n(2550),L=n(51798),F=n(82162),T=n(4681),A=n.n(T);let D=(0,y.Pi)(e=>{var t,n,y,T,D,R,z,Z,B,U,V,q,W,G,K,Y,H,X,J,Q,$;let{rowKey:ee,clip:et,isSongPage:en,onAddToPlaylist:el,onRemoveFromPlaylist:ei,onOpenFlagModal:ea,onOpenDeleteModal:eo,onUpdateMetadata:es,onMenuButtonClick:er,isFromSongRow:ed,songRowWidth:ec,iconColor:eu,isPlaybar:ep,isTriggered:em,hideCreationActions:ex=!1}=e,eg=(null==et?void 0:et.major_model_version)==="v2",eh=(null==et?void 0:et.major_model_version)==="v3"||(null==et?void 0:et.major_model_version)==="v3.5",ev=(null==et?void 0:et.major_model_version)==="v4",{genForm:ef,clips:eb,session:ey,trash:ej,library:ew,menus:ek,edit:eC}=(0,a.mZ)(),eS=(0,w.useRouter)(),eN=(0,w.usePathname)(),[e_,eI]=(0,k.useState)(!1),eP=ek.songDropdownTriggeredAt,eE=(null==et?void 0:et.status)==="complete",eM=(ey.roles.pro||ey.roles.staff)&&!et.is_video_pending,eO=(ey.roles.pro||ey.roles.staff)&&!(0,s.Q)(et),eL=(0,p.p)(),eF=eb.apiClient,[eT,eA]=(0,k.useState)(!1),[eD,eR]=(0,k.useState)(!1),ez=(0,k.useCallback)(()=>{eR(!1)},[]),eZ=async()=>{try{d.g.logAudioActionEvent(!1,c.OF.reportInappropriate,et,ey,eN),await eb.flagClip(null==et?void 0:et.id,"flag_inappropriate")}catch(e){eL({title:"Error flagging song.",description:"Something went wrong. Please try again later.",status:"error",duration:5e3,isClosable:!0})}},[eB,eU]=(0,k.useState)({}),eV=e=>{eU(t=>({...t,[e]:!0}))},eq=e=>{eU(t=>({...t,[e]:!1}))},eW={transition:"background-color 0.3s ease",borderRadius:"8px",padding:"8px",outline:"none","&:focus":{outline:"none"},"&:before":{content:"",position:"absolute",top:"0",left:"0",right:"0",bottom:"0",borderRadius:"inherit",zIndex:"-1"}},{selected:eG,selectedClipIds:eK}=(0,k.useContext)(o.bz),eY=(eK||[]).map(e=>eb.clipById[e]),eH=eY.every(e=>{var t;return(null==e?void 0:e.user_id)===(null===(t=ey.user)||void 0===t?void 0:t.id)}),eX=new Set(eY.map(e=>null==e?void 0:e.is_trashed)),eJ=1===eX.size?[...eX][0]:void 0,eQ=[...eG||[]].length>1&&[...eK||[]].includes(null==et?void 0:et.id),e$=async()=>{await eb.trashClips(eK||[],!!eJ),eJ?null==eK||eK.forEach(e=>{ej.addToTrash(e)}):null==eK||eK.forEach(e=>{ew.addToLibrary(e),eb.addToCreatePage(e)})},e0=async()=>{await eb.trashClips(eK||[],!eJ),eJ?null==eK||eK.forEach(e=>{ej.removeFromTrash(e)}):null==eK||eK.forEach(e=>{ew.removeFromLibrary(e),eb.removeFromCreatePage(e)}),eL({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,l.jsx)(E.Z,{clips:eY,isTrashed:!eJ,undoTrash:e$})})},{setRefToBlur:e1,setSelected:e2,setCurrentClip:e5}=(0,k.useContext)(o.bz),e4=(0,k.useRef)(),e3=(0,k.useRef)(),e6=(0,k.useRef)(),e8=(0,k.useRef)(),e7=(0,k.useRef)(),[e9]=(0,S.pE)({},e4,N.b),{buttonProps:te}=(0,C.U)(e9,e4),tt=(0,k.useRef)(),tn=e=>{ek.setSongDropdownTriggeredAt(null),eI(!e_),[...eK||[]].includes(null==et?void 0:et.id)&&e.stopPropagation(),![...eK||[]].includes(null==et?void 0:et.id)&&(e5&&e5(et),ee&&e2&&e2(new Set([ee]))),e1&&tt.current&&e1(tt.current),er&&er()},tl="/playlist/liked"===eN,{isOpen:ti,onOpen:ta,onClose:to}=(0,m.q)(),ts=()=>{d.g.track(c.Vy.shareToBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),ta()},{setExtendModeOn:tr}=(0,k.useContext)(i.Yj),{isSignedIn:td}=(0,f.aC)();return(0,k.useEffect)(()=>{em&&eI(!0)},[em]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(b.fC,{open:e_,children:[(0,l.jsx)(b.xz,{...te,ref:tt,onPointerDown:e=>{tn(e)},onKeyDown:e=>{"Enter"===e.key&&tn(e)},onMouseEnter:()=>{eA(!0)},onMouseLeave:()=>{eA(!1)},style:{background:eT?"rgba(255, 255, 255, 0.1)":"none",transition:"background-color 0.3s ease",borderRadius:"6px",outline:"none",width:"32px",height:"32px",padding:"4px",display:"flex",justifyContent:"center",alignItems:"center"},draggable:"false",children:(0,l.jsx)(M.St,{className:"h-[15px] w-1 fill-".concat(eu||(ep?"primary":"lightGray"))})}),(0,l.jsx)(b.Uv,{children:(0,l.jsxs)(b.VY,{onInteractOutside:()=>{eI(!1),e1&&e1(null)},onCloseAutoFocus:e=>{e1&&e1(null),e.preventDefault()},align:"start",style:{marginLeft:(null==eP?void 0:eP.x)?"".concat(null==eP?void 0:eP.x,"px"):void 0,background:"#252020",borderRadius:"8px",padding:"4px",zIndex:r.n5,fontSize:"14px",fontWeight:"500",cursor:"pointer",width:"250px",transition:"opacity 0.2s ease",transform:"scale(".concat(eT?1:.95,")"),borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},"aria-label":"Dropdown Content",children:[!eQ&&!(null==et?void 0:et.is_trashed)&&!ex&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(b.Tr,{children:[(0,l.jsxs)(b.fF,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:eB.create?r.up:"none"},onMouseEnter:()=>eV("create"),onMouseLeave:()=>eq("create"),"data-testid":"create-sub-trigger",children:["Create",(0,l.jsx)(x.J,{as:_.PS5,mt:1})]}),(0,l.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"auto",maxWidth:"250px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(eg||eh||ev||(null==et?void 0:null===(t=et.metadata)||void 0===t?void 0:t.type)==="upload")&&!(null==et?void 0:et.metadata.infill)&&((null==et?void 0:et.user_id)===ey.userId||!(0,s.R)(et))&&(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.continue?r.up:"none"},onMouseEnter:()=>eV("continue"),onMouseLeave:()=>eq("continue"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{var e,t;d.g.track(c.Vy.extendSongBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),eI(!1),ef.setContinueClip(et),ef.setTask("extend"),tr&&tr(!0),ef.shouldOpenMobileCreate=!0,""===ef.style&&ef.setStyle((null==et?void 0:null===(t=et.metadata)||void 0===t?void 0:t.tags)||""),ef.setNegativeTags((null==et?void 0:null===(e=et.metadata)||void 0===e?void 0:e.negative_tags)||""),ef.resetEnableExcludeStyle(),ef.setArtistClip(null),ef.resetPersona(),ef.resetCoverClip(),ef.shouldOpenMobileCreate=!0,"/create"!==eN&&eS.push("/create")},onKeyDown:e=>{if("Enter"===e.key){var t,n;d.g.track(c.Vy.extendSongBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),eI(!1),ef.setContinueClip(et),ef.setTask("extend"),tr&&tr(!0),ef.shouldOpenMobileCreate=!0,""===ef.style&&ef.setStyle((null==et?void 0:null===(n=et.metadata)||void 0===n?void 0:n.tags)||""),ef.setNegativeTags((null==et?void 0:null===(t=et.metadata)||void 0===t?void 0:t.negative_tags)||""),ef.resetEnableExcludeStyle(),ef.resetArtistClip(),ef.resetPersona(),ef.resetCoverClip(),"/create"!==eN&&eS.push("/create")}},"data-testid":"extend-menu-item",children:[eE?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),"Extend"]}),(eg||eh||ev)&&(null===(n=ey.user)||void 0===n?void 0:n.id)===(null==et?void 0:et.user_id)&&(null==et?void 0:null===(y=et.metadata)||void 0===y?void 0:y.history)&&eE?(0,l.jsx)(b.ck,{onPointerDown:()=>{eI(!1),eb.runConcat(null==et?void 0:et.id,null==et?void 0:et.metadata.infill)},style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["whole-song"]?r.up:"none"},onMouseEnter:()=>eV("whole-song"),onMouseLeave:()=>eq("whole-song"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),eb.runConcat(null==et?void 0:et.id,null==et?void 0:et.metadata.infill))},"data-testid":"get-whole-song-menu-item",children:(null==et?void 0:et.metadata.infill)?"Confirm Infill":"Get Whole Song"}):null,(0,l.jsx)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",background:eB.remix?r.up:"none",...eW},onMouseEnter:()=>eV("remix"),onMouseLeave:()=>eq("remix"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.reusePrompt,et,ey,eN),eI(!1),ef.reuseClip(et),ef.shouldOpenMobileCreate=!0,"/create"!==eN&&eS.push("/create")},onKeyDown:e=>{"Enter"===e.key&&(d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.reusePrompt,et,ey,eN),eI(!1),ef.reuseClip(et),ef.shouldOpenMobileCreate=!0,"/create"!==eN&&eS.push("/create"))},onClick:e=>{d.g.track(c.Vy.reusePromptBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),e.preventDefault(),e.stopPropagation(),eI(!1),ef.reuseClip(et),ef.shouldOpenMobileCreate=!0},children:"Reuse Prompt"}),(eg||eh||ev||["upload","edit_crop"].includes(null==et?void 0:null===(T=et.metadata)||void 0===T?void 0:T.type))&&((null==ey?void 0:ey.isStaff)||(null==ey?void 0:null===(D=ey.flags)||void 0===D?void 0:D.cover)&&((null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId)||r.QN.includes(et.id)))&&(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.cover?r.up:"none"},onMouseEnter:()=>eV("cover"),onMouseLeave:()=>eq("cover"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{if(!eE||!(0,O.bx)(ey)){(0,O.bx)(ey)||(window.open("/account","_blank"),d.g.logAudioActionEvent(!1,c.OF.clickDisabledCoverSong,et,ey,eN));return}d.g.track(c.Vy.coverSongBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.coverSong,et,ey,eN),eI(!1),ef.resetContinueClip(),ef.resetPersona(),ef.setArtistClip(null),ef.setCoverClip(et),ef.setTask("cover"),ef.shouldOpenMobileCreate=!0,"/create"!==eN&&eS.push("/create")},onKeyDown:e=>{if("Enter"===e.key){if(!eE||!(0,O.bx)(ey)){(0,O.bx)(ey)||(window.open("/account","_blank"),d.g.logAudioActionEvent(!1,c.OF.clickDisabledCoverSong,et,ey,eN));return}d.g.track(c.Vy.coverSongBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.coverSong,et,ey,eN),eI(!1),ef.resetContinueClip(),ef.resetPersona(),ef.setArtistClip(null),ef.setCoverClip(et),ef.setTask("cover"),ef.shouldOpenMobileCreate=!0,"/create"!==eN&&eS.push("/create")}},"data-testid":"cover-menu-item",ref:e6,children:eE&&(0,O.bx)(ey)?(0,l.jsxs)("div",{className:"inline-block flex items-center",children:[(0,l.jsx)("span",{className:"mr-1",children:"Cover Song"}),(0,l.jsx)(L.Z,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!"})]}):(0,l.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:e6},label:(0,O.bx)(ey)?"Song is generating":"Subscribe to create cover song",children:(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:[eE&&!(0,O.bx)(ey)?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),"Cover Song"," ",(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(_.MXt,{size:12})})]})})}),(eg||eh||ev||["upload","edit_crop"].includes(null==et?void 0:null===(R=et.metadata)||void 0===R?void 0:R.type))&&((null==ey?void 0:ey.isStaff)||(null==ey?void 0:null===(z=ey.flags)||void 0===z?void 0:z.personas)&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId))&&(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.persona?r.up:"none"},disabled:["upload"].includes(null==et?void 0:null===(Z=et.metadata)||void 0===Z?void 0:Z.type),onMouseEnter:()=>eV("persona"),onMouseLeave:()=>eq("persona"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{var e,t;!eE||!(0,O.JI)(ey)||["upload"].includes(null==et?void 0:null===(e=et.metadata)||void 0===e?void 0:e.type)||(d.g.segmentTrack(c.Vy.webPageEvent,{userId:null==ey?void 0:ey.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==et?void 0:et.id,pageUrl:eN}),A().track(c.Vy.webPageEvent,{userId:null==ey?void 0:ey.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==et?void 0:et.id,pageUrl:eN}),eI(!1),ef.resetContinueClip(),ef.resetCoverClip(),ef.setArtistClip(et.id),ef.setPersonaClipId(et.id),ef.setStyle((null==et?void 0:null===(t=et.metadata)||void 0===t?void 0:t.tags)||""),ef.setTask("artist_consistency"),eR(!0))},onKeyDown:e=>{if("Enter"===e.key){var t,n;!eE||!(0,O.JI)(ey)||["upload"].includes(null==et?void 0:null===(t=et.metadata)||void 0===t?void 0:t.type)||(d.g.segmentTrack(c.Vy.webPageEvent,{userId:null==ey?void 0:ey.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==et?void 0:et.id,pageUrl:eN}),A().track(c.Vy.webPageEvent,{userId:null==ey?void 0:ey.userId,element:"make_persona_from_dropdown",eventType:"click",entityId:null==et?void 0:et.id,pageUrl:eN}),eI(!1),ef.resetContinueClip(),ef.resetCoverClip(),ef.setArtistClip(et.id),ef.setPersonaClipId(et.id),ef.setStyle((null==et?void 0:null===(n=et.metadata)||void 0===n?void 0:n.tags)||""),ef.setTask("artist_consistency"),eR(!0))}},"data-testid":"persona-menu-item",ref:e8,children:eE&&(0,O.JI)(ey)&&!["upload"].includes(null==et?void 0:null===(B=et.metadata)||void 0===B?void 0:B.type)?(0,l.jsxs)("div",{className:"inline-block flex items-center",children:[(0,l.jsx)("span",{className:"mr-1",children:"Make Persona"}),(0,l.jsx)(L.Z,{label:"Beta",tooltip:"This is a new feature. Liking and Disliking your songs helps us make it better!",auraImage:"/auras/Aura-07.jpg"})]}):(0,l.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:e8},label:(0,O.JI)(ey)?["upload"].includes(null==et?void 0:null===(U=et.metadata)||void 0===U?void 0:U.type)?"You cannot make Personas from audio uploads at this time.":eE?"Create a persona":"Song is generating":"Subscribe to create a persona",children:(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:[eE&&!(0,O.JI)(ey)||["upload"].includes(null==et?void 0:null===(V=et.metadata)||void 0===V?void 0:V.type)?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),"Make Persona"," ",(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(_.MXt,{size:12})})]})})}),(null===(q=ey.flags)||void 0===q?void 0:q["editing-stems"])&&eE&&!(null==et?void 0:et.is_trashed)&&!eQ&&(null===(W=ey.user)||void 0===W?void 0:W.id)===(null==et?void 0:et.user_id)?(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["make-stems"]?r.up:"none",opacity:"1"},onPointerDown:()=>{if(!eO){(0,s.Q)(et)||(window.open("/account","_blank"),d.g.logAudioActionEvent(!1,c.OF.clickDisabledGetStems,et,ey,eN));return}eI(!1),d.g.logAudioActionEvent(!1,c.OF.getStems,et,ey,eN),eb.makeStems(et,ew),"/create"!==eN&&eS.push("/create"),eL({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0})},disabled:!eO,onMouseEnter:()=>eV("make-stems"),onMouseLeave:()=>eq("make-stems"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{if(!eO){(0,s.Q)(et)||(window.open("/account","_blank"),d.g.logAudioActionEvent(!1,c.OF.clickDisabledGetStems,et,ey,eN));return}"Enter"===e.key&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.getStems,et,ey,eN),eb.makeStems(et,ew),"/create"!==eN&&eS.push("/create"),eL({title:"Getting stems...",status:"success",duration:1e4,isClosable:!0}))},ref:e7,"data-testid":"make-stems-menu-item",children:eO?"Get Stems":(0,l.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:e7},label:(0,s.Q)(et)?"Stems cannot be stemmed":"Subscribe to get stems",children:(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:["Get Stems"," ",(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(_.MXt,{size:12})})]})})}):null,td&&eN!=="/radio/song/".concat(null==et?void 0:et.id)&&eE&&(0,l.jsx)(b.ck,{onPointerDown:()=>{d.g.logAudioActionEvent(!1,c.OF.goToSongRadio,et,ey,eN),eS.push("/radio/song/".concat(null==et?void 0:et.id))},style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["start-radio"]?r.up:"none"},onMouseEnter:()=>eV("start-radio"),onMouseLeave:()=>eq("start-radio"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.goToSongRadio,et,ey,eN),eb.runConcat(null==et?void 0:et.id,null==et?void 0:et.metadata.infill))},"data-testid":"get-start-radio-menu-item",children:"Song Radio"})]})]})}),(null==et?void 0:et.is_trashed)||(null===(G=ey.user)||void 0===G?void 0:G.id)!==(null==et?void 0:et.user_id)||eQ?null:(0,l.jsx)(l.Fragment,{children:(null==ey?void 0:null===(K=ey.flags)||void 0===K?void 0:K["edit-mode-ui"])?(0,l.jsxs)(b.Tr,{children:[(0,l.jsxs)(b.fF,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:eB.edit?r.up:"none"},onMouseEnter:()=>eV("edit"),onMouseLeave:()=>eq("edit"),"data-testid":"edit-sub-trigger",children:["Edit",(0,l.jsx)(x.J,{as:_.PS5,mt:1})]}),(0,l.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"auto",maxWidth:"250px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[es&&(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["update-metadata"]?r.up:"none"},onMouseEnter:()=>eV("update-metadata"),onMouseLeave:()=>eq("update-metadata"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{eI(!1),eC.setEditTool(null),eS.push("/edit/".concat(et.id))},onKeyDown:e=>{"Enter"===e.key&&(eI(!1),eC.setEditTool(null),eS.push("/edit/".concat(et.id)))},"data-testid":"update-metadata-menu-item",children:"Song Details"}),(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["crop-song"]?r.up:"none"},onMouseEnter:()=>eV("crop-song"),onMouseLeave:()=>eq("crop-song"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{eI(!1),eS.push("/edit/".concat(et.id,"?tool=crop")),requestAnimationFrame(()=>{eC.setEditTool("crop")})},onKeyDown:e=>{"Enter"===e.key&&(eI(!1),eS.push("/edit/".concat(et.id,"?tool=crop")),requestAnimationFrame(()=>{eC.setEditTool("crop")}))},"data-testid":"crop-song-menu-item",children:"Crop Song"})]})]}):es&&(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["update-metadata"]?r.up:"none"},onMouseEnter:()=>eV("update-metadata"),onMouseLeave:()=>eq("update-metadata"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onPointerDown:()=>{eI(!1),ew.setActiveClip(et),es&&es()},onKeyDown:e=>{"Enter"===e.key&&(eI(!1),ew.setActiveClip(et),es&&es())},"data-testid":"update-metadata-menu-item",children:"Edit Details"})}),el&&(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["add-to-playlist"]?r.up:"none"},onPointerDown:()=>{eI(!1),ew.setActiveClip(et),el()},onMouseEnter:()=>eV("add-to-playlist"),onMouseLeave:()=>eq("add-to-playlist"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),ew.setActiveClip(et),el())},"data-testid":"add-to-playlist-menu-item",children:"Add to Playlist"}),ei&&!tl&&(0,l.jsx)(b.ck,{onPointerDown:()=>{eI(!1),ei()},style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["remove-from-playlist"]?r.up:"none"},onMouseEnter:()=>eV("remove-from-playlist"),onMouseLeave:()=>eq("remove-from-playlist"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),ei())},"data-testid":"remove-from-playlist-menu-item",children:"Remove from Playlist"}),(null===(Y=ey.user)||void 0===Y?void 0:Y.id)!==(null==et?void 0:et.user_id)||eQ||ed&&(!ed||!(ec<1024))||(null==et?void 0:et.is_trashed)?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}})," ",(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif"},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:"Visibility"}),(0,l.jsxs)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",color:(null==et?void 0:et.is_public)?"#FAF7F5":"#000000",background:(null==et?void 0:et.is_public)?"none":"#FAF7F5",...eB["link-only"]&&(null==et?void 0:et.is_public)&&{background:r.up},...eW},onPointerDown:()=>{eI(!1),eb.setClipVisibility(null==et?void 0:et.id,!1)},onMouseEnter:()=>eV("link-only"),onMouseLeave:()=>eq("link-only"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),eb.setClipVisibility(null==et?void 0:et.id,!1))},"data-testid":"link-only-menu-item",children:[(0,l.jsx)(x.J,{as:_.gjK,mr:3}),"Link Only"]}),(null==et?void 0:et.is_trashed)?null:(0,l.jsx)(b.ck,{style:{fontFamily:"Neue Montreal, sans-serif",color:(null==et?void 0:et.is_public)?"#000000":"#FAF7F5",background:(null==et?void 0:et.is_public)?"#FAF7F5":"none",...eB.public&&!(null==et?void 0:et.is_public)&&{background:r.up},...eW},onPointerDown:()=>{eI(!1),eb.setClipVisibility(null==et?void 0:et.id,!0)},onMouseEnter:()=>eV("public"),onMouseLeave:()=>eq("public"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),eb.setClipVisibility(null==et?void 0:et.id,!0))},"data-testid":"public-menu-item",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("span",{className:"mr-3",children:[" ",(null==et?void 0:et.is_public)?(0,l.jsx)(j.default,{src:"/icons/public-dark.svg",width:14,height:14,alt:"Public Option"}):(0,l.jsx)(j.default,{src:"/icons/public-active.svg",width:14,height:14,alt:"Public Option"})]}),"Public"]})})]}),!eQ&&eE&&!(null==et?void 0:et.is_trashed)&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),(0,l.jsxs)(b.Tr,{children:[(0,l.jsxs)(b.fF,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:eB.sharing?r.up:"none"},onMouseEnter:()=>eV("sharing"),onMouseLeave:()=>eq("sharing"),"data-testid":"share-sub-trigger",children:["Share",(0,l.jsx)(x.J,{as:_.PS5,mt:1})]}),(0,l.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"130px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["copy-link"]?r.up:"none",opacity:"1"},onPointerDown:()=>{d.g.track(c.Vy.copyLinkBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.shareSongWithLink,et,ey,eN),(0,I.eC)(eb.apiClient,et)},onMouseEnter:()=>eV("copy-link"),onMouseLeave:()=>eq("copy-link"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(d.g.track(c.Vy.copyLinkBtnClick,{clipId:null==et?void 0:et.id,isUserSongOwner:(null==ey?void 0:ey.userId)!==void 0&&(null==et?void 0:et.user_id)===(null==ey?void 0:ey.userId),isMobile:!1}),d.g.logAudioActionEvent(!1,c.OF.shareSongWithLink,et,ey,eN),(0,I.eC)(eb.apiClient,et))},"data-testid":"copy-link-menu-item",children:[(0,l.jsx)(x.J,{as:_.ZH2,mr:2,pt:.5}),"Copy Link"]}),(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.social?r.up:"none",opacity:"1"},onPointerDown:()=>{ts()},onMouseEnter:()=>eV("social"),onMouseLeave:()=>eq("social"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&ts()},"data-testid":"share-social-menu-item",children:[eE?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),(0,l.jsx)(x.J,{as:_.I$,mr:2,pt:.5}),"Share to..."]})]})]})]}),(ey.isStaff||(null===(H=ey.user)||void 0===H?void 0:H.id)===(null==et?void 0:et.user_id))&&!eQ&&!(null==et?void 0:et.is_trashed)&&(0,l.jsxs)(b.Tr,{children:[(0,l.jsxs)(b.fF,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:eB.download?r.up:"none"},onMouseEnter:()=>eV("download"),onMouseLeave:()=>eq("download"),"data-testid":"download-sub-trigger",children:["Download",(0,l.jsx)(x.J,{as:_.PS5,mt:1})]}),(0,l.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",maxWidth:"250px",width:"auto",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.audio?r.up:"none",opacity:"1"},disabled:!eE,onPointerDown:()=>{eE&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadMP3,et,ey,eN),(0,I.Rc)(eF,et))},onMouseEnter:()=>eV("audio"),onMouseLeave:()=>eq("audio"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&eE&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadMP3,et,ey,eN),(0,I.Rc)(eF,et))},"data-testid":"download-audio-menu-item",children:[eE?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),(0,l.jsx)(x.J,{as:_.F1m,mr:2}),(0,u.d)(ey,et)?"MP3 Audio":"Audio"]}),(0,u.d)(ey,et)?(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["audio-wav"]?r.up:"none",opacity:"1"},disabled:!eE,onPointerDown:()=>{eE&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadWAV,et,ey,eN),(0,I.HO)(eF,et),eL({title:"Generating WAV download...",status:"success",duration:1e4,isClosable:!0}),eb.pendingWavDownloadClip=et,eb.pendingWavDownloadAtTime=Date.now())},onMouseEnter:()=>eV("audio-wav"),onMouseLeave:()=>eq("audio-wav"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&eE&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadWAV,et,ey,eN),(0,I.HO)(eF,et),eb.pendingWavDownloadClip=et)},"data-testid":"download-wav-menu-item",children:[eE?null:(0,l.jsx)(g.$,{mr:2,size:"sm"}),(0,l.jsx)(x.J,{as:_.F1m,mr:2}),"WAV Audio"]}):null,(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.video?r.up:"none",opacity:"1"},disabled:!(null==et?void 0:et.video_url)||(null==et?void 0:et.is_video_pending),onPointerDown:()=>{(null==et?void 0:et.video_url)&&(null==et||!et.is_video_pending)&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadVideo,et,ey,eN),(0,I.zz)(eF,et))},onMouseEnter:()=>eV("video"),onMouseLeave:()=>eq("video"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(null==et?void 0:et.video_url)&&(null==et||!et.is_video_pending)&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.downloadVideo,et,ey,eN),(0,I.zz)(eF,et))},"data-testid":"download-video-menu-item",children:[!(null==et?void 0:et.video_url)||(null==et?void 0:et.is_video_pending)?(0,l.jsx)(g.$,{mr:2,size:"sm"}):null,(0,l.jsx)(x.J,{as:_.KoQ,mr:2}),"Video"]}),(null===(X=ey.flags)||void 0===X?void 0:X["on-demand-video"])&&eE&&!(null==et?void 0:et.is_trashed)&&!eQ&&(null===(J=ey.user)||void 0===J?void 0:J.id)===(null==et?void 0:et.user_id)?(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["regen-video"]?r.up:"none",opacity:"1"},onPointerDown:()=>{eM&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.regenerateVideo,et,ey,eN),eb.regenerateVideo(et,ew),eL({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},disabled:!eM,onMouseEnter:()=>eV("regen-video"),onMouseLeave:()=>eq("regen-video"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{eM&&"Enter"===e.key&&(eI(!1),d.g.logAudioActionEvent(!1,c.OF.regenerateVideo,et,ey,eN),eb.regenerateVideo(et,ew),eL({title:"Generating video...",status:"success",duration:4e3,isClosable:!0}))},ref:e3,"data-testid":"regenerate-video-menu-item",children:eM?"Regenerate Video":(0,l.jsx)(h.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",portalProps:{containerRef:e3},label:et.is_video_pending?"Video is generating":"Subscribe to regenerate video",children:(0,l.jsxs)("div",{className:"text-lightGray flex flex-row items-center",children:["Regenerate Video"," ",(0,l.jsx)("span",{className:"ml-1",children:(0,l.jsx)(_.MXt,{size:12})})]})})}):null]})]}),!eQ&&!(null==et?void 0:et.is_trashed)&&(0,l.jsxs)(b.Tr,{children:[(0,l.jsxs)(b.fF,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",display:"flex",justifyContent:"space-between",background:eB.report?r.up:"none"},onMouseEnter:()=>eV("report"),onMouseLeave:()=>eq("report"),"data-testid":"report-sub-trigger",children:["Report",(0,l.jsx)(x.J,{as:_.PS5,mt:1})]}),(0,l.jsxs)(b.tu,{style:{background:"#252020",borderRadius:"10px",padding:"4px",zIndex:r.n5,marginLeft:"4px",width:"170px",opacity:"1",borderImage:"180deg linear-gradient(#383737, #A19F9D)",borderWidth:"1px",borderStyle:"solid"},children:[(null===(Q=ey.user)||void 0===Q?void 0:Q.id)===(null==et?void 0:et.user_id)&&(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.bug?r.up:"none",opacity:"1"},onPointerDown:()=>{ea()},onMouseEnter:()=>eV("bug"),onMouseLeave:()=>eq("bug"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),ea())},"data-testid":"report-bug-menu-item",children:[(0,l.jsx)(x.J,{as:_.iq7,mr:2}),"Bug"]}),(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB.inappropriate?r.up:"none",opacity:"1"},onPointerDown:async()=>{eI(!1),await eZ()},onMouseEnter:()=>eV("inappropriate"),onMouseLeave:()=>eq("inappropriate"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onKeyDown:async e=>{"Enter"===e.key&&(eI(!1),await eZ())},"data-testid":"report-inappropriate-menu-item",children:eB.inappropriate?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.J,{as:_.x_j,mr:2}),"Inappropriate"]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.J,{as:_.NV4,mr:2}),"Inappropriate"]})})]})]}),!en&&eH&&void 0!==eJ&&(0,l.jsxs)(l.Fragment,{children:[!(null==et?void 0:et.is_trashed)&&(0,l.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),(0,l.jsx)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eJ?eB.trash?r.up:"none":(null==et?void 0:et.is_trashed)?"#fc8180":eB.trash?r.up:"none"},onPointerDown:()=>{eI(!1),e0()},onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),onMouseEnter:()=>eV("trash"),onMouseLeave:()=>eq("trash"),onKeyDown:e=>{"Enter"===e.key&&(eI(!1),e0())},children:eJ?(0,l.jsxs)(v.k,{alignItems:"center",children:[(0,l.jsx)(x.J,{as:_.wXW,mr:2}),(0,l.jsx)("span",{children:"Restore to Library"})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(v.k,{alignItems:"center",children:[(0,l.jsx)(x.J,{as:_.Xm5,mr:2}),(0,l.jsx)("span",{children:"Move to Trash"})]})})})]}),!en&&eH&&eJ&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{borderBottom:"1px solid rgba(255, 255, 255, 0.2)",margin:"8px 0 8px 0"}}),(0,l.jsxs)(b.ck,{style:{...eW,fontFamily:"Neue Montreal, sans-serif",background:eB["delete-perm"]?r.up:"none"},onPointerDown:()=>{eI(!1),eo(eY)},onMouseEnter:()=>eV("delete-perm"),onMouseLeave:()=>eq("delete-perm"),onPointerLeave:e=>e.preventDefault(),onPointerMove:e=>e.preventDefault(),children:[(0,l.jsx)(x.J,{as:_.Z1A,mr:2}),"Delete Permanently"]})]})]})})]}),(0,l.jsx)(P.Z,{isOpen:ti,onClose:to,song:et,type:"song"}),(null===($=ey.flags)||void 0===$?void 0:$.personas)&&eD&&(0,l.jsx)(F.Z,{isOpen:eD,onClose:ez,initialClip:et})]})});t.Z=D},6051:function(e,t,n){n.d(t,{Iv:function(){return g},LU:function(){return b},MV:function(){return m},Se:function(){return y},TO:function(){return C},UL:function(){return f},u6:function(){return x},vS:function(){return i},yL:function(){return j},zD:function(){return S}});var l,i,a=n(57437),o=n(3427),s=n(40191),r=n(99240),d=n(87138),c=n(24972),u=n(33565),p=n(1633);c.Z.addDefaultLocale(u.Z);let m=new c.Z("en-US"),x="songPage",g="songPreview",h="songRow",v=/[,，،；、᠂،ฯ་،،.。।]/,f=(e,t)=>[...e?e.split(v).map(e=>e.trim()).filter(Boolean):[],...t?t.split(v).map(e=>e.trim()).filter(Boolean).map(e=>"".concat("‑").concat(e)):[]].join(", ");function b(e,t){if(!e)return t?"-:--":"--:--";let n=Math.floor(e/3600),l=Math.floor(e/60)%60,i=Math.floor(e)%60;return n>0?"".concat(n,":").concat(l.toString(10).padStart(2,"0"),":").concat(i.toString(10).padStart(2,"0")):"".concat(l.toString(10),":").concat(i.toString(10).padStart(2,"0"))}function y(e,t){var n,l,i;return null!=t&&null!==(n=t.flags)&&void 0!==n&&!!n["image-to-song"]&&null!=t&&null!==(l=t.flags)&&void 0!==l&&!!l["video-to-song"]&&!!(null==e?void 0:null===(i=e.metadata)||void 0===i?void 0:i.is_suno_short)}function j(e,t){var n;if(y(e,t))return(null==e?void 0:null===(n=e.metadata)||void 0===n?void 0:n.is_image_to_song)?"image":"video"}(l=i||(i={})).IMAGE="image",l.VIDEO="video";let w=e=>{if(!e)return"";let t=e.trim();return t.startsWith("‑")?t.slice(1):t},k=e=>"/style/".concat(encodeURIComponent(w(e))),C=e=>{let{styleStr:t,tagStyle:n=h,fontSizeClass:l="text-sm",fontColorClass:i="text-primary",extraClasses:o="",asLinks:s=!0}=e;if(!t)return(0,a.jsx)("div",{className:"".concat(i," ").concat(o," mr-1 text-sm lg:").concat(l," xl:").concat(l," ").concat(n===g?"px-[4px]":""),children:"(no style)"});let r=t.split(v);return(0,a.jsx)("div",{className:"".concat(o," font-sans break-all ").concat(l," ").concat(i," mr-1"),children:r.map((e,t)=>s?(0,a.jsxs)(d.default,{href:k(e),title:w(e),className:"hover:underline",children:[e,t===r.length-1?null:","]},t):(0,a.jsxs)(a.Fragment,{children:[e,t===r.length-1?null:","]}))})},S=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=arguments.length>3?arguments[3]:void 0;if(!e)return(0,a.jsx)(s.x,{color:"rgba(255, 255, 255, 0.5)",marginRight:"2px",px:t===g?4:void 0,fontSize:["xs","sm"],children:"(no style)"});let i=t===x?{style:{fontFamily:"Satoshi",fontSize:"16px",fontStyle:"normal",fontWeight:"500",color:p.SN},mt:5,w:n?void 0:"400px"}:t===g?{style:{fontWeight:"500",whiteSpace:"pre-wrap"},px:4,fontSize:l||"sm"}:{fontSize:["xs","sm"],flexWrap:"wrap",style:{width:"100%",color:"rgba(255, 255, 255, 0.5)"},noOfLines:2},d=e.split(v);return(0,a.jsx)(r.k,{direction:"row",gap:0,flexWrap:"wrap",maxWidth:"100%",children:(0,a.jsx)(s.x,{onClick:e=>{e.preventDefault(),e.stopPropagation()},...i,children:d.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.r,{href:k(e),flexDirection:"row",title:w(e),children:e},t),t===d.length-1?"":", "]}))})})}},50474:function(e,t,n){var l=n(57437),i=n(95430),a=n(87138),o=n(40129),s=n(1633);let r=(0,i.Pi)(e=>{let{displayName:t,handle:n,imageUrl:i,showAvatar:r=!0,fontSize:d,hidden:c=!1}=e;return!n||c?null:(0,l.jsx)(a.default,{href:"/@".concat(n),className:"w-fit",children:(0,l.jsxs)("div",{className:"text-sm flex flex-row items-center font-sans font-medium text-primary",children:[r?(0,l.jsx)(o.Z,{className:"rounded-full h-8 w-8 mr-2",src:i||null,imageSize:s.YY,alt:"Profile avatar"}):null,(0,l.jsx)("span",{title:t||"@".concat(n),className:"line-clamp-1 hover:underline max-w-full break-all",style:{fontSize:d},children:t||"@".concat(n)})]})})});t.Z=r},99295:function(e,t,n){var l=n(57437),i=n(2265),a=n(95430),o=n(17015),s=n(84338),r=n(74340),d=n(16829),c=n(69548),u=n(23627),p=n(1633),m=n(26234),x=n(87008),g=n(64874),h=n(92115);let v=(0,a.Pi)(e=>{var t,n,a,v,f,b,y,j;let{clip:w,height:k,initialStartValue:C,selectionType:S,maxSelectionRangeSecs:N,quantizeSelectionSecs:_=.2,isDraggingPlaybar:I=!1,actionMode:P,setWaveformStartInput:E,setWaveformEndInput:M,startPosition:O,endPosition:L,setStartPosition:F,setEndPosition:T,showTimestamps:A=!0,actionButtonText:D,onActionButtonClick:R,pinEndPosition:z=!1,initialStartPosition:Z}=e,{playbar:B,edit:U,session:V,genForm:q}=(0,s.mZ)(),W=(0,i.useRef)(null),G=(0,i.useRef)(null),K=(0,i.useRef)(null),[Y,H]=(0,i.useState)(!1),[X,J]=(0,i.useState)([]),[Q,$]=(0,i.useState)(!1),[ee,et]=(0,i.useState)(!1),[en,el]=(0,i.useState)(null),[ei,ea]=(0,i.useState)(!1),eo=(0,i.useRef)(null),es=null===(t=V.flags)||void 0===t?void 0:t["edit-mode-ui"],[er,ed]=(0,i.useState)(null),[ec,eu]=(0,i.useState)(void 0),ep=k||200,em=w.metadata.duration?15*w.metadata.duration:2e3,ex=e=>{let t=(0,c.q$)(e.start,_),n=(0,c.q$)(e.end,_);U.setSelectionRange(t,n),E((0,c.L7)(t,1)||""),M((0,c.L7)(n,1)||""),null!==eo.current&&clearTimeout(eo.current),eo.current=setTimeout(()=>{g.g.logAudioCreationEvent(!1,h.OF.makeWaveformSelection,q,V,{startSeconds:t,endSeconds:n,editTool:U.activeEditTool,editSessionId:U.editSessionId,editingClipId:U.editingClipId},!0)},1e3)},eg=()=>{$(!1),F(null),T(null)};(0,u.y1)("left",()=>{if(U.isSelectionRangeActive()&&(null==w?void 0:w.metadata.duration)&&G.current){var e,t,n,l,i,a;if("l"===en){let l=Math.max(0,(O||0)-_/(null==w?void 0:w.metadata.duration)*(null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect().width));F(l),(!N||((null===(t=U.selectionRange)||void 0===t?void 0:t.end)||0)-l/G.current.getBoundingClientRect().width*w.metadata.duration<=(N||0))&&ex({start:l/G.current.getBoundingClientRect().width*w.metadata.duration,end:null===(n=U.selectionRange)||void 0===n?void 0:n.end})}else if("r"===en){let e=Math.max((O||0)+20,(L||0)-_/(null==w?void 0:w.metadata.duration)*(null===(l=G.current)||void 0===l?void 0:l.getBoundingClientRect().width));T(e),(!N||e/G.current.getBoundingClientRect().width*w.metadata.duration-((null===(i=U.selectionRange)||void 0===i?void 0:i.start)||0)<=(N||0))&&ex({end:e/G.current.getBoundingClientRect().width*w.metadata.duration,start:null===(a=U.selectionRange)||void 0===a?void 0:a.start})}}}),(0,u.y1)("right",()=>{if(U.isSelectionRangeActive()&&(null==w?void 0:w.metadata.duration)&&G.current){var e,t,n,l,i,a,o;if("l"===en){let l=Math.min((L||0)-20,(O||0)+_/(null==w?void 0:w.metadata.duration)*(null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect().width));F(l),(!N||((null===(t=U.selectionRange)||void 0===t?void 0:t.end)||0)-l/G.current.getBoundingClientRect().width*w.metadata.duration<=(N||0))&&ex({start:l/G.current.getBoundingClientRect().width*w.metadata.duration,end:null===(n=U.selectionRange)||void 0===n?void 0:n.end})}else if("r"===en){let e=Math.min(null===(l=G.current)||void 0===l?void 0:l.getBoundingClientRect().width,(L||0)+_/(null==w?void 0:w.metadata.duration)*(null===(i=G.current)||void 0===i?void 0:i.getBoundingClientRect().width));T(e),(!N||e/G.current.getBoundingClientRect().width*w.metadata.duration-((null===(a=U.selectionRange)||void 0===a?void 0:a.start)||0)<=(N||0))&&ex({end:e/G.current.getBoundingClientRect().width*w.metadata.duration,start:null===(o=U.selectionRange)||void 0===o?void 0:o.start})}}}),(0,u.y1)("shift",()=>{ea(!0)},{keydown:!0,keyup:!1}),(0,u.y1)("shift",()=>{ea(!1)},{keydown:!1,keyup:!0}),(0,i.useEffect)(()=>{var e;let t=null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect().width;null!==w.metadata.duration&&void 0!==w.metadata.duration&&void 0!==C&&void 0!==t&&F(C/w.metadata.duration*t)},[C,w.metadata.duration]),(0,i.useEffect)(()=>{(async()=>{H(!1),eg();let e=B.audioData[w.id];(!e||Y)&&(e=await B.decodeAudio(w));let t=e.getChannelData(0),n=e.numberOfChannels>1?e.getChannelData(1):new Float32Array([...t]),l=Array.from(Array(Math.floor(t.length/em)).keys()).map(e=>{let l=t.slice(e*em,(e+1)*em),i=n.slice(e*em,(e+1)*em);return Math.sqrt((l.map(e=>e**2).reduce((e,t)=>e+t,0)+i.map(e=>e**2).reduce((e,t)=>e+t,0))/(2*em))}),i=1/Math.max(...l);J(l.map(e=>e*i))})()},[w]),(0,i.useEffect)(()=>{Z&&w.metadata.duration&&F(Z/w.metadata.duration*G.current.getBoundingClientRect().width),z&&T(G.current.getBoundingClientRect().width)},[z,Z,w.metadata.duration]);let eh=()=>{let e=o.BYU().domain([0,X.length]).range([0,K.current.getBoundingClientRect().width]),t=o.BYU().domain([0,Math.max(...X)]).range([(k||0)/2,k||0]),n=o.BYU().domain([0,Math.max(...X)]).range([(k||0)/2,k||0]),l=o.SOn().x(t=>e(t.x)).y0(e=>t(e.y)).y1(e=>n(-1*e.y)).curve(o.zgE),i=o.jvg().x(t=>e(t.x)).y(e=>t(e.y)).curve(o.zgE),a=o.jvg().x(t=>e(t.x)).y(e=>n(-1*e.y)).curve(o.zgE);o.Ys("#demo").selectAll("path").remove();let s=o.Ys("#demo").append("defs").append("linearGradient").attr("id","linear-gradient");s.attr("x1","0%").attr("y1","0%").attr("x2","0%").attr("y2","100%"),s.append("stop").attr("offset","0%").attr("stop-color","rgba(250, 247, 245, 0.1)"),s.append("stop").attr("offset","40%").attr("stop-color","rgba(250, 247, 245, 0.3)"),s.append("stop").attr("offset","50%").attr("stop-color","rgba(250, 247, 245, 0.32)"),s.append("stop").attr("offset","60%").attr("stop-color","rgba(250, 247, 245, 0.3)"),s.append("stop").attr("offset","100%").attr("stop-color","rgba(250, 247, 245, 0.1)"),o.Ys("#demo").append("path").attr("d",l(X.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","#FAF7F5").attr("stroke","none"),o.Ys("#demo").append("path").attr("d",i(X.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","none").attr("stroke","rgb(250, 247, 245, 0.6)").attr("stroke-width","1"),o.Ys("#demo").append("path").attr("d",a(X.map((e,t)=>({x:t,y:e})))).attr("pointer-events","none").attr("fill","none").attr("stroke","rgb(250, 247, 245, 0.6)").attr("stroke-width","1")};(0,i.useEffect)(()=>{eh()},[X]),(0,i.useEffect)(()=>{Q||U.isScrubbing||ee?document.body.classList.add("no-drag"):document.body.classList.remove("no-drag")},[Q,ee,U.isScrubbing]),(0,i.useEffect)(()=>{let e=new ResizeObserver(()=>{var e,t,n,l,i,a;if(Q)return;let o=null===(e=G.current)||void 0===e?void 0:e.getBoundingClientRect().width;o&&(null===(t=w.metadata)||void 0===t?void 0:t.duration)&&(null!==O&&(null===(n=U.selectionRange)||void 0===n?void 0:n.start)&&F((null===(i=U.selectionRange)||void 0===i?void 0:i.start)/w.metadata.duration*o),null!==L&&(null===(l=U.selectionRange)||void 0===l?void 0:l.end)&&T((null===(a=U.selectionRange)||void 0===a?void 0:a.end)/w.metadata.duration*o)),eh()});return e.observe(G.current),()=>{G.current&&e.unobserve(G.current),e.disconnect()}},[X,O,L,null===(n=w.metadata)||void 0===n?void 0:n.duration,Q]),(0,i.useEffect)(()=>{eu(0*ep)},[O,null===(a=W.current)||void 0===a?void 0:a.offsetLeft]),(0,i.useEffect)(()=>{if(null===U.selectionRange)F(null),T(null),E("00:00.0"),M("00:00.0");else{if(!G.current||!w.metadata.duration)return;let e=G.current.getBoundingClientRect().width;F(U.selectionRange.start/w.metadata.duration*e),T(U.selectionRange.end/w.metadata.duration*e),E((0,c.L7)(U.selectionRange.start,1)||""),M((0,c.L7)(U.selectionRange.end,1)||"")}},[U.selectionRange,P]);let ev=e=>{var t,n,l,i;let a=e.clientX,o=null===(t=G.current)||void 0===t?void 0:t.getBoundingClientRect(),s=a-(U.selectionBoxDragStart||0),r=((null===(n=U.selectionBoxPositionStart)||void 0===n?void 0:n.startPosition)||0)+s,d=((null===(l=U.selectionBoxPositionStart)||void 0===l?void 0:l.endPosition)||0)+s,c=r<0?-1*r:d>o.width?o.width-d:0;F(r+c),T(d+c);let u=(null===(i=w.metadata)||void 0===i?void 0:i.duration)||0,p={};p.start=(r+c)/o.width*u,p.end=(d+c)/o.width*u,ex(p)};return(0,l.jsx)("div",{className:"py-4 h-auto w-auto",id:"outerouter",onMouseMove:e=>{if(ee){ev(e);return}if(Q||U.isScrubbing){var t,n,l,i,a,o,s,r,d;let u={},p=e.target.getBoundingClientRect(),m=w.metadata.duration||0,x=e.clientX-p.x,g=(0,c.q$)(x/p.width*(m||0),_)/(m||1)*p.width;if(U.isScrubbing){U.setScrubPosition(x);return}if(en){let e=O||0,t=L||0;if("l"===en?e=Math.max(0,Math.min(g,t)):t=Math.max(g,e),N){let n=N/m*p.width;t-e>n&&("l"===en?e=t-n:t=e+n)}F(Math.max(e,0)),T(Math.min(t,p.width));let n=(0,c.q$)(m,_),l=n>m?n-_:n;u.start=Math.max(e/p.width*m,0),u.end=Math.min(t/p.width*m,l),ex(u);return}let h=Math.min(Math.max(g,er&&(null===(t=w.metadata)||void 0===t?void 0:t.duration)?er-(N||(null===(n=w.metadata)||void 0===n?void 0:n.duration))/(null===(l=w.metadata)||void 0===l?void 0:l.duration)*p.width:0),er||0),v=Math.max(Math.min(g,er&&(null===(i=w.metadata)||void 0===i?void 0:i.duration)?er+(N||(null===(a=w.metadata)||void 0===a?void 0:a.duration))/(null===(o=w.metadata)||void 0===o?void 0:o.duration)*p.width:0),er||0);"range"===S?(u.start=h/p.width*((null===(s=w.metadata)||void 0===s?void 0:s.duration)||0),u.end=z?w.metadata.duration:v/p.width*((null===(r=w.metadata)||void 0===r?void 0:r.duration)||0),F(h),T(z?p.width:v)):(u.start=x/p.width*((null===(d=w.metadata)||void 0===d?void 0:d.duration)||0),u.end=void 0,F(x),T(null)),ex(u)}},onMouseLeave:e=>{var t,n;if(ee){et(!1);return}if(!Q&&!U.isScrubbing)return;let l=null===(t=G.current)||void 0===t?void 0:t.getBoundingClientRect();if(l){let t=e.clientX;if(U.isScrubbing){B.userSetCurrentProgress((U.scrubPosition||0)/(null===(n=G.current)||void 0===n?void 0:n.getBoundingClientRect().width)*100),requestAnimationFrame(()=>{U.setIsScrubbing(!1)});return}if(U.selectionRange&&N&&U.selectionRange.end-U.selectionRange.start===N)return;t<l.left?requestAnimationFrame(()=>{var e;F(0),ex({start:0,end:null===(e=U.selectionRange)||void 0===e?void 0:e.end})}):t>l.right&&requestAnimationFrame(()=>{var e;T(l.width),ex({start:null===(e=U.selectionRange)||void 0===e?void 0:e.start,end:w.metadata.duration})}),et(!1),$(!1),U.setIsScrubbing(!1),el(null),null!==O&&null!==L&&10>Math.abs(L-O)&&U.clearSelectionRange()}},onMouseUp:()=>{if(ee){et(!1);return}if($(!1),null!==U.scrubPosition||null!==O&&(null===L||isNaN(L))||null!==O&&null!==L&&L-O<.1){U.isScrubbing||(U.clearSelectionRange(),U.setIsScrubbing(!0)),requestAnimationFrame(()=>{var e,t,n,l;w.id!==(null===(e=B.clip)||void 0===e?void 0:e.id)?B.playClip(w,null,null,!0,(U.scrubPosition||O||0)/(null===(t=G.current)||void 0===t?void 0:t.getBoundingClientRect().width)*((null===(n=w.metadata)||void 0===n?void 0:n.duration)||0)):B.userSetCurrentProgress((U.scrubPosition||O||0)/(null===(l=G.current)||void 0===l?void 0:l.getBoundingClientRect().width)*100),requestAnimationFrame(()=>{U.setIsScrubbing(!1)})});return}null!==O&&null!==L&&10>Math.abs(L-O)&&U.clearSelectionRange(),U.setIsScrubbing(!1)},onMouseOut:()=>{},children:(0,l.jsxs)(r.xu,{position:"relative",ref:G,children:[!X.length&&(0,l.jsx)("div",{className:"absolute top-0 flex flex-row w-full h-full items-center justify-center",children:(0,l.jsx)(d.$,{})}),(0,l.jsx)(r.xu,{backgroundColor:es?"rgba(199, 61, 102, 0.4)":"rgba(255,255,255,0.1)",position:"absolute",h:"".concat(1*ep,"px"),top:"".concat(ec,"px"),display:null!==O?"block":"none",left:O?"".concat(O,"px"):void 0,width:null!==L&&null!==O&&(null===(v=w.metadata)||void 0===v?void 0:v.duration)?"".concat(L-O,"px"):null!==O?"1px":0,cursor:ee?"grabbing":ei?"grab":"pointer",pointerEvents:null===O||null===L||Q||U.isScrubbing?"none":void 0,zIndex:p.Cy,onMouseDown:e=>{if(!z){if(e.shiftKey){et(!0),U.setSelectionBoxDragStart(e.clientX),U.setSelectionBoxPositionStart({startPosition:O||0,endPosition:L||0});return}U.setIsScrubbing(!0),requestAnimationFrame(()=>{var t;let n=null===(t=G.current)||void 0===t?void 0:t.getBoundingClientRect(),l=e.clientX-n.x;B.userSetCurrentProgress(l/n.width*100)})}},onMouseMove:e=>{ee&&ev(e)},onMouseUp:()=>{et(!1),U.setSelectionBoxDragStart(null),U.setSelectionBoxPositionStart(null)},children:null!==O&&null!==L&&Math.abs(L-O)>10?(0,l.jsxs)(l.Fragment,{children:[es?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{onMouseDown:e=>{$(!0),el("l"),e.stopPropagation()},className:"bg-transparent ".concat("l"===en?"brightness-150":""," hover:brightness-150 h-full left-0 absolute w-2 content-center items-center cursor-ew-resize active:cursor-ew-resize border-l-2 border-accentPink"),children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"bottom-0 absolute left-0 w-3 h-3",style:{marginBottom:"-10px",marginLeft:"-7px"},children:(0,l.jsx)("path",{d:"M0 480L256 32 512 480H0z",fill:"#C73D66"})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"rotate-180 top-0 absolute left-0 w-3 h-3",style:{marginTop:"-10px",marginLeft:"-7px"},children:(0,l.jsx)("path",{d:"M0 480L256 32 512 480H0z",fill:"#C73D66"})})]}),z?null:(0,l.jsxs)("div",{onMouseDown:e=>{$(!0),el("r"),e.stopPropagation()},className:"bg-transparent ".concat("r"===en?"brightness-150":""," hover:brightness-150 h-full right-0 absolute w-2 content-center items-center cursor-ew-resize active:cursor-ew-resize border-r-2 border-accentPink"),children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"bottom-0 absolute right-0 w-3 h-3",style:{marginBottom:"-10px",marginRight:"-7px"},children:(0,l.jsx)("path",{d:"M0 480L256 32 512 480H0z",fill:"#C73D66"})}),(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",className:"rotate-180 top-0 absolute right-0 w-3 h-3",style:{marginTop:"-10px",marginRight:"-7px"},children:(0,l.jsx)("path",{d:"M0 480L256 32 512 480H0z",fill:"#C73D66"})})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{onMouseDown:e=>{$(!0),el("l"),e.stopPropagation()},className:"".concat("l"===en?"bg-white":"bg-neutral-400"," hover:bg-white h-full left-0 absolute w-1 content-center items-center rounded-lg cursor-ew-resize")}),z?null:(0,l.jsx)("div",{onMouseDown:e=>{$(!0),el("r"),e.stopPropagation()},className:"".concat("r"===en?"bg-white":"bg-neutral-400"," hover:bg-white h-full right-0 absolute w-1 content-center items-center rounded-lg cursor-ew-resize")})]}),A?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{draggable:!1,className:"absolute text-[8px] select-none font-bold font-mono text-primary bg-vinylBlack-darker bg-opacity-70 backdrop-blur-md w-min-content rounded-sm h-auto px-1 bottom-0 left-0 transition-opacity duration-[525ms] pointer-events-none",children:(0,c.L7)(Math.max((null===(f=U.selectionRange)||void 0===f?void 0:f.start)||0,0),1)}),(0,l.jsx)("div",{draggable:!1,className:"absolute text-[8px] select-none font-bold font-mono text-primary bg-vinylBlack-darker bg-opacity-70 backdrop-blur-md w-min-content rounded-sm h-auto px-1 bottom-0 right-0 transition-opacity duration-[525ms] pointer-events-none",children:(0,c.L7)(null===(b=U.selectionRange)||void 0===b?void 0:b.end,1)})]}):null,D&&R&&U.checkActionButtonVisibility()?(0,l.jsx)("div",{className:"left-2 absolute w-[calc(100%-16px)] h-full flex flex-row ".concat(G.current.getBoundingClientRect().width-O<40?"justify-end":L<40?"justify-start":"justify-center"," items-center"),children:(0,l.jsx)("div",{className:"h-auto w-auto z-[1000]",onMouseDown:e=>e.stopPropagation(),children:(0,l.jsx)(m.Z,{text:"",leftIcon:(0,l.jsx)(x.nQ,{className:"h-4 w-4 stroke-primary fill-primary group-hover:stroke-vinylBlack-darker group-hover:fill-vinylBlack-darker"}),onClick:e=>{e.stopPropagation(),R()},outlineColor:"primary",rounded:!0})})}):null]}):null}),B.currentTime&&(null===(y=B.clip)||void 0===y?void 0:y.id)===w.id&&G.current?(0,l.jsx)("div",{className:"w-[0px] border border-metallicWhite-darkest brightness-75 h-full absolute pointer-events-none ".concat(U.isScrubbing||I?"":"transition transition-[left] ease-linear duration-[525ms]"),style:{left:"".concat(U.isScrubbing&&null!==U.scrubPosition?U.scrubPosition:B.currentTime/B.duration*G.current.getBoundingClientRect().width,"px")}}):null,(0,l.jsx)("div",{className:"cursor-pointer",onMouseDown:e=>{var t,n,l;let i=e.target.getBoundingClientRect(),a=e.clientX-i.x;if(!S||null!==O&&null!==L&&!isNaN(O)&&!isNaN(L)){U.setIsScrubbing(!0),requestAnimationFrame(()=>{var e,t;w.id!==(null===(e=B.clip)||void 0===e?void 0:e.id)?B.playClip(w,null,null,!0,a/i.width*((null===(t=w.metadata)||void 0===t?void 0:t.duration)||0)):B.userSetCurrentProgress(a/i.width*100)});return}z?(F(a),ed(a),T(i.width),$(!0),el(null),ex({start:a/i.width*((null===(t=w.metadata)||void 0===t?void 0:t.duration)||0),end:null===(n=w.metadata)||void 0===n?void 0:n.duration})):(T(null),F(a),ed(a),$(!0),el(null),ex({start:a/i.width*((null===(l=w.metadata)||void 0===l?void 0:l.duration)||0),end:void 0}))},children:(0,l.jsx)("svg",{ref:K,style:{width:"100%",height:"".concat(ep,"px"),paddingLeft:"0px",paddingRight:"0px"},id:"demo"})}),null===O||null===L||es?null:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"h-full absolute top-0 left-0 opacity-70 bg-quaternary pointer-events-none z-[2] select-none",style:{width:O?"".concat(Math.max(O,0),"px"):"0px"}}),(0,l.jsx)("div",{className:"h-full absolute top-0 right-0 opacity-70 bg-quaternary pointer-events-none z-[2] select-none",style:{width:L&&G.current?"".concat(Math.max((null===(j=G.current)||void 0===j?void 0:j.getBoundingClientRect().width)-L,0),"px"):"0px"}})]})]})})});t.Z=v},8823:function(e,t,n){var l=n(57437),i=n(2265),a=n(76684),o=n(14063),s=n(78232),r=n(1633);t.Z=e=>{let{label:t,tooltipLabel:n,onClick:d}=e,c=(0,i.useRef)(null);return(0,l.jsx)(a.u,{size:"sm",background:r.vj,rounded:"md",color:"#ffffff",padding:"10px",label:n,portalProps:{containerRef:c},children:(0,l.jsxs)("div",{ref:c,className:"flex items-center cursor-pointer",onClick:d||(()=>{}),children:[(0,l.jsx)(s.Z,{label:t,checked:!1,disabled:!0}),(0,l.jsx)("button",{className:"p-1 rounded-full focus:outline-none color-primary cursor-default text-lightGray",children:(0,l.jsx)(o.MXt,{size:12})})]})})}},21154:function(e,t,n){var l=n(57437),i=n(1633),a=n(76684),o=n(54887),s=n(2265);t.Z=e=>{let{isDisabled:t,tooltipLabel:n,children:r,onClick:d,isMobile:c=!1}=e,[u,p]=(0,s.useState)(!1),m=e=>{e.preventDefault(),e.stopPropagation(),null==d||d(),p(!1)},x=(0,l.jsx)("div",{className:"cursor-pointer w-full",style:{pointerEvents:"auto"},children:r});return t?c?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{style:{width:"100%"},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onClick:()=>p(!0),children:x}),u&&o.createPortal((0,l.jsx)("div",{style:{position:"fixed",bottom:"90px",left:"50%",transform:"translateX(-50%)",backgroundColor:i.vj,color:"#ffffff",borderRadius:"8px",padding:"10px",maxWidth:"95%",width:"95%",textAlign:"center",zIndex:9999},onClick:m,onTouchEnd:m,children:n}),document.body)]}):(0,l.jsx)(a.u,{label:n,bg:i.vj,color:"#ffffff",borderRadius:"md",padding:"10px",children:x}):(0,l.jsx)(l.Fragment,{children:r})}},40129:function(e,t,n){var l=n(57437),i=n(1633),a=n(2265),o=n(84338);t.Z=e=>{var t,n;let{src:s,fallbackSrc:r=i.ax,imageSize:d=0,shouldFallback:c=!0,...u}=e,{session:p}=(0,o.mZ)(),[m,x]=(0,a.useState)(s||r),g=()=>{c&&x(r)};return(0,a.useEffect)(()=>{x(s||r)},[s]),(0,l.jsx)(l.Fragment,{children:(d==i.YY||d==i.PE)&&(null==p?void 0:null===(t=p.flags)||void 0===t?void 0:t["image-on-demand-backfill-jpeg"])?(0,l.jsx)("img",{src:((n=m||void 0)!=i.ax&&(null==n?void 0:n.endsWith(".jpeg"))&&d>0&&(n=n+"?width="+d),n),onError:g,loading:"lazy",...u}):(0,l.jsx)("img",{src:m||"",onError:g,loading:"lazy",...u})})}},72025:function(e,t,n){var l=n(57437),i=n(95430),a=n(2265),o=n(44839),s=n(84338),r=n(6051),d=n(40129),c=n(66162);let u=(0,i.Pi)(e=>{var t,n,i;let{clip:u,onClick:p,contextId:m,preview:x=!1,rounded:g=!0,hideOnMobile:h=!1,sunoShortType:v}=e,{playbar:f,queue:b}=(0,s.mZ)(),y=(0,a.useMemo)(()=>{var e;return(null===(e=f.clip)||void 0===e?void 0:e.id)===(null==u?void 0:u.id)&&(!x||(b.contextId||null)===(m||null))},[null===(t=f.clip)||void 0===t?void 0:t.id,b.contextId,m]),j=v==r.vS.VIDEO&&(null===(n=u.metadata)||void 0===n?void 0:n.video_to_song_video_upload_url);return u?(0,l.jsxs)("div",{className:(0,o.Z)("relative overflow-hidden mb-4 cursor-pointer",{"hidden md:block":h,"w-full aspect-[232/280]":x,"w-[204px] h-72":!x,"rounded-none sm:rounded-none md:rounded-none lg:rounded-xl xl:rounded-xl":g,"border-primary":y,"border-vinylBlack-darker":!y}),onClick:p,children:[(0,l.jsx)(d.Z,{className:"absolute inset-0 w-full h-full object-cover",src:u.image_url||null,alt:"Image for ".concat(u.title)}),j&&(0,l.jsx)(c.Z,{videoUrl:null===(i=u.metadata)||void 0===i?void 0:i.video_to_song_video_upload_url,className:"absolute inset-0 w-full h-full object-cover",isCurrentSong:y})]}):null});t.Z=u},70256:function(e,t,n){var l=n(57437),i=n(87138),a=n(2265);t.Z=()=>{let[e,t]=(0,a.useState)("/logos/Logo-1.svg");return(0,a.useEffect)(()=>{t("/logos/Logo-".concat(Math.floor(8*Math.random())+1,".svg"))},[]),(0,l.jsx)(i.default,{href:"/",children:(0,l.jsxs)("div",{className:"logo-container w-24 h-24",children:[(0,l.jsx)("style",{children:"\n          .logo-container {\n            position: relative;\n            display: inline-block;\n            width: 6.5rem;\n            height: 6.5rem;\n          }\n          .logo-image {\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n          }\n          @media (max-width: 768px) {\n            .logo-image {\n              filter: drop-shadow(0 0 8px black);\n            }\n          }\n        "}),(0,l.jsx)("img",{src:e,className:"logo-image",alt:"Suno Logo"})]})})}},81623:function(e,t,n){var l=n(57437),i=n(84338),a=n(51464),o=n(99240),s=n(99890),r=n(17458),d=n(61493),c=n(6005),u=n(1371),p=n(52249),m=n(85222),x=n(7729),g=n(20408),h=n(95430),v=n(87138),f=n(85751),b=n(18330),y=n(76613),j=n(59692),w=n(6051),k=n(50474),C=n(19060),S=n(69548),N=n(40129);let _=(0,h.Pi)(e=>{let{clip:t,playlist:n,title:h,link:_,subtitle:I,isClipMetadata:P=!1,artistTagProps:E={},isSongCard:M,isPlaylistCard:O,withStyleLinks:L=!0}=e,{library:F}=(0,i.mZ)(),{isOpen:T,onOpen:A,onClose:D}=(0,a.q)(),{isOpen:R,onOpen:z,onClose:Z}=(0,a.q)(),{isOpen:B,onOpen:U,onClose:V}=(0,a.q)(),{isOpen:q,onOpen:W,onClose:G}=(0,a.q)(),K=()=>{z&&z()};return(0,l.jsxs)("div",{className:"flex flex-col w-full",children:[(0,l.jsx)("div",{className:"text-base font-medium font-sans text-primary line-clamp-1 w-full hover:underline cursor-pointer",children:_?(0,l.jsx)(v.default,{href:_,title:h,children:h}):(0,l.jsx)(l.Fragment,{children:h})}),I&&!O?(0,l.jsx)("div",{className:"line-clamp-1 mb-1 text-sm text-secondary",title:I,children:P?(0,w.TO)({styleStr:I,fontSizeClass:"text-sm",fontColorClass:"text-secondary",extraClasses:"line-clamp-1 flex-nowrap",asLinks:L}):I}):null,O&&!!(null==n?void 0:n.playlist_clips)&&(0,l.jsx)("span",{className:"font-sans text-[14px] text-primary -mt-1 mb-2",children:(null==n?void 0:n.num_total_results)>=500?"500+ songs":"".concat(null==n?void 0:n.num_total_results," ").concat((null==n?void 0:n.num_total_results)===1?"song":"songs")}),(0,l.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,l.jsx)(k.Z,{...E}),M&&t&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.k,{px:[0],display:["flex","flex","none"],children:(0,l.jsxs)(s.v,{children:[(0,l.jsx)(r.j,{size:"sm","aria-label":"More Actions",as:d.h,icon:(0,l.jsx)(N.Z,{src:"/icons/more-actions.svg",alt:"More Actions",width:4,height:15}),variant:"ghost",onClick:W}),(0,l.jsxs)(c.u_,{isOpen:q,onClose:G,size:"full",isCentered:!0,children:[(0,l.jsx)(u.Z,{sx:{bgColor:"#0E0808"}}),(0,l.jsxs)(p.h,{sx:{bgColor:"#0E0808"},children:[(0,l.jsx)(m.x,{sx:{bgColor:"#0E0808"},children:t.is_trashed?(0,l.jsx)("span",{className:"font-serif text-[20px]",children:(0,S.M8)(t)}):(0,l.jsx)(v.default,{href:"/song/".concat(t.id),style:{textDecoration:"underline"},children:(0,l.jsx)("span",{className:"font-serif text-[20px]",children:(0,S.M8)(t)})})}),(0,l.jsx)("div",{className:"absolute right-2 top-2",children:(0,l.jsx)(x.P,{onClick:G})}),(0,l.jsx)(g.f,{sx:{bgColor:"#0E0808"},children:(0,l.jsx)(C.a,{clip:t,isSongPage:!1,onAddToPlaylist:A,onCloseMenuModal:G,onUpdateMetadata:K})})]})]})]})}),(0,l.jsx)("div",{className:"hidden md:block",children:(0,l.jsx)(j.Z,{clip:t,isSongPage:!1,onAddToPlaylist:A,onOpenFlagModal:U,onUpdateMetadata:K,isFromSongRow:!1})})]})]}),(0,l.jsx)(f.Z,{clipId:null==t?void 0:t.id,library:F,isOpen:T,onPlaylistClick:(e,t)=>{F.addClipsToPlaylist(e,t)},onClose:D}),(0,l.jsx)(b.ZP,{library:F,isOpen:R,onSubmit:async(e,t)=>{var n,l;if(null===(n=F.activeClip)||void 0===n?void 0:n.id)return await F.clips.setMetadata({clipId:null===(l=F.activeClip)||void 0===l?void 0:l.id,title:e,imageUrl:t})},onClose:Z}),(0,l.jsx)(y.Z,{isOpen:B,onClose:V,clipId:(null==t?void 0:t.id)||"",clipTitle:(null==t?void 0:t.title)||"Untitled"})]})});t.Z=_},67582:function(e,t,n){var l=n(57437),i=n(1633),a=n(36413),o=n(54887);t.Z=e=>{let{title:t,children:n,width:s,wrapperClasses:r,onClose:d,mobileOnly:c,withAuraBackground:u=!1,fullScreenHeight:p=!1}=e;return(0,o.createPortal)((0,l.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-[".concat(i.B$,"] ").concat(c?"block md:hidden":""," ").concat(p?"py-8":""),style:{zIndex:i.B$},onClick:d,children:(0,l.jsx)("div",{className:"".concat(u?'bg-[url("/auras/Aura-08.jpg")] bg-cover':"bg-tertiary"," text-primary rounded-[32px] w-full ").concat(p?"h-full":""),style:{maxWidth:"".concat(s||500,"px")},onClick:e=>{e.stopPropagation()},children:(0,l.jsxs)("div",{className:"".concat(u?"bg-black/40":""," h-full w-full p-6"),children:[(0,l.jsxs)("div",{className:"flex justify-between items-center pb-4",children:[(0,l.jsx)("span",{className:"font-serif text-2xl pt-6 pl-4",children:t}),(0,l.jsx)(a.Z,{onClick:d})]}),(0,l.jsx)("div",{className:r||"overflow-y-auto max-h-[400px] mb-4",children:n})]})})}),document.body)}},68689:function(e,t,n){var l=n(57437),i=n(84338),a=n(40323),o=n(51464),s=n(92959),r=n(95430),d=n(2265),c=n(54887);let u=(0,r.Pi)(e=>{var t,n,r,u;let{state:p,forceModelKey:m}=e,{session:x,clips:g}=(0,i.mZ)(),{isOpen:h,onOpen:v,onClose:f}=(0,o.q)(),b=(0,d.useRef)(null),y=(0,d.useRef)(null);(0,s.O)({ref:b,handler:e=>{var t;(null===(t=y.current)||void 0===t?void 0:t.contains(e.target))||f()}});let[j,w]=(0,d.useState)((0,a.dq)(p,g,!1));(0,d.useEffect)(()=>{let e=(0,a.dq)(p,g,!1);e!==j&&w(e)},[p.mv,p.continueClipId,j]),(0,d.useEffect)(()=>{m&&w(m)},[m]);let k=(e,t)=>{t.preventDefault(),t.stopPropagation(),w(e),p.setMv(e),f()},C=()=>{h&&!m?f():v()},S=null===(t=y.current)||void 0===t?void 0:t.getBoundingClientRect(),N=S?S.left+(null===(n=window)||void 0===n?void 0:n.scrollX):0,_=null===(r=window)||void 0===r?void 0:r.innerWidth;N+192>_&&(N=_-192);let I={top:S?S.bottom+window.scrollY:0,left:N};return(0,l.jsxs)("div",{className:"relative inline-block text-left font-sans",children:[(0,l.jsxs)("div",{"aria-label":"Model Select Dropdown",tabIndex:0,className:"inline-flex items-center px-3 py-1 bg-quaternary hover:bg-primary/30 text-primary font-medium text-sm rounded-full cursor-pointer select-none",ref:y,onClick:e=>{e.preventDefault(),e.stopPropagation(),C()},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),C())},children:[(0,l.jsx)("span",{className:"line-clamp-1 break-all",children:(null===(u=x.models.find(e=>e.external_key===j))||void 0===u?void 0:u.name)||"v3.5"}),m?null:(0,l.jsx)("svg",{className:"ml-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06 0L10 10.93l3.71-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),h&&!m&&c.createPortal((0,l.jsx)("div",{className:"absolute w-48 rounded-md shadow-lg bg-tertiary z-[10000] overflow-y-auto max-h-60 mt-2 border border-vinylBlack-darker",style:{top:I.top,left:I.left},ref:b,children:(0,l.jsx)("div",{className:"py-1",children:x.models.map(e=>(0,l.jsxs)("div",{tabIndex:0,"aria-label":"Model Selection: ".concat(e.name),className:"flex items-center justify-between px-3 py-1 text-sm text-secondary cursor-pointer hover:bg-quaternary",onPointerDown:t=>k(e.external_key,t),onKeyDown:t=>{"Enter"===t.key&&k(e.external_key,t)},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:"font-medium font-sans text-md text-primary",children:e.name}),(0,l.jsx)("div",{className:"text-sm text-secondary opacity-70 font-sans pr-2",children:e.description})]}),e.external_key===j&&(0,l.jsx)("svg",{className:"h-5 w-5 text-secondary",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",style:{minWidth:"16px",minHeight:"16px",maxHeight:"16px"},children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 00-1.414 0L8 12.586 4.707 9.293a1 1 0 00-1.414 1.414l4 4a1 1 0 001.414 0l8-8a1 1 0 000-1.414z",clipRule:"evenodd"})})]},e.external_key))})}),document.body)]})});t.Z=u},70233:function(e,t,n){var l=n(57437);t.Z=e=>{let{onClick:t,label:n="",isDisabled:i=!1,children:a,hasText:o=!1,invert:s=!1,heightPx:r}=e;return(0,l.jsx)("button",{className:"font-sans ".concat(r?"h-[".concat(r,"px]"):"h-10"," disabled:brightness-50 disabled:cursor-not-allowed disabled:hover:bg-transparent ").concat(o?"w-auto justify-center":"w-10"," px-4 gap-2 items-center cursor-pointer border rounded-full flex flex-row whitespace-nowrap select-none ").concat(s?"text-vinylBlack-darker bg-primary border-vinylBlack-darker":"bg-transparent border-quatenary hover:bg-primary/10"),onClick:t,"aria-label":n,disabled:i,children:a})}},31017:function(e,t,n){var l=n(57437),i=n(95430),a=n(87138),o=n(40129),s=n(1633),r=n(66648),d=n(2265);let c=(0,i.Pi)(e=>{let{persona:t,showAvatar:n=!0,fontSize:i}=e,[c]=(0,d.useState)("Aura-03.jpg");return t&&t.id?(0,l.jsx)(a.default,{href:"/persona/".concat(t.id),className:"w-fit",children:(0,l.jsxs)("div",{className:"text-sm flex flex-row items-center font-sans font-medium text-primary",children:[n?(0,l.jsxs)("div",{className:"relative flex-none h-8 w-8 mr-2 cursor-pointer",children:[(0,l.jsx)(r.default,{src:"/auras/".concat(c),alt:"Aura background",layout:"fill",objectFit:"cover",className:"rounded-full h-8 w-8 w-fit"}),(0,l.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-[90%] h-[90%] rounded-full overflow-hidden",children:(0,l.jsx)(o.Z,{className:"object-cover w-full h-full rounded-full",src:t.image_s3_id||s.ax,imageSize:s.YY,alt:"Persona picture for ".concat(t.name)})})]}):null,(0,l.jsx)("div",{title:t.name||"Untitled Persona",className:"line-clamp-1 flex-1 hover:underline max-w-full break-all",style:{fontSize:i},children:t.name||"Untitled Persona"})]})}):null});t.Z=c},66162:function(e,t,n){var l=n(57437),i=n(95430),a=n(2265),o=n(88492),s=n.n(o),r=n(84338);let d=(0,i.Pi)(e=>{let{className:t,onClick:n,videoUrl:i,isCurrentSong:o}=e;if(!i)return null;let{playbar:d}=(0,r.mZ)(),c=o&&d.isPlaying,u=d.isDragging,p=(0,a.useRef)(null),[m,x]=(0,a.useState)(1),g=(0,a.useCallback)(()=>{var e;null===(e=p.current)||void 0===e||e.seekTo(d.currentTime%m)},[m]);return(0,a.useEffect)(()=>{var e;if(!o)return;let t=null===(e=p.current)||void 0===e?void 0:e.getCurrentTime(),n=d.currentTime%m;t&&Math.min(Math.abs(n-t),m-Math.abs(n-t))>1&&g()},[o,d.currentTime]),(0,l.jsx)(s(),{className:t,onClick:n,ref:p,url:i,playing:c&&!u,volume:0,muted:!0,width:"100%",height:"100%",playIcon:(0,l.jsx)(l.Fragment,{}),onPlay:g,loop:!0,onDuration:x,playsinline:!0,config:{file:{attributes:{style:{objectFit:"fill",width:"100%",height:"100%"}}}}})});t.Z=d},91033:function(e,t,n){var l=n(57437),i=n(2265),a=n(93692);t.Z=e=>{let{onClick:t,text:n,icon:o,isDisabled:s=!1,isLoading:r=!1,fullWidth:d,extraClasses:c,textExtraClasses:u="",iconExtraClasses:p="",label:m,backgroundImage:x="/create-button-background.svg",overrideButtonDisabled:g=!1}=e,[h,v]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{v(!0)},[]),(0,l.jsxs)(l.Fragment,{children:[h&&(0,l.jsx)("style",{children:"\n          @keyframes randomBackground {\n            0% { background-position: 50% 50%; }\n            25% { background-position: 30% 70%; }\n            50% { background-position: 70% 30%; }\n            75% { background-position: 40% 60%; }\n            100% { background-position: 50% 50%; }\n          }\n\n          .buttonAnimate {\n            position: relative;\n            display: inline-block;\n            background-image: url('".concat(x,"');\n            background-size: cover; \n            background-position: 50% 50%;\n            transition: background 1s ease-in-out;\n            overflow: hidden;\n          }\n\n          .buttonAnimate::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background-image: url('/grain.png');\n            background-size: cover;\n            background-repeat: repeat;\n            opacity: 0.5;\n            z-index: 1;\n            pointer-events: none;\n          }\n\n          .buttonAnimate:hover {\n            animation: randomBackground ").concat("/create-button-background.svg"===x?"3s":"160s"," linear infinite;\n          }\n          ")}),(0,l.jsx)("button",{"aria-label":m,onClick:t,className:"font-sans text-white text-[16px] font-medium p-4 rounded-full transition duration-300 ease-in-out shadow-lg buttonAnimate ".concat(d?"w-full":""," ").concat(s?g?"opacity-50":"opacity-50 cursor-not-allowed":"hover:opacity-90"," ").concat(c||""," items-center justify-center"),disabled:s&&!g,children:(0,l.jsxs)("div",{className:"flex items-center justify-center h-full w-full",children:[r?(0,l.jsx)(a.Z,{}):o&&(0,l.jsx)("span",{className:p||(n?"mr-2":""),children:(0,l.jsx)("img",{src:o,alt:"icon",className:"w-5 h-5 filter invert brightness-0"})}),(0,l.jsx)("span",{className:u,children:n})]})})]})}},80048:function(e,t,n){var l=n(57437),i=n(2265),a=n(14063);t.Z=e=>{let{label:t,padded:n}=e,[o,s]=(0,i.useState)(!1),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{o&&r.current&&!r.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]),(0,l.jsxs)("div",{className:"relative ".concat(n?"p-[2px]":""),ref:r,children:[(0,l.jsx)("button",{className:"p-1 rounded-full focus:outline-none color-primary cursor-default",onClick:()=>s(!o),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:(0,l.jsx)(a.MXt,{size:12})}),o&&(0,l.jsx)("div",{className:"absolute z-10 w-48 p-2 text-white bg-tertiary rounded shadow-lg left-0 font-sans text-sm border border-white border-opacity-20",children:t})]})}},67328:function(e,t,n){n.d(t,{N:function(){return i},i:function(){return a}});var l=n(57437);let i=e=>{let{showAtBreakpoint:t="md",children:n}=e;return(0,l.jsx)("div",{className:"hidden ".concat(t,":block"),children:n})},a=e=>{let{hideAtBreakpoint:t="md",children:n}=e;return(0,l.jsx)("div",{className:"block ".concat(t,":hidden"),children:n})}},67561:function(e,t,n){var l=n(57437),i=n(51464),a=n(92959),o=n(2265);t.Z=e=>{var t,n;let{selections:s,onChange:r}=e,{isOpen:d,onOpen:c,onClose:u}=(0,i.q)(),p=(0,o.useRef)(null),m=(0,o.useRef)(null),[x,g]=(0,o.useState)(null==s?void 0:null===(t=s[0])||void 0===t?void 0:t.key);(0,a.O)({ref:p,handler:e=>{var t;(null===(t=m.current)||void 0===t?void 0:t.contains(e.target))||u()}});let h=()=>{d?u():c()};return(0,l.jsxs)("div",{className:"relative inline-flex justify-center text-left font-sans",children:[(0,l.jsxs)("div",{tabIndex:0,className:"inline-flex items-center px-3 py-1 bg-tertiary text-primary font-medium text-sm rounded-lg cursor-pointer select-none w-22",ref:m,onClick:e=>{e.preventDefault(),e.stopPropagation(),h()},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),h())},children:[(0,l.jsx)("span",{children:null===(n=s.find(e=>e.key===x))||void 0===n?void 0:n.name}),(0,l.jsx)("svg",{className:"ml-2 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,l.jsx)("path",{fillRule:"evenodd",d:"M5.23 7.21a.75.75 0 011.06 0L10 10.93l3.71-3.72a.75.75 0 111.06 1.06l-4.25 4.25a.75.75 0 01-1.06 0L5.23 8.27a.75.75 0 010-1.06z",clipRule:"evenodd"})})]}),d&&(0,l.jsx)("div",{className:"absolute mt-4 w-32 rounded-md shadow-lg bg-tertiary z-[100] overflow-y-auto",ref:p,style:{left:"0px",right:"0px",top:"20px",maxHeight:"200px",overflowY:"auto"},children:(0,l.jsx)("div",{className:"py-1",children:s.map(e=>(0,l.jsx)("div",{tabIndex:0,className:"flex items-center justify-between px-3 py-1 text-sm text-primary cursor-pointer hover:bg-quaternary",onClick:()=>{g(e.key),r(e.key),u()},onKeyDown:t=>{"Enter"===t.key&&(g(e.key),r(e.key),u())},children:(0,l.jsx)("div",{className:"font-medium font-sans",children:e.name})},e.key))})})]})}},80524:function(e,t,n){var l=n(57437),i=n(40323),a=n(1225),o=n(51464),s=n(10114),r=n(76684),d=n(61493),c=n(47414),u=n(40191),p=n(80201),m=n(71843),x=n(37701),g=n(84338),h=n(5443),v=n(1633),f=n(64874),b=n(92115),y=n(69548),j=n(93073),w=n(95430),k=n(16463),C=n(2265),S=n(69523),N=n(93025),_=n(76613),I=n(59692),P=n(20435),E=n(78232),M=n(52371),O=n(48626),L=n(87008),F=n(14326);let T=(0,w.Pi)(e=>{var t,n,w,T,A,D,R,z,Z,B,U,V,q,W,G,K,Y,H;let{rowKey:X,clip:J,onAddToPlaylist:Q,onRemoveFromPlaylist:$,showStats:ee=!1,size:et="sm",asCardActions:en=!1,trendingMode:el=!1,isSongPage:ei=!1,onUpdateMetadata:ea,onMenuButtonClick:eo,onTriggerEditMode:es,isFromSongRow:er=!1,isPlaybar:ed=!1,width:ec="100%",dropdownIconColor:eu,dropdownOnly:ep=!1,hideCreationActions:em=!1,isDropdownTriggered:ex=!1}=e,{playbar:eg,clips:eh,trash:ev,genForm:ef,session:eb}=(0,g.mZ)(),[ey,ej]=(0,C.useState)(null),[ew,ek]=(0,C.useState)(!1),eC=(0,C.useRef)(),[eS]=(0,m.pE)({},eC,x.b),{buttonProps:eN}=(0,p.U)(eS,eC),[e_]=(0,a.a)("(max-width: 1023px)"),{isOpen:eI,onOpen:eP,onClose:eE}=(0,o.q)(),{isOpen:eM,onOpen:eO,onClose:eL}=(0,o.q)(),eF=async()=>{ey&&(ek(!0),await eh.deleteClips(ey.map(e=>e.id)),ey.forEach(e=>{ev.removeFromTrash(e.id)}),ek(!1),eE()),(0,g.Am)({duration:4e3,isClosable:!0,position:"bottom",render:()=>(0,l.jsx)(P.Z,{clips:ey||[]})})},eT=(null==J?void 0:J.status)==="complete",eA=(0,k.useRouter)(),eD=(0,k.usePathname)(),[eR,ez]=(0,C.useState)(J.is_public),eZ=async()=>{ez(!eR);try{await eh.setClipVisibility(J.id,!eR),(0,g.Am)({title:"Clip is now ".concat(eR?"link only":"public","."),status:"warning",duration:2e3,isClosable:!0})}catch(e){console.error("Failed to update clip visibility:",e),ez(eR)}},eB="/playlist/liked/"===eD,{isSignedIn:eU}=(0,j.aC)(),eV=(0,j.ll)(),[eq,eW]=(0,C.useState)((0,i.ip)(J)),[eG,eK]=(0,C.useState)((0,i.de)(J)),[eY,eH]=(0,C.useState)(!1),eX=(0,C.useRef)(null);(0,C.useEffect)(()=>{eW((0,i.ip)(J))},[(0,i.ip)(J)]),(0,C.useEffect)(()=>{eK((0,i.de)(J))},[(0,i.de)(J)]);let eJ=()=>{if(eU){let e=!(0,i.ip)(J);eW(e),eh.likeClip(null==J?void 0:J.id,e),f.g.logAudioActionEvent(e_,e?b.OF.likeSong:b.OF.undoLikeSong,J,eb,eD),f.g.track(b.Vy.likeSongBtnClick,{clipId:J.id,isUserSongOwner:(null==eb?void 0:eb.userId)!==void 0&&(null==J?void 0:J.user_id)===(null==eb?void 0:eb.userId),isLike:e,isMobile:e_})}else ei?eV.openSignUp({redirectUrl:"/song/".concat(J.id)}):eV.openSignUp({redirectUrl:"/"})},{isOpen:eQ,onOpen:e$,onClose:e0}=(0,o.q)(),[e1,e2]=(0,C.useState)(0!==(0,i.Jr)(J).length),e5=e=>!isNaN(parseInt(e.charAt(e.length-1),10));return(0,C.useEffect)(()=>{var e,t;if(null===(e=eb.flags)||void 0===e?void 0:e["thumbs-exp"])return(null===(t=eg.clip)||void 0===t?void 0:t.id)!==J.id||!eg.isPlaying||eq||eG?(eH(!1),eX.current&&clearTimeout(eX.current)):(eH(!0),eX.current&&clearTimeout(eX.current),eX.current=setTimeout(()=>{eH(!1)},1e4)),()=>{eX.current&&clearTimeout(eX.current)}},[null===(t=eg.clip)||void 0===t?void 0:t.id,eg.isPlaying,eq,eG,J.id]),(0,l.jsxs)(s.K,{direction:"row",alignItems:"center",w:ec,spacing:en?void 0:0,justifyContent:en?"space-between":void 0,children:[!er||J.is_trashed||ep?null:(0,l.jsxs)(s.K,{direction:"row",ml:4,children:[eB||!eT||J.user_id!==eb.userId&&(0,h.R)(J)?null:(0,l.jsx)("div",{className:"extend-button",children:(0,l.jsx)(M.Z,{...eN,onClick:()=>{var e,t;(null===(e=eb.flags)||void 0===e?void 0:e["edit-mode-ui"])&&(null===(t=eb.flags)||void 0===t?void 0:t["edit-mode-infill"])&&J.user_id===eb.userId&&!e_?(es&&es(),eA.push("/edit/".concat(J.id))):J.metadata.infill?eh.runConcat(null==J?void 0:J.id,J.metadata.infill):(f.g.track(b.Vy.extendSongBtnClick,{clipId:null==J?void 0:J.id,isUserSongOwner:(null==eb?void 0:eb.userId)!==void 0&&(null==J?void 0:J.user_id)===(null==eb?void 0:eb.userId),isMobile:e_}),ef.resetArtistClip(),ef.resetCoverClip(),ef.resetPersona(),ef.setContinueClip(J),e_&&(ef.shouldOpenMobileCreate=!0),J.metadata.infill?ef.setTask("infill"):ef.setTask("extend"),"/create"!==eD&&eA.push("/create"))},text:(null===(n=eb.flags)||void 0===n?void 0:n["edit-mode-ui"])&&(null===(w=eb.flags)||void 0===w?void 0:w["edit-mode-infill"])&&J.user_id===eb.userId&&!e_?"Edit":J.metadata.infill?"Confirm Infill":"Extend"})}),eB||(null===(T=eb.user)||void 0===T?void 0:T.id)!==J.user_id||J.is_trashed?null:(0,l.jsx)(l.Fragment,{children:(0,h.R)(J)?(0,l.jsx)(r.u,{label:"Audio uploads with vocals (and related songs) cannot be made public at this time",size:"sm",fontSize:"md",background:v.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,l.jsxs)("button",{...eN,className:"flex flex-row rounded-md mx-2 outline-none bg-quaternary p-1 pl-2 items-center","aria-label":"Public (disabled)",children:[(0,l.jsx)("span",{className:"text-sm font-sans ".concat(eR?"text-white":"text-secondary"),children:"Public"}),(0,l.jsx)("div",{className:"ml-2",children:(0,l.jsx)(E.Z,{small:!0,checked:eR,disabled:!0,onChange:eZ,"aria-label":"Public Switch (disabled)"})})]})}):(0,l.jsxs)("button",{...eN,className:"flex flex-row rounded-md mx-1.5 outline-none bg-quaternary p-1 pl-2 items-center","aria-label":eR?"Make private":"Make public",children:[(0,l.jsx)("span",{className:"text-sm font-sans ".concat(eR?"text-white":"opacity-50"),children:"Public"}),(0,l.jsx)("div",{className:"ml-2",children:(0,l.jsx)(E.Z,{small:!0,checked:eR,disabled:!1,onChange:eZ,"aria-label":eR?"Switch to make private":"Switch to make public"})})]})})]}),(null==eb?void 0:null===(A=eb.flags)||void 0===A?void 0:A["clip-feedback"])&&!ed&&J.user_id===eb.userId&&(0,l.jsx)(r.u,{fontFamily:"Neue Montreal",label:e1?"Feedback given, thank you!":"Enter your feedback",size:"sm",background:v.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",children:(0,l.jsx)(d.h,{...eN,icon:(0,l.jsx)(F.Z,{src:e1?"/icons/feedback-white.svg":"/icons/feedback.svg",width:"8",height:"8",alt:"feedback-button"}),onClick:e$,variant:"ghost",justifyContent:"center","aria-label":"Feedback Button",ml:2,mr:-2})}),ep?null:en?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(c.z,{size:et,leftIcon:(0,l.jsx)(L.o1,{}),onClick:()=>eg.playClip(J),variant:"ghost",color:"gray.600","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,l.jsx)("div",{className:"text-primary ".concat("lg"===et?"text-sm":"text-xs"," w-[40px] font-mono"),children:(0,y.Hl)(J.play_count||0)})}),ee?(0,l.jsx)(c.z,{...eN,size:et,leftIcon:(null===(D=eb.flags)||void 0===D?void 0:D["thumbs-exp"])&&e5(null!==(W=eb.userId)&&void 0!==W?W:"")?(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"fill-primary text-lg":"fill-lightGray text-lg"," ").concat(eY?"animate-pulse":"")}):(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),onClick:eJ,variant:"ghost",color:eq?void 0:"gray","aria-label":"Playbar: Like",textAlign:"left",iconSpacing:3,p:1,children:(0,l.jsx)(u.x,{fontSize:"lg"===et?"sm":"xs",width:"20px",color:eq?"#fff":"gray",textAlign:"center",children:(0,y.Hl)(J.upvote_count||0)})}):(0,l.jsx)(d.h,{...eN,size:et,icon:(null===(R=eb.flags)||void 0===R?void 0:R["thumbs-exp"])&&e5(null!==(G=eb.userId)&&void 0!==G?G:"")?(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"fill-primary text-lg":"fill-lightGray text-lg"," ").concat(eY?"animate-pulse":"")}):(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),onClick:eJ,variant:"ghost","aria-label":"Playbar: Like"})]}):(0,l.jsxs)(s.K,{direction:"row",alignItems:"center",spacing:en?void 0:0,ml:4,justifyContent:en?"space-between":void 0,children:[el?(0,l.jsx)(c.z,{size:et,leftIcon:(0,l.jsx)(L.o1,{}),onClick:()=>eg.playClip(J),variant:"ghost",color:"gray.600","aria-label":"Play Count",textAlign:"left",iconSpacing:3,children:(0,l.jsx)(u.x,{color:"gray.200",fontSize:"lg"===et?"sm":"xs",className:"w-fit",fontFamily:"Neue Montreal",children:J.play_count})}):null,ee?(0,l.jsx)(c.z,{...eN,size:et,leftIcon:(null===(z=eb.flags)||void 0===z?void 0:z["thumbs-exp"])&&e5(null!==(K=eb.userId)&&void 0!==K?K:"")?(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"fill-primary text-lg":"fill-lightGray text-lg"," ").concat(eY?"animate-pulse":"")}):(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),onClick:eJ,colorScheme:eq?"#fff":void 0,variant:"ghost",color:eq?void 0:"gray","aria-label":"Like",textAlign:"left",iconSpacing:3,mx:1,children:(0,l.jsx)(u.x,{fontSize:"lg"===et?"sm":"xs",className:"w-fit",color:eq?"#fff":"gray",children:J.upvote_count})}):(0,l.jsx)(d.h,{...eN,size:et,icon:(null===(Z=eb.flags)||void 0===Z?void 0:Z["thumbs-exp"])&&e5(null!==(Y=eb.userId)&&void 0!==Y?Y:"")?(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"fill-primary text-lg":"fill-lightGray text-lg"," ").concat(eY?"animate-pulse":"")}):(0,l.jsx)(L.lb,{className:"w-4 h-4 ".concat(eq?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),onClick:eJ,colorScheme:eq?"#fff":void 0,color:eq?void 0:"gray",variant:"ghost",mx:1,"aria-label":"Playbar: Like"}),el?null:(0,l.jsx)(d.h,{...eN,size:et,icon:(null===(B=eb.flags)||void 0===B?void 0:B["thumbs-exp"])&&e5(null!==(H=eb.userId)&&void 0!==H?H:"")?(0,l.jsx)(L.kZ,{className:"w-4 h-4 ".concat(eG?"fill-primary text-lg":"fill-lightGray text-lg"," ").concat(eY?"animate-pulse":"")}):(0,l.jsx)(L.kZ,{className:"w-4 h-4 ".concat(eG?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),onClick:()=>{if(eU){let e=!(0,i.de)(J);eK(e),eh.dislikeClip(J.id,e),f.g.logAudioActionEvent(e_,e?b.OF.dislikeSong:b.OF.undoDislikeSong,J,eb,eD)}else ei?eV.openSignUp({redirectUrl:"/song/".concat(J.id)}):eV.openSignUp({redirectUrl:"/"})},colorScheme:eG?"#fff":void 0,variant:"ghost",color:eG?void 0:"gray",mx:1,"aria-label":"Playbar: Dislike"})]}),ep?null:"lg"===et?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(r.u,{label:"Copy Song Link",size:"sm",background:v.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,l.jsx)(c.z,{...eN,size:et,onClick:()=>(0,S.eC)(eh.apiClient,J),leftIcon:(0,l.jsx)(L.aA,{className:"w-4 h-4 ".concat(ed?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),variant:"ghost",mx:1,"aria-label":"Playbar: Share",children:(0,l.jsx)("span",{children:"Share"})})})}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(r.u,{label:"Copy Song Link",size:"sm",background:v.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",fontFamily:"Neue Montreal",children:(0,l.jsx)(d.h,{...eN,size:et,onClick:()=>(0,S.eC)(eh.apiClient,J),icon:(0,l.jsx)(L.aA,{className:"w-4 h-4 ".concat(ed?"stroke-primary fill-primary text-lg":"stroke-lightGray fill-lightGray text-lg")}),variant:"ghost",mx:1,"aria-label":"Playbar: Share"})})}),(0,l.jsx)(I.Z,{rowKey:X,clip:J,isSongPage:ei,onAddToPlaylist:Q,onRemoveFromPlaylist:$,onOpenFlagModal:()=>{eO()},onOpenDeleteModal:e=>{ej(e),eP()},onUpdateMetadata:ea,onMenuButtonClick:eo,isFromSongRow:er,isPlaybar:ed,iconColor:eu,hideCreationActions:em,isTriggered:ex}),(0,l.jsx)(N.Z,{isOpen:eI,onClose:eE,onConfirm:eF,clipTitle:ey&&1===ey.length?(null===(U=ey[0])||void 0===U?void 0:U.title)||(null===(q=ey[0])||void 0===q?void 0:null===(V=q.metadata)||void 0===V?void 0:V.tags)||"":"".concat((ey||[]).length," Clips"),isLoading:ew,headerText:ey&&ey.length>1?"Are you sure you want to delete these songs?":"Are you sure you want to delete this song?"}),(0,l.jsx)(_.Z,{isOpen:eM,onClose:eL,clipId:J.id,clipTitle:(null==J?void 0:J.title)||"Untitled"}),(0,l.jsx)(O.Z,{clip:J,isOpen:eQ,onClose:e0,onFeedbackSubmit:()=>{e2(!0),e0()},onFeedbackRemoved:()=>{e2(!1),e0()}})]})});t.Z=T},91560:function(e,t,n){var l=n(57437),i=n(80524),a=n(28922),o=n(40323),s=n(29945),r=n(69548),d=n(99240),c=n(74340),u=n(47840),p=n(16829),m=n(61493),x=n(10114),g=n(92544),h=n(54410),v=n(6353),f=n(40191),b=n(76684),y=n(64973),j=n(95430),w=n(87138),k=n(16463),C=n(2265),S=n(14063),N=n(84338),_=n(1633),I=n(65870),P=n(19060),E=n(6051),M=n(87008),O=n(39799),L=n(2550);let F=(0,j.Pi)(e=>{var t,n,j,F,T,A,D,R,z,Z,B,U,V,q,W,G,K,Y,H,X,J,Q,$,ee,et,en;let{rowKey:el,clip:ei,onClick:ea,onPlay:eo,onAddToPlaylist:es,onRemoveFromPlaylist:er,onOpenEditClipMetadata:ed,onTriggerEditMode:ec,trendingMode:eu=!1,showStats:ep=!1,showTags:em=!0,showActions:ex=!0,expanded:eg=!1,showUser:eh=!1,index:ev,playlistId:ef,radioId:eb,isFromSongRow:ey=!0,isCreatePage:ej=!1,isLoading:ew=!1,condensedImage:ek}=e,{playbar:eC,genForm:eS,queue:eN,session:e_,menus:eI}=(0,N.mZ)(),eP=!eN.currentPlayingSongIsRemoved&&(void 0!==ev?ev===eN.currentIndex&&(eN.isPlaylistCurrentContext(ef)||eN.isRadioCurrentContext(eb)):(null===(t=eC.clip)||void 0===t?void 0:t.id)===(null==ei?void 0:ei.id)&&eN.contextType===s.Q.FEED),[eE,eM]=(0,C.useState)(!1),{setSelected:eO}=(0,C.useContext)(O.bz),eL=ew||(null==ei?void 0:ei.status)==="queued"||(null==ei?void 0:ei.status)==="submitted",eF=eS.selectedClip,eT=(null==eF?void 0:null===(j=eF.metadata)||void 0===j?void 0:null===(n=j.history)||void 0===n?void 0:n.map(e=>(null==e?void 0:e.id)||e).includes(ei.id))||(null==eF?void 0:null===(T=eF.metadata)||void 0===T?void 0:null===(F=T.concat_history)||void 0===F?void 0:F.map(e=>(null==e?void 0:e.id)||e).includes(ei.id))||(null==eF?void 0:null===(D=eF.metadata)||void 0===D?void 0:null===(A=D.history)||void 0===A?void 0:A.map(e=>(null==e?void 0:e.id)||e).includes("m_".concat(ei.id)))||(null==eF?void 0:null===(z=eF.metadata)||void 0===z?void 0:null===(R=z.concat_history)||void 0===R?void 0:R.map(e=>(null==e?void 0:e.id)||e).includes("m_".concat(ei.id)))||(null==eF?void 0:null===(Z=eF.metadata)||void 0===Z?void 0:Z.stem_from_id)===ei.id,eA=()=>{ed&&ed()},eD=(0,C.useRef)(null),[eR,ez]=(0,C.useState)(!1),eZ=(0,C.useRef)(null),eB=new Date(ei.created_at),eU=(0,k.usePathname)(),[eV,eq]=(0,C.useState)(!1),[eW,eG]=(0,C.useState)(!1),[eK,eY]=(0,C.useState)(!1),eH=(0,E.yL)(ei,e_);(0,C.useEffect)(()=>{var e;(null===(e=eC.clip)||void 0===e?void 0:e.id)===ei.id&&eC.isPlaying&&!eK&&eY(!0)},[null===(B=eC.clip)||void 0===B?void 0:B.id,eC.isPlaying]);let eX=(0,L.U_)(e_)&&(null===(U=ei.metadata)||void 0===U?void 0:U.negative_tags);return(0,o.Ls)(ei)?null:(0,l.jsxs)(d.k,{ref:eD,tabIndex:0,role:"button",sx:{"[data-selected] &":{background:"radial-gradient(3010.06% 152.11% at 27.33% 38.98%, rgba(81, 78, 78, 0.43) 0%, rgba(45, 44, 44, 0.57) 100%)"}},onMouseEnter:()=>{eM(!0)},onMouseLeave:()=>eM(!1),alignItems:["flex-start","flex-start","flex-start","center"],onClick:ea,onDoubleClick:()=>{eY(!0),eo()},onContextMenu:e=>{var t,n,l;eG(!0),eI.setSongDropdownTriggeredAt({x:e.clientX-(null===(t=eD.current)||void 0===t?void 0:t.getBoundingClientRect().right),y:e.clientY-(null===(n=eD.current)||void 0===n?void 0:n.getBoundingClientRect().top)+(null===(l=eD.current)||void 0===l?void 0:l.getBoundingClientRect().height)/2}),requestAnimationFrame(()=>{eG(!1),el&&eO&&eO(new Set([el]))}),e.preventDefault()},userSelect:"none",cursor:"pointer",pr:[3,6,6],ml:[3,6,6],flexDirection:["column","column","row","row"],py:1,_hover:{background:ek?void 0:"rgba(37,32,32,0.6)"},background:eT?"rgba(255, 227, 180, 0.16)":void 0,"data-clip-id":null==ei?void 0:ei.id,"data-testid":"song-row",children:[(0,l.jsxs)("div",{className:"relative flex items-center w-full",children:[0===ei.play_count&&!eL&&!eK&&(null===(V=e_.user)||void 0===V?void 0:V.id)===ei.user_id&&!ef&&(0,l.jsx)("div",{className:"absolute md:-left-4 -left-3 z-[".concat(_.n5,"] w-2 h-2 rounded-full bg-accentPink")}),(0,l.jsxs)(d.k,{flexDirection:"row",alignItems:"center",flex:"1",opacity:eL?.6:1,children:[(0,l.jsxs)(c.xu,{position:"relative",display:"flex",onClick:()=>{eY(!0),eo()},"aria-label":"Play Song",flexShrink:"0",width:ek?"40px":"56px",height:ek?"55px":"77px","min-width":ek?"40px":"56px","min-height":ek?"55px":"77px","data-testid":"song-row-play-button",children:[(null==ei?void 0:ei.image_url)?(0,l.jsxs)("div",{className:"relative",children:[(0,l.jsxs)("span",{className:"flex absolute bottom-[1px] items-center right-[1px] text-[11px] font-mono bg-vinylBlack-darker/70 text-primary font-bold px-[2px] rounded-sm",children:[eH&&(eH==E.vS.VIDEO?(0,l.jsx)(M.Od,{className:"mr-1 w-3 h-3"}):(0,l.jsx)(M.XB,{className:"mr-1 w-3 h-3"})),(0,E.LU)(null===(q=ei.metadata)||void 0===q?void 0:q.duration,(0,E.Se)(ei,e_))]}),(0,l.jsx)(I.Z,{alt:"Song Image",width:ek?"40px":"56px",height:ek?"55px":"77px",borderRadius:"4px",src:null==ei?void 0:ei.image_url,objectFit:"cover","flex-shrink":"0",border:eP?"1px solid white":void 0})]}):(0,l.jsx)(u.O,{width:ek?"40px":"56px",height:ek?"55px":"77px",startColor:"#252020",endColor:"#363030"}),eL?(0,l.jsx)(d.k,{width:ek?"40px":"56px",height:ek?"55px":"77px",position:"absolute",top:0,left:0,alignItems:"center",justifyContent:"center","data-testid":"loading-clip",children:(0,l.jsx)(p.$,{color:"white",boxSize:"20px"})}):(0,l.jsx)(m.h,{"aria-label":eC.isPlaying?"Pause":"Play",onMouseEnter:()=>eq(!0),onMouseLeave:()=>eq(!1),onClick:()=>eY(!0),icon:eP&&eC.isPlaying?eV?(0,l.jsx)(I.Z,{src:"/icons/pause-active.svg",alt:"Pause",width:6,height:6}):(0,l.jsxs)("div",{className:"flex space-x-1",children:[(0,l.jsx)("div",{className:"w-1 h-4 bg-white animate-wave1"}),(0,l.jsx)("div",{className:"w-1 h-4 bg-white animate-wave2"}),(0,l.jsx)("div",{className:"w-1 h-4 bg-white animate-wave3"})]}):(0,l.jsx)("div",{className:"ml-1",children:(0,l.jsx)(I.Z,{src:"/icons/play.svg",alt:"Play",width:18,height:18})}),size:ek?"md":"lg",position:"absolute",width:ek?"40px":"56px",height:ek?"55px":"77px",top:"0",left:"50%",transform:"translate(-50%, 0)",color:"white",transition:"opacity 0.3s",opacity:eP||eE?1:0,_focus:{opacity:1}})]}),(0,l.jsxs)(d.k,{direction:["column","column","column","column",ej?"column":"row","row"],flex:"1",children:[(0,l.jsx)(x.K,{flex:"1",ml:5,spacing:0,justifyContent:["flex-start","flex-start","center"],children:(null==ei?void 0:ei.status)==="submitted"?(0,l.jsx)(g.N,{py:1,noOfLines:2,startColor:"#252020",endColor:"#363030"}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"w-full flex items-center gap-1",children:[(0,l.jsx)("span",{className:"font-sans text-base font-extrabold line-clamp-1 break-all text-primary",title:(0,r.M8)(ei),children:"streaming"===ei.status||"complete"===ei.status?(0,l.jsx)(w.default,{href:"/song/".concat(null==ei?void 0:ei.id,"/"),children:(0,l.jsx)("span",{className:"hover:underline cursor-pointer",children:(0,r.M8)(ei)})}):(0,r.M8)(ei)}),"/feed"===eU&&(0,l.jsx)("span",{className:"font-sans text-xs text-lightGray",children:"\xb7 "+E.MV.format(eB,"mini")+" ago"}),em?(0,l.jsxs)(x.K,{direction:"row",children:[(0,l.jsx)(a.Z,{fontSize:"12px",size:"sm",clip:ei,bg:"#252020",fontFamily:"Neue Montreal",border:"0.2px solid rgba(255,255,255,0.15)"}),ei.is_trashed?(0,l.jsx)(h.Vp,{bg:"#2E1C1C",color:"#FAF7F5",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",mr:2,children:(0,l.jsx)(v.J,{as:S.Xm5})}):null,(null===(W=ei.metadata)||void 0===W?void 0:W.history)&&!(null===(G=ei.metadata)||void 0===G?void 0:G.infill)?(0,l.jsxs)(h.Vp,{bg:"#252020",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",className:"part-tag",children:[(0,l.jsx)(v.J,{as:S.gjK}),(0,l.jsxs)(f.x,{ml:1,children:["Part ",ei.metadata.history.length+1]})]}):null,(null===(K=ei.metadata)||void 0===K?void 0:K.infill)?(0,l.jsxs)(h.Vp,{bg:"#252020",border:"0.2px solid rgba(255,255,255,0.15)",fontSize:"12px",fontFamily:"Neue Montreal",size:"sm",children:[(0,l.jsx)(v.J,{as:S.gjK}),(0,l.jsx)(f.x,{ml:1,children:"Infill"})]}):null,["concat","concat_infilling"].includes((null===(Y=ei.metadata)||void 0===Y?void 0:Y.type)||"")?(0,l.jsxs)(h.Vp,{bg:"#252020",fontSize:"12px",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",fontFamily:"Neue Montreal",children:[(0,l.jsx)(v.J,{as:S.uoU}),(0,l.jsx)(f.x,{ml:1,children:"Full Song"})]}):null,(null===(H=ei.metadata)||void 0===H?void 0:H.refund_credits)?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(b.u,{label:"Generation was too short, so no credits were used. If generations are silent and you continued a clip, that clip probably ended in silence. You may want to try continuing from a different clip.",placement:"auto-start",background:_.mh,backdropFilter:"blur(40px)",rounded:"md",color:"#ffffff",padding:"10px",isOpen:eR,children:(0,l.jsx)(h.Vp,{bg:"#252020",fontSize:"12px",fontFamily:"Neue Montreal",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",onClick:()=>ez(!eR),ref:eZ,children:"Credits Refunded"})})}):null,(null===(X=ei.metadata)||void 0===X?void 0:X.type)==="edit_crop"&&(null===(J=e_.flags)||void 0===J?void 0:J["edit-mode-ui"])?(0,l.jsxs)(h.Vp,{bg:"#252020",fontSize:"12px",border:"0.2px solid rgba(255,255,255,0.15)",size:"sm",fontFamily:"Neue Montreal",children:[(0,l.jsx)(v.J,{as:S.fmQ}),(0,l.jsx)(f.x,{ml:1,children:"Crop"})]}):null]}):null]}),(0,l.jsx)(x.K,{direction:"row",children:eh&&(0,l.jsxs)(f.x,{fontSize:"sm",fontWeight:500,display:"flex",color:"white",alignItems:"center",children:[(0,l.jsx)(y.E,{opacity:.6,src:"/profile.svg",alt:"Profile",boxSize:"12px",mr:1,display:"inline-block",verticalAlign:"middle",color:"white"}),(0,l.jsx)(w.default,{href:"/@".concat(ei.handle),color:"white",title:ei.display_name||ei.handle||"",children:ei.display_name||ei.handle||""})]})}),(0,l.jsx)(x.K,{direction:"row",children:(null==ei?void 0:ei.status)==="complete"||(null==ei?void 0:null===(Q=ei.metadata)||void 0===Q?void 0:Q.tags)||eX?(0,l.jsx)("span",{className:"font-sans text-sm text-secondary mb-1",title:ei.metadata.tags||"",children:(0,E.TO)({styleStr:eX?(0,E.UL)(null===($=ei.metadata)||void 0===$?void 0:$.tags,null===(ee=ei.metadata)||void 0===ee?void 0:ee.negative_tags):null===(et=ei.metadata)||void 0===et?void 0:et.tags,fontColorClass:"text-secondary",fontSizeClass:"text-sm",extraClasses:"flex-nowrap"})}):(0,l.jsx)(g.N,{py:1,noOfLines:2,startColor:"#252020",endColor:"#363030"})})]})}),ex&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(d.k,{px:[0],display:["flex","none","none"],children:(0,l.jsx)(P.Z,{onAddToPlaylist:es,onRemoveFromPlaylist:er,trendingMode:eu,showStats:ep,clip:ei,onUpdateMetadata:eA})}),(0,l.jsx)(d.k,{px:[0],display:["none","flex","flex"],children:(0,l.jsx)(i.Z,{rowKey:el,onAddToPlaylist:es,onRemoveFromPlaylist:er,trendingMode:eu,showStats:ep,clip:ei,isFromSongRow:ey,onUpdateMetadata:eA,onTriggerEditMode:ec,isDropdownTriggered:eW})})]})]})]})]}),eg&&eS.showLyrics?(0,l.jsx)(f.x,{display:["flex","flex","flex","none"],fontSize:"xs",whiteSpace:"pre-wrap",children:null===(en=ei.metadata)||void 0===en?void 0:en.prompt}):null]})});t.Z=F},14675:function(e,t,n){var l=n(57437);n(2265),t.Z=e=>{let{style:t,onClick:n}=e;return(0,l.jsx)("button",{onClick:()=>n(t),className:"font-sans text-primary text-[13px] rounded-full px-3 py-2 bg-quaternary bg-opacity-75",children:t})}},78232:function(e,t,n){var l=n(57437),i=n(2265);t.Z=e=>{let{label:t,checked:n=!1,onChange:a,disabled:o=!1,small:s=!1}=e,[r,d]=(0,i.useState)(n);(0,i.useEffect)(()=>{d(n)},[n]);let c=()=>{!o&&(d(!r),a&&a(!r))};return(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("div",{"aria-label":t,tabIndex:0,className:"relative inline-flex items-center ".concat(s?"h-4 w-7":"h-6 w-10"," rounded-full transition-colors duration-300 ease-in-out ").concat(o?"cursor-not-allowed opacity-50 ":"cursor-pointer ").concat(r?"bg-primary":"bg-tertiary"," ring-1 ring-opacity-20 ring-white"),onClick:c,onKeyDown:e=>{"Enter"===e.key&&c()},children:(0,l.jsx)("span",{className:"absolute left-0.5 top-0.5 ".concat(s?"h-3 w-3":"h-5 w-5"," transform bg-black rounded-full transition-transform duration-300 ease-in-out ").concat(r?s?"translate-x-3":"translate-x-4":""),style:{border:"1px solid rgba(255, 255, 255, 0.3)"}})}),t&&(0,l.jsx)("span",{className:"font-sans font-normal text-sm ".concat(o?"text-lightGray":"text-white"),children:t})]})}},41463:function(e,t,n){var l=n(57437),i=n(2265);t.Z=e=>{let{tabs:t,selectedIndex:n,onTabClick:a,textClass:o}=e,s=(0,i.useRef)(null),[r,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(0),[p,m]=(0,i.useState)(0),x=e=>{a&&a(e)};(0,i.useEffect)(()=>{if(t.length<5)return;let e=s.current;if(e&&void 0!==n){let t=e.children[n];if(t){let n=e.offsetWidth,l=t.offsetWidth,i=t.offsetLeft;e.scrollTo({left:i-(n-l)/2,behavior:"smooth"})}}},[n,t.length]);let g=t.length>=5?"flex space-x-2 overflow-x-auto w-full scrollbar-hide":"flex space-x-2";return(0,l.jsx)("div",{ref:s,className:g,role:"tablist",onTouchStart:e=>{var n,l;t.length<5||(d(!0),u(e.touches[0].pageX-((null===(n=s.current)||void 0===n?void 0:n.offsetLeft)||0)),m((null===(l=s.current)||void 0===l?void 0:l.scrollLeft)||0))},onTouchMove:e=>{var n;if(!r||t.length<5)return;e.preventDefault();let l=e.touches[0].pageX-((null===(n=s.current)||void 0===n?void 0:n.offsetLeft)||0);s.current&&(s.current.scrollLeft=p-(l-c)*2)},onTouchEnd:()=>{t.length<5||d(!1)},style:t.length>=5?{WebkitOverflowScrolling:"touch",paddingRight:"20px"}:void 0,children:t.map((e,i)=>(0,l.jsx)("div",{className:"font-sans font-medium px-4 py-2 min-w-20 text-center rounded-md cursor-pointer ".concat(t.length>=5?"flex-shrink-0":""," ").concat(o||"text-base"," ").concat(n===i?"bg-primary text-black":"bg-quaternary text-primary hover:bg-primary/30 hover:text-primary"),onClick:()=>x(i),role:"tab","aria-selected":n===i,"aria-controls":"tabpanel-".concat(i),id:"tab-".concat(i),children:(0,l.jsx)("span",{className:"line-clamp-1 break-all",children:e.label})},i))})}},52371:function(e,t,n){var l=n(57437),i=n(16829);n(2265),t.Z=e=>{let{onClick:t,text:n,icon:a,isDisabled:o,isLoading:s,rounded:r=!1,...d}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("button",{...d,onClick:t,disabled:o||s,className:"bg-quaternary text-white hover:bg-primary/30 font-medium px-4 py-1 rounded-".concat(r?"full":"md"," text-sm font-sans disabled:brightness-50 disabled:cursor-not-allowed select-none flex gap-2 items-center"),draggable:"false",children:[a&&(0,l.jsx)("img",{src:a,alt:"icon",className:"mr-2 w-4 h-4 filter invert brightness-0"}),n,s&&(0,l.jsx)("div",{className:"w-4 h-4",children:(0,l.jsx)(i.$,{size:"sm"})})]})})}},1601:function(e,t,n){var l=n(57437);n(2265),t.Z=e=>{let{maxLength:t,placeholder:n,value:i,onChange:a,onClick:o,onKeyDown:s,isReadOnly:r,cursor:d,leftAsset:c,customHeight:u="h-[36px]",spacedLeftAsset:p=!1,resize:m=!1,onClear:x,isScrollable:g,enableExtraMargin:h=!1,withBottomPadding:v=!0,bgColor:f="tertiary"}=e;return(0,l.jsxs)("div",{className:"relative p-4 pr-0 rounded-lg border border-quaternary overflow-hidden flex-1 bg-".concat(f),style:{paddingBottom:v?"40px":"0",marginBottom:h?"12px":"0"},children:[(0,l.jsx)("textarea",{maxLength:t,value:i,onChange:a,placeholder:n,onClick:o,onKeyDown:s,readOnly:r,className:"w-full p-0 ".concat(u?"pb-6":"pb-8"," text-primary focus:outline-none custom-textarea font-sans text-14px ").concat(u," ").concat(d||"text"," placeholder-secondary placeholder-opacity-70 ").concat(m?"resize-y":"resize-none"," ").concat(u," bg-").concat(f),style:{overflowY:g?"auto":"hidden",overflowX:"hidden"}}),(0,l.jsxs)("div",{className:"font-sans absolute ".concat(p?"bottom-14":"bottom-2"," right-2 text-secondary text-sm"),children:[i.length," / ",t]}),c&&(0,l.jsx)("div",{className:"absolute ".concat("bottom-2"," left-2 max-w-full overflow-x-auto whitespace-nowrap"),children:c}),x&&(0,l.jsx)("button",{type:"button",onClick:x,className:"absolute top-4 right-4 text-secondary",style:{background:"none",border:"none",cursor:"pointer"},children:"✕"})]})}},79794:function(e,t,n){var l=n(57437);t.Z=e=>{let{text:t,subtitle:n=!1,responsive:i=!0,withLineClamp:a=!0}=e,o="font-serif font-light text-primary max-w-full ".concat(a?"line-clamp-1":""," break-all select-none whitespace-pre-wrap");return n?(0,l.jsx)("h2",{className:"".concat(o," ").concat(i?"text-[20px] lg:text-[24px]":"text-[24px]"),children:t}):(0,l.jsx)("h1",{className:"".concat(o," ").concat(i?"text-[28px] lg:text-[40px]":"text-[40px]"),children:t})}},27129:function(e,t,n){var l=n(57437),i=n(84338),a=n(54226),o=n(81460);let s=(0,n(95430).Pi)(e=>{let{top:t,left:n,ref:s,color:r}=e,{playbar:d}=(0,i.mZ)();return(0,l.jsx)("button",{ref:s,className:"absolute flex flex-1 h-auto w-auto bg-".concat(r||"quaternary"," rounded-md px-1 py-2 pt-4 z-[100]"),style:{top:"".concat(t-90,"px"),left:"".concat(n-210,"px"),height:"80px"},"aria-label":"Playbar: Volume Control",children:(0,l.jsxs)(o.iR,{flex:"1",mx:4,orientation:"vertical","aria-label":"Playbar: Volume Control",focusThumbOnChange:!1,value:100*d.displayVolume,onChange:e=>{d.setVolume((0,a.n)(e/100))},children:[(0,l.jsx)(o.Uj,{borderWidth:"1px",borderColor:"#363030",background:r?"#363030":"#726e6c",children:(0,l.jsx)(o.Ms,{background:"rgba(244, 243, 239, 0.8)"})}),(0,l.jsx)(o.gs,{boxSize:"12px",background:"rgba(244, 243, 239, 1)",borderWidth:"1px",borderColor:"#363030"})]})})});t.Z=s},46575:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:15});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-10 h-10 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(5*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-50px"},children:(0,l.jsx)("img",{src:"/icons/cloud.svg",alt:"Cloud",className:"w-full h-full object-contain"})},t))})}},20783:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:10});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-10 h-10 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,l.jsx)("img",{src:"/icons/dog.svg",alt:"Dog",className:"w-full h-full object-contain"})},t))})}},15188:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:50});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-5 h-5 bg-cover opacity-80 animate-float",style:{backgroundImage:"url('/icons/heart.svg')",left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-20px"}},t))})}},57666:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:20});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-8 h-8 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,l.jsx)("img",{src:"/icons/tree-palm.svg",alt:"Palm Tree",className:"w-full h-full object-contain"})},t))})}},16378:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:10});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-8 h-8 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-100px"},children:(0,l.jsx)("img",{src:"/icons/gift.svg",alt:"Gift",className:"w-full h-full object-contain"})},t))})}},98719:function(e,t,n){var l=n(57437);n(2265),t.Z=()=>{let e=Array.from({length:15});return(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map((e,t)=>(0,l.jsx)("div",{className:"absolute w-6 h-6 opacity-80 animate-float",style:{left:"".concat(100*Math.random(),"%"),animationDuration:"".concat(3*Math.random()+5,"s"),animationDelay:"".concat(5*Math.random(),"s"),top:"-60px"},children:(0,l.jsx)("img",{src:"/icons/smile.svg",alt:"Smile",className:"w-full h-full object-contain"})},t))})}},21216:function(e,t,n){var l=n(57437),i=n(2265);t.Z=()=>{let[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=setInterval(()=>{t(e=>{let t=[...e];return t.length<50||t.shift(),t.push(Date.now()),t})},400);return()=>clearInterval(e)},[]),(0,l.jsx)("div",{className:"fixed inset-0 pointer-events-none z-[10000]",children:e.map(e=>(0,l.jsx)("div",{className:"absolute w-5 h-5 opacity-80",style:{left:"".concat(95*Math.random(),"%"),top:"".concat(95*Math.random(),"%"),animation:"sparkle 1s ease-in-out infinite"},children:(0,l.jsx)("img",{src:"/icons/star.svg",alt:"Star",className:"w-full h-full object-contain"})},e))})}},33706:function(e,t,n){n.d(t,{t:function(){return i}});let l=["Aura-01.jpg","Aura-02.jpg","Aura-03.jpg","Aura-04.jpg","Aura-06.jpg","Aura-07.jpg","Aura-08.jpg","Aura-10.jpg","Aura-11.jpg","Aura-12.jpg","Aura-13.jpg","Aura-14.jpg","Aura-16.jpg","Aura-17.jpg","Aura-18.jpg"],i=()=>{let e=Math.floor(Math.random()*l.length);return"/".concat(l[e])}},51798:function(e,t,n){var l=n(57437),i=n(2265);t.Z=e=>{let{label:t,tooltip:n,auraImage:a}=e,[o,s]=(0,i.useState)(!1),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=e=>{o&&r.current&&!r.current.contains(e.target)&&s(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[o]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"relative inline-block h-[20px]",ref:r,children:[(0,l.jsx)("div",{onClick:()=>s(!o),onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"auraAnimate px-2 cursor-default leading-[20px] ml-[4px] text-xs bg-tertiary font-semibold rounded",style:a?{backgroundImage:"url(".concat(a,")")}:{},children:(0,l.jsx)("span",{style:{textShadow:"1px 1px 3px black"},children:t})}),o&&(0,l.jsx)("div",{className:"absolute z-10 mt-[2px] ml-1 w-48 p-2 text-white bg-tertiary rounded shadow-lg left-0 font-sans font-xs border border-white border-opacity-20",children:n})]})})}},28922:function(e,t,n){var l=n(57437),i=n(84338),a=n(54410);t.Z=e=>{var t,n,o;let{clip:s,...r}=e,{session:d}=(0,i.mZ)(),c=null===(t=s.major_model_version)||void 0===t?void 0:t.toLowerCase();return(null===(n=s.metadata)||void 0===n?void 0:n.type)==="upload"&&(c="Uploaded"),(null===(o=s.metadata)||void 0===o?void 0:o.type)==="stem"&&(c="Stem"),(0,l.jsx)(l.Fragment,{children:d.isStaff&&s.model_name?(0,l.jsx)(a.Vp,{...r,children:d.getModelDisplayName(s.model_name)}):(0,l.jsx)(a.Vp,{...r,className:c,children:c})})}},20435:function(e,t,n){var l=n(57437);n(2265);var i=n(74340),a=n(99240),o=n(40191),s=n(6353),r=n(14063);t.Z=e=>{var t,n,d;let{clips:c}=e,u=1===c.length?(null===(t=c[0])||void 0===t?void 0:t.title)||(null===(d=c[0])||void 0===d?void 0:null===(n=d.metadata)||void 0===n?void 0:n.tags):"".concat(c.length," clips");return(0,l.jsx)(i.xu,{p:4,color:"white",bg:"red.400",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",width:"475px",children:(0,l.jsxs)(a.k,{alignItems:"center",flex:"1",children:[(0,l.jsxs)(o.x,{children:[(0,l.jsx)("b",{children:u})," ",1===c.length?"has":"have"," been removed from your account."]}),(0,l.jsx)(s.J,{as:r.l_A,ml:2})]})})}},638:function(e,t,n){var l=n(57437),i=n(2265),a=n(74340),o=n(40191),s=n(99240),r=n(6353),d=n(47414),c=n(14063);t.Z=e=>{var t;let{clips:n,isTrashed:u,undoTrash:p}=e,[m,x]=(0,i.useState)(!1),g=async()=>{m||(await p(),x(!0))},h=1===n.length?n[0]:void 0;return(0,l.jsxs)(a.xu,{p:4,color:"white",bg:"red.400",borderRadius:"md",display:"flex",alignItems:"center",justifyContent:"space-between",width:["320px","320px","475px"],children:[(0,l.jsxs)(a.xu,{flex:"1",children:[" ",(0,l.jsx)(o.x,{children:m?(0,l.jsxs)(s.k,{alignItems:"center",justifyContent:"center",display:"flex",children:[(0,l.jsx)(a.xu,{mb:2,children:" Your action has been undone."}),(0,l.jsx)(r.J,{as:c.l_A,ml:2,mb:2})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(o.x,{fontWeight:"bold",display:"inline",children:h?h.title?h.title:null==h?void 0:null===(t=h.metadata)||void 0===t?void 0:t.tags:"".concat(n.length," clips")}),u?" ".concat(h?"has":"have"," been moved to trash."):" ".concat(h?"has":"have"," been restored to your library.")]})})]}),!m&&(0,l.jsx)(d.z,{bg:"red.400",color:"white",onClick:g,children:(0,l.jsxs)(s.k,{alignItems:"center",children:[(0,l.jsx)(r.J,{as:c.wXW,marginRight:"2"}),"Undo"]})})]})}},63733:function(e,t,n){n.d(t,{L7:function(){return o},xz:function(){return s}});var l=n(89483),i=n(93786);function a(){let e=(0,l._)(["\n{\n  appBanner {\n    id\n    headline\n    text\n    link\n    subscribedHeadline\n    subscribedText\n    subscribedLink\n    active\n    uniqueId\n    dismissable\n  }\n  allChangelogItems(orderBy: datetime_DESC) {\n    title\n    datetime\n    description\n    tags\n    linkUrl\n    linkText\n  }\n}"]);return a=function(){return e},e}let o=new i.g6("https://graphql.datocms.com/",{headers:{authorization:"Bearer ".concat("da53930ab6fd57784427d948a6cf71")},fetch:async(e,t)=>fetch(e,{...t,next:{revalidate:120,tags:["dato"]}})});(0,i.Ps)(a());let s=async()=>{let e=await fetch("/api/cms");return await e.json()}},5443:function(e,t,n){n.d(t,{Q:function(){return i},R:function(){return l}});let l=e=>!!e.metadata.has_vocal,i=e=>{var t;return(null==e?void 0:null===(t=e.metadata)||void 0===t?void 0:t.type)==="stem"}},64058:function(e,t,n){n.d(t,{O:function(){return l}});let l=(e,t,n)=>{if(!e)return{};let l=e&&t!==n&&null!==t&&null!==n?e.map((e,t)=>[e,t]).filter(e=>e[0].start_s>(t||0)&&e[0].start_s<(n||0)||e[0].end_s>(t||0)&&e[0].end_s<(n||0)):null,i=null==l?void 0:l.map(e=>e[1]),a=null==i?void 0:i[0],o=null==i?void 0:i[((null==i?void 0:i.length)||0)-1],s=e.slice(0,a).map(e=>e.word).join("").length,r=e.slice(a,o+1).map(e=>e.word).join("").length+s;return{startIndex:s,endIndex:r}}},37720:function(e){e.exports=JSON.parse('[{"id":"Person","title":"Let\'s make a song to celebrate a special person in your life","buttonTitle":"Person","description":"Make a song about your mom, partner, best friend, or anyone else in your life.","content":["I\'m celebrating ",{"type":"input","field":"personName","placeholder":"NAME OF PERSON","maxLength":100}," my ",{"type":"input","field":"personRelationship","placeholder":"RELATIONSHIP TO PERSON","maxLength":100},".","My favorite thing about them is ",{"type":"input","field":"personFavoriteThing","placeholder":"FAVORITE THING ABOUT THEM","maxLength":100},","," and the funniest thing about them is ",{"type":"input","field":"personFunniestThing","placeholder":"FUNNIEST THING ABOUT THEM","maxLength":100},".","Their favorite genre of music is ",{"type":"input","field":"personGenre","placeholder":"GENRE","maxLength":100},"."],"template":"I\'m celebrating {personName} my {personRelationship}. My favorite thing about them is {personFavoriteThing}, and the funniest thing about them is {personFunniestThing}. Please write the song in {personGenre} genre."},{"id":"SpecialOccasions","title":"Let\'s make a song to celebrate a special occasion!","buttonTitle":"Special Occasions","description":"Make a song to celebrate a birthday, holiday, or other special life events.","content":["I\'m celebrating ",{"type":"input","field":"specialOccasionTitleOccasion","placeholder":"TITLE OF SPECIAL OCCASION","maxLength":125}," with/for ",{"type":"input","field":"specialOccasionName","placeholder":"NAME OF RECIPIENT","maxLength":125},". ","My favorite part about this day is ",{"type":"input","field":"specialOccasionFavoritePart","placeholder":"FAVORITE PART OF OCCASION","maxLength":125},", ","and my favorite genre of music is ",{"type":"input","field":"specialOccasionFavoriteGenre","placeholder":"GENRE OF MUSIC","maxLength":125},"."],"template":"I\'m celebrating {specialOccasionTitleOccasion} with/for {specialOccasionName}. My favorite part about this day is {specialOccasionFavoritePart} and my favorite genre of music is {specialOccasionFavoriteGenre}."},{"id":"Moods","title":"Let\'s make a song to match your mood","buttonTitle":"Moods","description":"Make a song to chill to, get hype to, or any vibe you want to feel.","content":["I\'m currently feeling ",{"type":"input","field":"moodsMood","placeholder":"MOOD","maxLength":166}," and I want to feel ",{"type":"input","field":"moodsDesiredMood","placeholder":"YOUR DESIRED MOOD","maxLength":166},".","My favorite genre of music is ",{"type":"input","field":"moodsGenre","placeholder":"GENRE","maxLength":166},"."],"template":"I\'m currently feeling {moodsMood} and I want to feel {moodsDesiredMood}. My favorite genre of music is {moodsGenre}. Please write the song in {moodsGenre} style."},{"id":"Activity","title":"Let\'s make a song to soundtrack your activity","buttonTitle":"Activity","description":"Make a song to jam to at your next group hangout or party.","content":["I\'m going to ",{"type":"input","field":"activityActivity","placeholder":"ACTIVITY","maxLength":125}," with ",{"type":"input","field":"activityPerson","placeholder":"PERSON","maxLength":125},".","The vibes we want to feel are ",{"type":"input","field":"activityDesiredMood","placeholder":"DESIRED MOOD","maxLength":125}," and our favorite genre of music is ",{"type":"input","field":"activityGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m going to {activityActivity} with {activityPerson}. The vibes we want to feel are {activityDesiredMood} and our favorite genre of music is {activityGenre}. Please write the song in {activityGenre} style."},{"id":"Greeting","title":"Let\'s make a song to give someone in your life a special greeting","buttonTitle":"Greeting","description":"Make a song to say thank you, congratulations, or get well soon.","content":["I\'m saying ",{"type":"input","field":"greetingGreeting","placeholder":"GREETING","maxLength":125}," to ",{"type":"input","field":"greetingName","placeholder":"NAME OF PERSON","maxLength":125},".","This person is special to me because ",{"type":"input","field":"greetingThing","placeholder":"THING YOU LOVE ABOUT THEM","maxLength":125},".","Their favorite genre of music is ",{"type":"input","field":"greetingGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m saying {greetingGreeting} to {greetingName}. This person is special to me because {greetingThing}. Please write the song in {greetingGenre} genre."},{"id":"Vacation","title":"Let\'s make a song to get excited for your upcoming trip","buttonTitle":"Vacation","description":"Make a song to get excited for your next fun trip.","content":["I\'m traveling to ",{"type":"input","field":"vacationPlace","placeholder":"NAME OF PLACE","maxLength":100}," in/on ",{"type":"input","field":"vacationDate","placeholder":"WHEN YOU WILL TRAVEL THERE","maxLength":100},".","When I get there, I\'m most excited to see ",{"type":"input","field":"vacationAttraction","placeholder":"NAME OF ATTRACTION","maxLength":100},","," eat ",{"type":"input","field":"vacationFood","placeholder":"NAME OF FOOD","maxLength":100},","," and try ",{"type":"input","field":"vacationActivity","placeholder":"ACTIVITY","maxLength":100},"."],"template":"I\'m traveling to {vacationPlace} when {vacationDate}. When I get there, I\'m most excited to see {vacationAttraction}, eat {vacationFood}, and try {vacationActivity}. Write a song about this, please."},{"id":"Scrapbook","title":"Let\'s make a song to commemorate your special memory","buttonTitle":"Scrapbook","description":"Make a song to commemorate your most treasured memories.","content":["I\'m celebrating the time that ",{"type":"input","field":"scrapbookPerson","placeholder":"NAME OF PERSON","maxLength":125}," ",{"type":"input","field":"scrapbookAction","placeholder":"WHAT THEY DID","maxLength":125},".","This memory is special because ",{"type":"input","field":"scrapbookReason","placeholder":"REASON","maxLength":125},".","Their favorite genre of music is ",{"type":"input","field":"scrapbookGenre","placeholder":"GENRE","maxLength":125},"."],"template":"I\'m celebrating the time that {scrapbookPerson} {scrapbookAction}. This memory is special because {scrapbookReason}. Their favorite genre of music is {scrapbookGenre}, write the song in this style."},{"id":"Pet","title":"Let\'s make a song to celebrate your pet and how they make your life better","buttonTitle":"Pet","description":"Make a song to celebrate how cute and quirky your pet is.","content":["My pet\'s name is ",{"type":"input","field":"petName","placeholder":"NAME OF PET","maxLength":100}," and they are a ",{"type":"input","field":"petType","placeholder":"TYPE OF PET","maxLength":100},".","They are ",{"type":"input","field":"petPhysical","placeholder":"PHYSICAL APPEARANCE","maxLength":100},","," and they always make me smile because ",{"type":"input","field":"petSmile","placeholder":"THING YOU LOVE ABOUT THEM","maxLength":100},".","If they listened to music, their favorite genre would be ",{"type":"input","field":"petGenre","placeholder":"GENRE","maxLength":100},"."],"template":"Write a song about my pet, {petName} which is a {petType}. They are a {petType}. I love their {petPhysical} and {petSmile}. Make the song in the genre {petGenre}."}]')}}]);