"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8944],{8944:function(e,l,t){t.r(l),t.d(l,{default:function(){return H}});var s=t(57437),i=t(2265),n=t(95430),a=t(84338),o=t(40323),r=t(79794),c=t(48026),d=t(29945),u=t(87138),v=t(59763),m=t(80545),x=t(25502),h=t(64874),p=t(6051),f=t(35193),g=t(89583),j=t(38582),y=t(40129),b=t(1633),w=t(66648),N=e=>{var l;let{category:t,imageUrl:n,onClick:o,useNextImage:r=!1}=e,{session:c}=(0,a.mZ)(),[d,u]=(0,i.useState)(!1);return(0,s.jsxs)("div",{className:"relative rounded-xl overflow-hidden shadow-lg cursor-pointer flex-shrink-0 h-[158px] w-[216px]",onClick:o,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(null===(l=c.flags)||void 0===l?void 0:l["next-image"])&&r?(0,s.jsx)("div",{className:"relative h-full w-full",children:(0,s.jsx)(w.default,{src:n,alt:t,className:"object-cover object-center w-full h-full",fill:!0,style:{transform:d?"scale(1.1)":"scale(1)",transition:"transform 0.3s ease-in-out"}})}):(0,s.jsx)(y.Z,{imageSize:b.PE,src:n,alt:t,className:"w-full h-full object-cover",style:{transform:d?"scale(1.1)":"scale(1)",transition:"transform 0.3s ease-in-out"}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black to-transparent opacity-30"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 p-4",children:(0,s.jsx)("h2",{className:"text-white text-[16px] font-sans font-medium bg-white/5 rounded-lg px-4 py-1 backdrop-blur-md",children:t})})]})},k=t(16463),C=t(67561);let _="h-3 bg-[#252020] dark:bg-[#363030] rounded-md",S=(0,n.Pi)(()=>(0,s.jsx)(v.E.div,{className:"py-4 w-full bg-vinylBlack-darker mb-0",children:(0,s.jsxs)("div",{className:"h-[340px]",children:[(0,s.jsxs)("div",{className:"w-full h-[240px] overflow-hidden animate-pulse",children:[(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")}),(0,s.jsx)("div",{className:"".concat(_," mb-4")})]}),(0,s.jsxs)("div",{className:"w-full h-[92px] overflow-hidden animate-pulse",children:[(0,s.jsx)("div",{className:"".concat(_," mb-5")}),(0,s.jsx)("div",{className:"".concat(_," mb-5")}),(0,s.jsx)("div",{className:"".concat(_," mb-5")})]})]})}));var L=e=>{let{onClick:l,text:t,label:i="",rightIcon:n,leftIcon:a}=e;return(0,s.jsxs)("button",{className:"font-sans text-lg cursor-pointer flex-row flex items-center gap-2 text-sm hover:underline",onClick:l,"aria-label":i,children:[a||null,t,n||null]})};let P={playlist:{widget:e=>{let{index:l,style:t,data:i}=e,{elements:n,playbar:o,setPreviewClip:r,contextId:c}=i,{clips:u,session:v}=(0,a.mZ)(),m=u.clipById[n[l].id];return(0,s.jsx)("div",{style:{...t,left:0===l?t.left:1.05*t.left},children:(0,s.jsx)(f.Z,{onClick:()=>{var e;if((null===(e=o.clip)||void 0===e?void 0:e.id)===(null==m?void 0:m.id)){o.togglePlay();return}r(m),o.queue.setPlayContext({clips:n,currentIndex:l,contextId:c,contextType:d.Q.FEED}),o.playClip(m),h.g.logPageEvent(v.userId||"",h.D.CLICK,i.sectionName||"",null,null,l,m.id,"song")},onPlay:()=>{var e;if((null===(e=o.clip)||void 0===e?void 0:e.id)===(null==m?void 0:m.id)){o.togglePlay();return}r(m),o.queue.setPlayContext({clips:n,currentIndex:l,contextId:c,contextType:d.Q.FEED}),o.playClip(m),h.g.logPageEvent(v.userId||"",h.D.CLICK,i.sectionName||"",null,null,l,m.id,"song")},clip:m,contextId:c,sunoShortType:(0,p.yL)(m,v)},l)})},width:170,height:22,cardHeight:16},user_list:{widget:e=>{let{index:l,style:t,data:i}=e,{elements:n}=i,{session:o}=(0,a.mZ)(),r=n[l];return(0,s.jsx)("div",{style:{...t,left:0===l?t.left:1.05*t.left},onClick:()=>{h.g.logPageEvent(o.userId||"",h.D.CLICK,i.sectionName||"",null,null,l,r.handle,"user")},children:(0,s.jsx)(g.Z,{display_name:r.display_name,avatar_image_url:r.avatar_image_url,handle:r.handle,followers_count:r.stats.followers_count})})},width:254,height:20.5,cardHeight:16.5},playlist_list:{widget:e=>{let{index:l,style:t,data:i}=e,{elements:n}=i,{session:o}=(0,a.mZ)(),r=n[l];return(0,s.jsx)("div",{style:{...t,left:0===l?t.left:1.05*t.left,height:"fit-content"},onClick:()=>{h.g.logPageEvent(o.userId||"",h.D.CLICK,i.sectionName||"",null,null,l,(null==r?void 0:r.id)||"","playlist")},children:(0,s.jsx)(j.Z,{playlist:r})})},width:170,height:18,cardHeight:13},style_list:{widget:e=>{let{index:l,style:t,data:i}=e,{elements:n}=i,{session:o}=(0,a.mZ)(),r=n[l],c=(0,k.useRouter)();return(0,s.jsx)("div",{style:{...t,left:0===l?t.left:1.05*t.left},onClick:()=>{h.g.logPageEvent(o.userId||"",h.D.CLICK,i.sectionName||"",null,null,l,r.name||"","category")},children:(0,s.jsx)(N,{category:(null==r?void 0:r.name)||"",imageUrl:(null==r?void 0:r.image_url)||"",onClick:()=>c.push("/style/".concat(r.name))})})},width:230,height:10,cardHeight:10}},E=(0,i.forwardRef)((e,l)=>(0,s.jsx)("section",{ref:l,...e,className:"w-full flex scroll-smooth h-auto overflow-x-auto [&::-webkit-scrollbar]:hidden [&::-webkit-overflow-scrolling]:touch-auto"}));E.displayName="CardContainer";let I=(0,n.Pi)(e=>{var l,t,n,h,p,f,g,j,y,b,w,N,_,I;let{playbar:Z,discover:U}=(0,a.mZ)(),{setPreviewClip:T}=(0,i.useContext)(c.Xm),D=(0,i.useRef)(null),M=(0,i.useRef)(null),[O,z]=(0,i.useState)(!1),[B,W]=(0,i.useState)(!1),[R,K]=(0,i.useState)(e.elements),[F,H]=(0,i.useState)(!1),[q,A]=(0,i.useState)(e.sectionLink),[G,V]=(0,i.useState)(e.sectionTitle),Y=(0,k.useRouter)(),[Q,X]=(0,i.useState)(null!==(y=null===(l=e.options)||void 0===l?void 0:l[0])&&void 0!==y?y:""),[J,$]=(0,i.useState)(null!==(b=null===(t=e.secondaryOptions)||void 0===t?void 0:t[0])&&void 0!==b?b:"");function ee(){if(M.current){if(M.current.scrollWidth!==M.current.clientWidth){z(M.current.scrollLeft>0);let e=M.current.scrollWidth-M.current.clientWidth;W(M.current.scrollLeft<e-1)}else z(!1),W(!1)}}return(0,i.useEffect)(()=>{var e;let l=()=>{if(M.current){let e=M.current.scrollWidth-M.current.clientWidth;z(M.current.scrollLeft>0),W(M.current.scrollLeft<e)}};return null===(e=M.current)||void 0===e||e.addEventListener("scroll",l),window.addEventListener("resize",ee),()=>{var e;null===(e=M.current)||void 0===e||e.removeEventListener("scroll",l),window.removeEventListener("resize",ee)}},[null===(n=M.current)||void 0===n?void 0:n.scrollWidth,null===(h=M.current)||void 0===h?void 0:h.clientWidth]),(0,s.jsx)(v.E.div,{className:"py-4 w-full bg-vinylBlack-darker mb-0 md:mb-8","aria-label":"section-".concat(G),onViewportEnter:()=>ee(),onLoad:()=>ee(),children:(0,s.jsxs)("div",{className:"w-full h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-between w-full mb-4",children:[q?(0,s.jsx)(u.default,{href:q,className:"w-auto",children:(0,s.jsx)(r.Z,{text:G})}):(0,s.jsx)(r.Z,{text:G}),(0,s.jsxs)("div",{className:"flex flex-row md:px-4 gap-2",children:[(0,s.jsx)("div",{className:"flex items-center px-1",children:null!==e.options&&(null!==(w=null===(p=e.options)||void 0===p?void 0:p.length)&&void 0!==w?w:0)>0&&(0,s.jsx)(C.Z,{selections:null!==(N=null===(f=e.options)||void 0===f?void 0:f.map(e=>({key:e,name:e})))&&void 0!==N?N:[],onChange:async l=>{var t,s,i,n,a,o,r,c;H(!0),X(l);let d=await U.sectionUpdate(e.sectionName,l,J);H(!1),d&&(null===(t=d.sections)||void 0===t?void 0:t.length)!=0&&(K(null!==(c=null==d?void 0:null===(i=d.sections)||void 0===i?void 0:null===(s=i[0])||void 0===s?void 0:s.items)&&void 0!==c?c:[]),A((null==d?void 0:null===(a=d.sections)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.link)||void 0),V((null==d?void 0:null===(r=d.sections)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.title)||""))}})}),(0,s.jsx)("div",{className:"flex items-center px-1",children:null!==e.secondaryOptions&&(null!==(_=null===(g=e.secondaryOptions)||void 0===g?void 0:g.length)&&void 0!==_?_:0)>0&&(0,s.jsx)(C.Z,{selections:null!==(I=null===(j=e.secondaryOptions)||void 0===j?void 0:j.map(e=>({key:e,name:e})))&&void 0!==I?I:[],onChange:async l=>{var t,s,i,n,a,o,r,c;H(!0),$(l);let d=await U.sectionUpdate(e.sectionName,Q,l);H(!1),d&&(null===(t=d.sections)||void 0===t?void 0:t.length)!=0&&(K(null!==(c=null==d?void 0:null===(i=d.sections)||void 0===i?void 0:null===(s=i[0])||void 0===s?void 0:s.items)&&void 0!==c?c:[]),A((null==d?void 0:null===(a=d.sections)||void 0===a?void 0:null===(n=a[0])||void 0===n?void 0:n.link)||void 0),V((null==d?void 0:null===(r=d.sections)||void 0===r?void 0:null===(o=r[0])||void 0===o?void 0:o.title)||""))}})})]}),q&&(0,s.jsx)("div",{className:"flex flex-1 flex-row-reverse pr-4",children:(0,s.jsx)(L,{text:"Show more",onClick:()=>{Y.push(q||"")}})})]}),(0,s.jsxs)("div",{ref:D,className:"w-full relative overflow-hidden",style:{height:"".concat(P[e.sectionType].height,"rem")},children:[F&&(0,s.jsx)(S,{}),!F&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{className:"absolute top-0 left-0 bg-gradient-to-r from-vinylBlack-darker via-vinylBlack-darker/75 to-transparent w-16 h-full z-[2] hidden sm:flex items-center justify-center transition ease-linear ".concat(O?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),"aria-label":"Scroll left",onClick:()=>{if(M.current){let e=Math.ceil(.5*M.current.clientWidth),l=M.current.scrollLeft-e;l>0&&l<e?M.current.scrollLeft=0:M.current.scrollLeft=l}},children:(0,s.jsx)("svg",{className:"w-6 fill-primary top-0 absolute",style:{height:"".concat(P[e.sectionType].cardHeight,"rem")},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,s.jsx)("path",{d:"M18.7 256l22.6 22.6 160 160 22.7 22.7 45.3-45.3-22.6-22.6L109.3 256l137.3-137.4L269.3 96 224 50.7l-22.6 22.7-160 160L18.7 256z"})})}),(0,s.jsx)(x.ZP,{children:l=>{let{height:t,width:n}=l;return(0,s.jsx)(m.t7,{height:t,itemCount:R.length,itemSize:P[e.sectionType].width,layout:"horizontal",width:n,itemData:{elements:R,playbar:Z,setPreviewClip:T,contextId:d.Q.FOLLOWING_FEED,clips:o.z3,sectionName:e.sectionName},outerElementType:E,outerRef:M,innerElementType:i.Fragment,style:{scrollbarWidth:"none"},children:P[e.sectionType].widget})}}),(0,s.jsx)("button",{className:"absolute top-0 right-0 bg-gradient-to-l from-vinylBlack-darker via-vinylBlack-darker/75 to-transparent w-16 h-full z-[2] hidden sm:flex items-center justify-center transition ease-linear ".concat(B?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"),"aria-label":"Scroll right",onClick:()=>{if(M.current){let e=Math.ceil(.5*M.current.clientWidth),l=M.current.scrollLeft+e,t=M.current.scrollWidth-M.current.clientWidth;l>t-e&&l<t?M.current.scrollLeft=t:M.current.scrollLeft=l}},children:(0,s.jsx)("svg",{className:"w-6 fill-primary top-0 absolute",style:{height:"".concat(P[e.sectionType].cardHeight,"rem")},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512",children:(0,s.jsx)("path",{d:"M301.3 256l-22.6 22.6-160 160L96 461.3 50.7 416l22.6-22.6L210.7 256 73.4 118.6 50.7 96 96 50.7l22.6 22.6 160 160 22.7 22.7z"})})})]})]})]})})}),Z="h-3 bg-[#252020] dark:bg-[#363030] rounded-md",U=(0,n.Pi)(()=>(0,s.jsx)(v.E.div,{className:"py-4 w-full bg-vinylBlack-darker mt-5 mb-0",children:(0,s.jsxs)("div",{className:"h-[448px]",children:[(0,s.jsx)("div",{className:"w-full overflow-hidden h-15",children:(0,s.jsx)("div",{className:"flex flex-row justify-between w-full mb-4",children:(0,s.jsxs)("div",{role:"status",className:"max-w-sm animate-pulse",children:[(0,s.jsx)("div",{className:"".concat(Z," w-48 mb-3")}),(0,s.jsx)("div",{className:"".concat(Z," max-w-[360px] mb-3")})]})})}),(0,s.jsxs)("div",{className:"w-full h-[240px] overflow-hidden animate-pulse",children:[(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")}),(0,s.jsx)("div",{className:"".concat(Z," mb-4")})]}),(0,s.jsxs)("div",{className:"w-full h-[92px] overflow-hidden animate-pulse",children:[(0,s.jsx)("div",{className:"".concat(Z," mb-5")}),(0,s.jsx)("div",{className:"".concat(Z," mb-5")}),(0,s.jsx)("div",{className:"".concat(Z," mb-5")})]})]})}));var T=t(13473),D=t(91033),M=t(92115),O=t(69548),z=t(93073),B=t(47495),W=t.n(B),R=()=>{let{isSignedIn:e}=(0,z.aC)(),l=(0,z.ll)(),[t,n]=(0,i.useState)(""),[a,o]=(0,i.useState)("");return(0,i.useEffect)(()=>{o((0,O.fm)((0,b.MT)()))},[]),e?null:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex flex-row items-center",children:[(0,s.jsx)("div",{className:"xl:mb-4 mt-4",children:(0,s.jsx)(r.Z,{text:"Make a song about anything"})}),(0,s.jsx)("div",{className:"flex-1 flex-row-reverse hidden xl:flex",children:(0,s.jsx)("span",{className:"font-sans text-sm text-lightGray",children:"(You'll need to sign up for a free account)"})})]}),(0,s.jsx)("div",{className:"flex flex-roflex-row-reverse xl:hidden mb-4",children:(0,s.jsx)("span",{className:"font-sans text-sm text-lightGray",children:"(You'll need to sign up for a free account)"})}),(0,s.jsxs)("div",{className:"bg-tertiary w-full rounded-full border-[0.5px] border-opacity-50 border-white flex flex-row p-2 pl-4 md:p-2 md:pl-8",children:[(0,s.jsx)("input",{className:"bg-tertiary outline-none shadow-none flex flex-1 text-base md:text-lg truncate font-sans",onChange:e=>{n(e.target.value)},placeholder:a,type:"text"}),(0,s.jsx)(D.Z,{onClick:()=>{let s=(null==t?void 0:t.trim())||a;h.g.track(M.Vy.clickedCreateSongLoggedOut,{promptLength:s.length}),!e&&W()("localStorage")&&(localStorage.setItem("prompt",s),localStorage.setItem("prompt_saved_at",Date.now().toString()),l.openSignUp({redirectUrl:"/create/"}))},text:"Create a Song",textExtraClasses:"hidden md:block",icon:"/create-new.svg",iconExtraClasses:"mr-0 md:mr-2"})]})]})},K=t(5637),F=t(87008),H=(0,n.Pi)(()=>{let{discover:e,session:l,experiments:t,genForm:n}=(0,a.mZ)(),o=(0,k.useRouter)(),[r,d]=(0,i.useState)(0),[u,v]=(0,i.useState)(!1),[m,x]=(0,i.useState)(0),[p,f]=(0,i.useState)(1),[g,j]=(0,i.useState)(!0),[y,b]=(0,i.useState)(0),w=async()=>{h.g.logPageEvent(l.userId||"",h.D.SCROLL,null,r+p,null,null,null,"page");let t=await e.fetch(r,3);if(d(r+3),t)return x(t.total_sections),t};(0,i.useEffect)(()=>{(y==e.discoverSections.length||e.discoverSections.length<m)&&r<m&&C()},[r,m]);let N=async()=>{var t;h.g.logPageEvent(l.userId||"",h.D.SCROLL,null,r+p,null,null,null,"page");let s=await e.sectionUpdate("basic_genre_songs",null,null,p);if(s){if(f(p+1),(null===(t=s.sections)||void 0===t?void 0:t.length)==0){j(!1);return}e.discoverSections=e.discoverSections.concat(s.sections)}};(0,i.useEffect)(()=>{!1===u&&(v(!0),(async()=>{await w(),v(!1)})())},[]);let C=async()=>{if(r<m){v(!0);let e=async()=>{await w(),v(!1)};await e()}else{v(!0);let e=async()=>{await N(),v(!1)};await e()}},{ref:_}=(0,T.YD)({threshold:0,onChange:async l=>{l&&!u&&(b(e.discoverSections.length),await C())}});return(0,s.jsxs)("div",{className:"p-4 h-full w-full bg-vinylBlack-darker overflow-y-scroll",children:[(0,s.jsx)(K.Z,{title:"Create a Cover from any sound!",subtitle:"Reimagine the melodies you love. Right Click > Create > Cover Song",subtitleMobile:"Reimagine the melodies you love. Open the song menu and click Cover Song",id:"cover-songs-promo",icon:F.RZ,onClick:()=>{var e,l,s,i,a,r;if(((null===(s=t.experiments)||void 0===s?void 0:null===(l=s[c.x3||""])||void 0===l?void 0:null===(e=l.data)||void 0===e?void 0:e.top_clips)||[]).length>0){let e=null===(r=t.experiments)||void 0===r?void 0:null===(a=r[c.x3||""])||void 0===a?void 0:null===(i=a.data)||void 0===i?void 0:i.top_clips[0];n.reset(),requestAnimationFrame(()=>{var l;n.setTask("cover"),n.setCoverClip(e),n.setLyrics((null==e?void 0:null===(l=e.metadata)||void 0===l?void 0:l.prompt)||"")}),o.push("/create")}else o.push("/create")}}),(0,s.jsx)(R,{}),!l.userId&&(0,s.jsx)("div",{className:"p-2"}),0===e.discoverSections.length&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(U,{}),(0,s.jsx)(U,{}),(0,s.jsx)(U,{})]}),0!==e.discoverSections.length&&e.discoverSections.map((l,t)=>(0,s.jsxs)(i.Fragment,{children:[t==Math.max(0,e.discoverSections.length-2)&&(0,s.jsx)("div",{ref:_}),(0,s.jsx)(I,{sectionTitle:l.title,elements:l.items,sectionType:l.section_type,sectionLink:l.link,options:l.options,sectionName:l.section_name,selectedOption:l.selected_option,secondaryOptions:l.secondary_options,selectedSecondaryOption:l.selected_secondary_options},l.id)]},t)),e.discoverSections.length>0&&u&&g&&(0,s.jsx)("div",{className:"flex justify-center items-center",children:(0,s.jsx)(U,{})})]})})},89583:function(e,l,t){t.d(l,{Z:function(){return r}});var s=t(57437),i=t(40129),n=t(1633),a=t(69548),o=t(16463);function r(e){let{display_name:l,avatar_image_url:t,handle:r,followers_count:c}=e,d=(0,o.useRouter)(),u=async()=>{d.push("/@".concat(r))};return(0,s.jsxs)("div",{onClick:u,title:l||"@".concat(r),className:"relative w-64 h-full flex flex-col gap-4 rounded-lg hover:bg-neutral-900 ease-in-out transition cursor-pointer p-4",children:[(0,s.jsx)("div",{className:"relative w-full h-auto aspect-square rounded-full",children:(0,s.jsx)(i.Z,{className:"object-cover w-full h-auto aspect-square rounded-full",imageSize:n.PE,width:224,height:224,alt:l||"@".concat(r),src:t,style:{position:"relative"}})}),(0,s.jsxs)("div",{className:"w-full h-full flex flex-col",children:[(0,s.jsx)("h2",{className:"font-semibold text-lg text-secondary font-sans overflow-hidden whitespace-nowrap text-ellipsis",children:l||"@".concat(r)}),(0,s.jsx)("span",{className:"font-normal font-sans line-clamp-1 text-sm",children:"@".concat(r)}),(0,s.jsxs)("span",{title:"".concat(c," ").concat(1===c?"follower":"followers"),className:"text-sm text-secondary/75 font-mono",children:[(0,a.Hl)(c)," ",1===c?"follower":"followers"]})]})]})}},84425:function(e,l,t){var s=t(57437);t(2265);var i=t(44839),n=t(87008);l.Z=e=>{let{className:l,icon:t,...a}=e;return(0,s.jsx)("button",{className:(0,i.Z)("flex items-center justify-center","rounded-full p-4 w-14 h-14","backdrop-blur-lg bg-vinylBlack-darker/50 text-current","border-none outline-none",l),...a,children:"playing"===t?(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("div",{className:"w-1 h-4 bg-current animate-wave1"}),(0,s.jsx)("div",{className:"w-1 h-4 bg-current animate-wave2"}),(0,s.jsx)("div",{className:"w-1 h-4 bg-current animate-wave3"})]}):"pause"===t?(0,s.jsx)(n.fp,{className:"w-6 h-6"}):(0,s.jsx)(n.o1,{className:"w-[15px] h-[15px]"})})}},5637:function(e,l,t){t.d(l,{Z:function(){return p}});var s=t(57437),i=t(95430),n=t(2265),a=t(47495),o=t.n(a),r=t(87138),c=t(39350),d=t(87008),u=t(67328),v=e=>{let{title:l,subtitle:t,titleMobile:i,subtitleMobile:n,link:a,onClose:o,onClick:v,isExternalLink:m=!1,icon:x,trackLinkOpen:h}=e,p=x||d.zS,f=(0,s.jsxs)("div",{className:"rounded-full h-auto py-2 sm:py-4 lg:py-4 flex flex-row items-center flex-1 bg-tertiary hover:bg-quaternary",children:[(0,s.jsxs)("div",{className:"flex-shrink-0 w-10 h-10 sm:w-14 sm:h-14 ml-3 sm:ml-6 rounded-full overflow-hidden relative",children:[(0,s.jsx)("img",{src:"/create-button-background.svg",className:"object-cover absolute inset-0 w-full h-full z-10"}),(0,s.jsx)("img",{src:"/grain.png",className:"absolute inset-0 w-full h-full object-cover opacity-70 z-20"}),(0,s.jsx)(p,{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-30 w-[14px] h-[14px] sm:w-[18px] sm:h-[18px] fill-primary"})]}),(0,s.jsxs)("div",{className:"flex flex-col flex-1 gap-0.5 sm:gap-1 ml-2 sm:ml-4 w-auto",children:[(0,s.jsxs)("span",{className:"text-[14px] sm:text-[14px] lg:text-base font-medium text-primary font-sans",children:[(0,s.jsx)(u.i,{children:i||l}),(0,s.jsx)(u.N,{children:l})]}),(0,s.jsxs)("span",{className:"text-[12px] sm:text-xs md:text-sm lg:text-sm font-normal text-primary font-sans",children:[(0,s.jsx)(u.i,{children:n||t}),(0,s.jsx)(u.N,{children:t})]})]}),o?(0,s.jsx)("button",{className:"flex flex-0 flex-row-reverse mr-6","aria-label":"Close",onClick:e=>{o(e),e.preventDefault(),e.stopPropagation()},children:(0,s.jsx)(c.Pd.Provider,{value:{className:"stroke-secondary fill-secondary cursor-pointer hover:stroke-primary hover:fill-primary"},children:(0,s.jsx)("div",{className:"flex items-center justify-center w-10 h-10 rounded-full hover:bg-secondary/20 transition-colors duration-300",children:(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"w-4 h-4 text-white",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})})}):null]});return a?m?(0,s.jsx)("a",{href:a,target:"_blank",onClick:()=>{h&&h(a)},children:(0,s.jsx)("div",{className:"w-full flex",children:f})}):(0,s.jsx)(r.default,{href:a,className:"cursor-pointer",onClick:()=>{h&&h(a)},children:f}):v?(0,s.jsx)("div",{className:"cursor-pointer",onClick:e=>{h&&h("onClick"),v(e)},children:(0,s.jsx)("div",{className:"w-full flex",children:f})}):f},m=t(64874),x=t(16463),h=t(84338),p=(0,i.Pi)(e=>{let{title:l,subtitle:t,titleMobile:i,subtitleMobile:a,link:r,id:c,onClose:d,isExternalLink:u=!1,withWrapperClasses:p,icon:f,onClick:g}=e,j=o()("localStorage")?localStorage.getItem("dismissed_app_banner_".concat(c)):null,[y,b]=(0,n.useState)("1"===j),{session:w}=(0,h.mZ)(),N=(0,x.usePathname)();if((0,n.useEffect)(()=>{var e;"1"===j||y||m.g.logWebPageEvent({userId:null!==(e=null==w?void 0:w.userId)&&void 0!==e?e:"",eventType:m.D.OPEN,element:"banner",method:"auto",entityType:"banner",entityId:c,pageUrl:N})},[]),y)return null;let k=(0,s.jsx)(v,{id:c,title:l,titleMobile:i,subtitle:t,subtitleMobile:a,link:r,isExternalLink:u,onClose:e=>{var l;e.stopPropagation(),b(!0),o()("localStorage")&&localStorage.setItem("dismissed_app_banner_".concat(c),"1"),m.g.logWebPageEvent({userId:null!==(l=null==w?void 0:w.userId)&&void 0!==l?l:"",eventType:m.D.CLICK,element:"banner_close_button",method:"button",entityType:"banner",entityId:c,pageUrl:N}),d&&d()},icon:f,trackLinkOpen:e=>{var l;m.g.logWebPageEvent({userId:null!==(l=null==w?void 0:w.userId)&&void 0!==l?l:"",eventType:m.D.CLICK,element:"banner_link",method:"link",entityType:"banner",entityId:c,pageUrl:N,secondaryElement:e})},onClick:g});return p?(0,s.jsx)("div",{className:p,children:k}):k})},38582:function(e,l,t){var s=t(57437),i=t(95430),n=t(2265),a=t(81623),o=t(87138),r=t(40129),c=t(69548),d=t(39350),u=t(44660),v=t(84338),m=t(1633),x=t(66648);let h=()=>{let e=["/placeholder-1.jpg","/placeholder-2.jpg","/placeholder-3.jpg"],[l]=(0,n.useState)(()=>e[Math.floor(Math.random()*e.length)]);return l},p=(0,i.Pi)(e=>{var l,t,i,p;let{playlist:f,useNextImage:g=!1}=e,{library:j,session:y}=(0,v.mZ)(),b=h(),[w,N]=(0,n.useState)((null==f?void 0:f.reaction)==="L"),[k,C]=(0,n.useState)(null==f?void 0:f.upvote_count),_=(null==f?void 0:f.image_url)||(null==f?void 0:null===(i=f.playlist_clips)||void 0===i?void 0:null===(t=i[0])||void 0===t?void 0:null===(l=t.clip)||void 0===l?void 0:l.image_url)||(null==f?void 0:f.image)||b,{data:S}=(0,u.YZ)(_||"",2,"hex",{crossOrigin:"cross-origin"}),L=async e=>{let l=w?"LIKE":"DISLIKE",t=l===e?null:e;N("LIKE"===t),C(k+("LIKE"===t?1:-1));let{response:s}=await j.apiClient.POST("/api/playlist_reaction/{playlist_id}/update_reaction_type/",{params:{path:{playlist_id:null==f?void 0:f.id}},body:{reaction:t}});s.ok||(N("LIKE"===l),C(k))};return(0,s.jsx)("div",{className:"".concat((null==f?void 0:f.title)?"pb-8":""),children:(0,s.jsxs)("div",{className:"flex flex-col w-40 items-center group",children:[(0,s.jsxs)(o.default,{className:"w-full flex flex-col items-center",href:"/playlist/".concat(null==f?void 0:f.id),children:[(0,s.jsxs)("div",{className:"rounded-xl overflow-hidden h-32 w-32 z-1 transition duration-300 ease-in-out group-hover:-translate-y-1 relative",children:[(0,s.jsx)("div",{className:"w-full h-full",style:{backgroundColor:null==S?void 0:S[1]}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20"}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black transition-opacity bg-opacity-60 group-hover:bg-opacity-70 transition-group-opacity duration-1000 ease-in-out"})," "]}),(0,s.jsxs)("div",{className:"rounded-xl overflow-hidden h-36 w-36 -mt-[120px] shadow-[0px_-2px_2px_rgba(0,0,0,0.5)] z-2 transition duration-300 ease-in-out group-hover:-translate-y-2 relative",children:[(0,s.jsx)("div",{className:"w-full h-full",style:{backgroundColor:null==S?void 0:S[0]}}),(0,s.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-20"})]}),(0,s.jsxs)("div",{className:"rounded-xl overflow-hidden h-40 w-40 -mt-[130px] mb-4 shadow-[0px_-2px_2px_rgba(0,0,0,0.5)] z-3 transition-transform duration-300 ease-in-out group-hover:-translate-y-3 relative",children:[void 0!==k?(0,s.jsxs)("button",{"aria-label":"Like playlist button",onClick:()=>L("LIKE"),className:"rounded-md backdrop-blur-lg flex flex-row text-[10px] ".concat(w?"bg-white/45 text-vinylBlack-darker":"bg-vinylBlack-darker/50 text-secondary"," gap-1 items-center px-2 py-1 font-mono font-bold shadow-lg hover:bg-gray-800/30 absolute bottom-2 left-2"),children:[(0,s.jsx)(d.Pd.Provider,{value:{className:w?"stroke-white fill-white":"stroke-lightGray fill-lightGray"},children:(0,s.jsx)(r.Z,{src:w?"/icons/thumbs-up-dark.svg":"/icons/thumbs-up-active.svg",alt:"Like",width:14,height:14,shouldFallback:!1})}),(0,c.Hl)(k)]}):null,(null===(p=y.flags)||void 0===p?void 0:p["next-image"])&&g?(0,s.jsx)("div",{className:"relative h-full w-full",children:(0,s.jsx)(x.default,{src:_||"",alt:"Image for ".concat((null==f?void 0:f.name)||(null==f?void 0:f.title)),className:"object-cover object-center w-full h-full",fill:!0})}):(0,s.jsx)(r.Z,{className:"object-cover h-40 w-40",imageSize:m.PE,src:_,alt:"Image for ".concat((null==f?void 0:f.name)||(null==f?void 0:f.title))})]})]}),(0,s.jsx)(a.Z,{title:(null==f?void 0:f.name)||(null==f?void 0:f.title)||"Untitled Playlist",subtitle:(null==f?void 0:f.description)||"",artistTagProps:{displayName:null==f?void 0:f.user_display_name,handle:(null==f?void 0:f.user_handle)||(null==f?void 0:f.user_id),imageUrl:null==f?void 0:f.user_avatar_image_url,showAvatar:!!(null==f?void 0:f.user_avatar_image_url)},link:"/playlist/".concat(null==f?void 0:f.id),isSongCard:!1,isPlaylistCard:!0,playlist:f})]})})});l.Z=p},35193:function(e,l,t){t.d(l,{Z:function(){return C}});var s=t(57437),i=t(2265),n=t(44839),a=t(95430),o=t(16463),r=t(39350),c=t(93073),d=t(1633),u=t(64874),v=t(92115),m=t(69548),x=t(2550),h=t(84338),p=t(40323),f=t(6051),g=t(87008),j=t(40129),y=e=>{let{children:l,fullWidth:t,icon:i,isActive:a,...o}=e,r=(0,n.Z)(["flex-row items-center gap-1","rounded-md px-2 py-1","font-mono font-bold text-[11px]",{"text-primary backdrop-blur-lg bg-vinylBlack-darker/50 shadow-lg":!a,"text-vinylBlack-darker backdrop-blur-lg bg-white/75 shadow-lg":a,"flex w-full":t,"inline-flex w-auto":!t,"hover:bg-gray-800/30":e.onClick&&!a},e.className]);return e.onClick?(0,s.jsxs)("button",{...o,className:r,children:[i&&(0,s.jsx)("div",{children:i}),(0,s.jsx)("div",{children:l})]}):(0,s.jsxs)("div",{...o,className:r,children:[i&&(0,s.jsx)("div",{children:i}),(0,s.jsx)("div",{children:l})]})},b=t(84425),w=t(81623),N=t(66162);let k=e=>{let{alt:l="",imageUrl:t,videoUrl:a,duration:o,playCount:c,upvoteCount:u,isCurrentSong:v,isPlaying:x,isLiked:h,sunoShortType:p,onMouseEnter:w,onMouseLeave:k,onPlayPauseClick:C,onLikeClick:_}=e,[S,L]=(0,i.useState)(!1),P=(0,i.useCallback)(e=>{L(!0),null==w||w(e)},[w]),E=(0,i.useCallback)(e=>{L(!1),null==k||k(e)},[k]),I=p==f.vS.VIDEO&&a,Z=p==f.vS.IMAGE,U=S||v;return(0,s.jsxs)("div",{className:"relative mb-4 cursor-pointer",onPointerUp:C,onMouseEnter:P,onMouseLeave:E,children:[(0,s.jsxs)("div",{className:(0,n.Z)("relative overflow-hidden rounded-xl h-60 w-full border-2",{"border-primary":v,"border-vinylBlack-darker":!v}),children:[(0,s.jsx)(j.Z,{className:"absolute inset-0 w-full h-full object-cover",src:t,alt:l,imageSize:p?void 0:d.PE}),I&&(0,s.jsx)(N.Z,{videoUrl:a,className:"absolute inset-0 w-full h-full object-cover",isCurrentSong:v})]}),(0,s.jsxs)("div",{className:"overflow-hidden absolute inset-0",children:[(0,s.jsx)(b.Z,{className:(0,n.Z)("absolute top-1.5 end-1.5 transition[transform,opacity] duration-150",{"-translate-y-full opacity-0":!U,"translate-y-0 opacity-1":U}),icon:v&&x?S?"pause":"playing":"play"}),(0,s.jsx)(r.Pd.Provider,{value:{className:"stroke-white fill-white"},children:(0,s.jsxs)("div",{className:"absolute inset-x-2 bottom-2 flex flex-row gap-1",children:[(0,s.jsx)(y,{"aria-label":"Play button with play count",onClick:C,onPointerUp:e=>{e.preventDefault(),e.stopPropagation()},icon:(0,s.jsx)(g.o1,{className:"w-[14px] h-[14px]"}),children:(0,m.Hl)(c||0)}),(0,s.jsx)(y,{"aria-label":"Like button with like count",onClick:_,onPointerUp:e=>{e.preventDefault(),e.stopPropagation()},isActive:h,icon:(0,s.jsx)(g.lb,{className:"w-[14px] h-[14px]"}),children:(0,m.Hl)(u||0)})]})}),(0,s.jsx)("div",{className:"absolute inset-x-2 top-2",children:(0,s.jsx)(y,{icon:I?(0,s.jsx)(g.Od,{className:"w-[14px] h-[14px]"}):Z?(0,s.jsx)(g.XB,{className:"w-[14px] h-[14px]"}):void 0,children:(0,f.LU)(o)})})]})]})};var C=(0,a.Pi)(e=>{var l,t,n,a,r,d,m;let{clip:g,onPlay:j,contextId:y,sunoShortType:b}=e,{clips:N,playbar:C,queue:_,session:S}=(0,h.mZ)(),[L,P]=(0,i.useState)(!1),[E,I]=(0,i.useState)(null==g?void 0:g.upvote_count),Z=(0,o.usePathname)();(0,i.useEffect)(()=>{P((0,p.ip)(g))},[g]),(0,i.useEffect)(()=>{I(null==g?void 0:g.upvote_count)},[null==g?void 0:g.upvote_count]);let{isSignedIn:U}=(0,c.aC)(),T=(0,c.ll)(),D=(0,i.useMemo)(()=>{var e;return(null===(e=C.clip)||void 0===e?void 0:e.id)===(null==g?void 0:g.id)&&(_.contextId||null)===(y||null)},[null===(l=C.clip)||void 0===l?void 0:l.id,_.contextId,y]);if(!g)return null;let M=(0,x.U_)(S)&&(null===(t=g.metadata)||void 0===t?void 0:t.negative_tags)?(0,f.UL)(null===(n=g.metadata)||void 0===n?void 0:n.tags,null===(a=g.metadata)||void 0===a?void 0:a.negative_tags):null===(r=g.metadata)||void 0===r?void 0:r.tags;return(0,s.jsxs)("div",{className:"relative flex flex-col w-[160px] flex-shrink-0 overflow-hidden cursor-pointer",children:[(0,s.jsx)(k,{alt:"Image for ".concat(g.title||"Untitled"),imageUrl:g.image_url,videoUrl:null===(d=g.metadata)||void 0===d?void 0:d.video_to_song_video_upload_url,duration:null===(m=g.metadata)||void 0===m?void 0:m.duration,playCount:g.play_count,upvoteCount:E,isCurrentSong:D,isPlaying:D&&C.isPlaying,isLiked:!!L,sunoShortType:b,onPlayPauseClick:e=>{e.stopPropagation(),e.preventDefault(),D?C.togglePlay():j&&j()},onLikeClick:e=>{if(e.stopPropagation(),e.preventDefault(),U){if(N.isUpdatingClipReaction)return;let e=!(0,p.ip)(g);N.likeClip(null==g?void 0:g.id,e),P(e),I(l=>Math.max((l||0)+(e?1:-1),0)),u.g.logAudioActionEvent(!1,L?v.OF.undoLikeSong:v.OF.likeSong,g,S,Z),u.g.track(v.Vy.likeSongBtnClick,{clipId:null==g?void 0:g.id,isUserSongOwner:(null==S?void 0:S.userId)!==void 0&&(null==g?void 0:g.user_id)===(null==S?void 0:S.userId),isLike:!L,isMobile:!1})}else T.openSignUp({redirectUrl:"/"})}}),(0,s.jsx)(w.Z,{clip:g,title:g.title||"Untitled",link:"/song/".concat(g.id),subtitle:M||"(no style)",isClipMetadata:!0,artistTagProps:{displayName:g.display_name,handle:g.handle,imageUrl:g.avatar_image_url||void 0},isSongCard:!0})]})})}}]);